{"version":3,"file":"index-CUuMpxtO.js","sources":["../node_modules/react-dom/client.js","../node_modules/@radix-ui/react-compose-refs/dist/index.mjs","../node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/class-variance-authority/node_modules/clsx/dist/clsx.mjs","../node_modules/class-variance-authority/dist/index.mjs","../node_modules/clsx/dist/clsx.mjs","../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../src/lib/utils.ts","../src/components/ui/button.tsx","../node_modules/lucide-react/dist/esm/shared/src/utils.js","../node_modules/lucide-react/dist/esm/defaultAttributes.js","../node_modules/lucide-react/dist/esm/Icon.js","../node_modules/lucide-react/dist/esm/createLucideIcon.js","../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../node_modules/lucide-react/dist/esm/icons/brain.js","../node_modules/lucide-react/dist/esm/icons/calendar.js","../node_modules/lucide-react/dist/esm/icons/check.js","../node_modules/lucide-react/dist/esm/icons/clock.js","../node_modules/lucide-react/dist/esm/icons/map-pin.js","../node_modules/lucide-react/dist/esm/icons/quote.js","../node_modules/lucide-react/dist/esm/icons/target.js","../node_modules/lucide-react/dist/esm/icons/zap.js","../node_modules/framer-motion/dist/es/render/components/create-proxy.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","../node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","../node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","../node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","../node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","../node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","../node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../node_modules/framer-motion/dist/es/animation/utils/get-value-transition.mjs","../node_modules/framer-motion/dist/es/utils/GlobalConfig.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../node_modules/framer-motion/dist/es/utils/noop.mjs","../node_modules/framer-motion/dist/es/frameloop/batcher.mjs","../node_modules/framer-motion/dist/es/frameloop/render-step.mjs","../node_modules/framer-motion/dist/es/frameloop/frame.mjs","../node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","../node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","../node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","../node_modules/framer-motion/dist/es/easing/back.mjs","../node_modules/framer-motion/dist/es/easing/anticipate.mjs","../node_modules/framer-motion/dist/es/easing/circ.mjs","../node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","../node_modules/framer-motion/dist/es/utils/errors.mjs","../node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","../node_modules/framer-motion/dist/es/utils/clamp.mjs","../node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","../node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","../node_modules/framer-motion/dist/es/render/utils/KeyframesResolver.mjs","../node_modules/framer-motion/dist/es/value/types/utils/sanitize.mjs","../node_modules/framer-motion/dist/es/value/types/utils/float-regex.mjs","../node_modules/framer-motion/dist/es/value/types/utils/single-color-regex.mjs","../node_modules/framer-motion/dist/es/value/types/color/utils.mjs","../node_modules/framer-motion/dist/es/value/types/utils/is-nullish.mjs","../node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","../node_modules/framer-motion/dist/es/value/types/color/hex.mjs","../node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","../node_modules/framer-motion/dist/es/value/types/color/index.mjs","../node_modules/framer-motion/dist/es/value/types/utils/color-regex.mjs","../node_modules/framer-motion/dist/es/value/types/complex/index.mjs","../node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/number-browser.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/transform.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../node_modules/framer-motion/dist/es/render/html/utils/make-none-animatable.mjs","../node_modules/framer-motion/dist/es/render/dom/DOMKeyframesResolver.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","../node_modules/framer-motion/dist/es/animation/generators/utils/is-generator.mjs","../node_modules/framer-motion/dist/es/frameloop/sync-time.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../node_modules/framer-motion/dist/es/animation/animators/BaseAnimation.mjs","../node_modules/framer-motion/dist/es/animation/animators/utils/can-animate.mjs","../node_modules/framer-motion/dist/es/utils/progress.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/linear.mjs","../node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","../node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../node_modules/framer-motion/dist/es/animation/generators/spring/defaults.mjs","../node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","../node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","../node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","../node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","../node_modules/framer-motion/dist/es/easing/ease.mjs","../node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","../node_modules/framer-motion/dist/es/easing/utils/map.mjs","../node_modules/framer-motion/dist/es/utils/pipe.mjs","../node_modules/framer-motion/dist/es/utils/mix/number.mjs","../node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../node_modules/framer-motion/dist/es/utils/mix/immediate.mjs","../node_modules/framer-motion/dist/es/utils/mix/color.mjs","../node_modules/framer-motion/dist/es/utils/mix/visibility.mjs","../node_modules/framer-motion/dist/es/utils/mix/complex.mjs","../node_modules/framer-motion/dist/es/utils/mix/index.mjs","../node_modules/framer-motion/dist/es/utils/interpolate.mjs","../node_modules/framer-motion/dist/es/utils/offsets/default.mjs","../node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","../node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","../node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../node_modules/framer-motion/dist/es/utils/offsets/time.mjs","../node_modules/framer-motion/dist/es/animation/animators/drivers/driver-frameloop.mjs","../node_modules/framer-motion/dist/es/animation/animators/MainThreadAnimation.mjs","../node_modules/framer-motion/dist/es/animation/animators/utils/accelerated-values.mjs","../node_modules/framer-motion/dist/es/utils/memo.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/supports-flags.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/memo-supports.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/supports-linear-easing.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/attach-timeline.mjs","../node_modules/framer-motion/dist/es/animation/animators/waapi/utils/supports-waapi.mjs","../node_modules/framer-motion/dist/es/animation/animators/AcceleratedAnimation.mjs","../node_modules/framer-motion/dist/es/render/dom/scroll/supports.mjs","../node_modules/framer-motion/dist/es/animation/GroupPlaybackControls.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","../node_modules/framer-motion/dist/es/animation/utils/is-transition-defined.mjs","../node_modules/framer-motion/dist/es/utils/array.mjs","../node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../node_modules/framer-motion/dist/es/value/index.mjs","../node_modules/framer-motion/dist/es/render/utils/setters.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","../node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","../node_modules/framer-motion/dist/es/animation/optimized-appear/get-appear-id.mjs","../node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../node_modules/framer-motion/dist/es/value/use-will-change/add-will-change.mjs","../node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","../node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","../node_modules/framer-motion/dist/es/render/utils/get-variant-context.mjs","../node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","../node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","../node_modules/framer-motion/dist/es/motion/features/Feature.mjs","../node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","../node_modules/framer-motion/dist/es/motion/features/animations.mjs","../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","../node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","../node_modules/framer-motion/dist/es/events/event-info.mjs","../node_modules/framer-motion/dist/es/events/add-dom-event.mjs","../node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","../node_modules/framer-motion/dist/es/utils/distance.mjs","../node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","../node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","../node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","../node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","../node_modules/framer-motion/dist/es/projection/geometry/models.mjs","../node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","../node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","../node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","../node_modules/framer-motion/dist/es/projection/utils/measure.mjs","../node_modules/framer-motion/dist/es/utils/get-context-window.mjs","../node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","../node_modules/framer-motion/dist/es/gestures/pan/index.mjs","../node_modules/framer-motion/dist/es/context/PresenceContext.mjs","../node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","../node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","../node_modules/framer-motion/dist/es/projection/node/state.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","../node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","../node_modules/framer-motion/dist/es/frameloop/microtask.mjs","../node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","../node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","../node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","../node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","../node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","../node_modules/framer-motion/dist/es/projection/shared/stack.mjs","../node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","../node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","../node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","../node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","../node_modules/framer-motion/dist/es/utils/delay.mjs","../node_modules/framer-motion/dist/es/animation/animate/single-value.mjs","../node_modules/framer-motion/dist/es/projection/styles/transform.mjs","../node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","../node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","../node_modules/framer-motion/dist/es/motion/features/drag.mjs","../node_modules/framer-motion/dist/es/gestures/drag/index.mjs","../node_modules/framer-motion/dist/es/gestures/hover.mjs","../node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","../node_modules/framer-motion/dist/es/gestures/press.mjs","../node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","../node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","../node_modules/framer-motion/dist/es/motion/features/gestures.mjs","../node_modules/framer-motion/dist/es/gestures/focus.mjs","../node_modules/framer-motion/dist/es/motion/features/layout.mjs","../node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","../node_modules/framer-motion/dist/es/utils/is-browser.mjs","../node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../node_modules/framer-motion/dist/es/context/LazyContext.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","../node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","../node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","../node_modules/framer-motion/dist/es/motion/features/definitions.mjs","../node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","../node_modules/framer-motion/dist/es/motion/index.mjs","../node_modules/framer-motion/dist/es/motion/features/load-features.mjs","../node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","../node_modules/framer-motion/dist/es/render/html/utils/render.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","../node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","../node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","../node_modules/framer-motion/dist/es/utils/use-constant.mjs","../node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","../node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","../node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","../node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","../node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","../node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","../node_modules/framer-motion/dist/es/render/html/config-motion.mjs","../node_modules/framer-motion/dist/es/render/html/use-props.mjs","../node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","../node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","../node_modules/framer-motion/dist/es/render/svg/use-props.mjs","../node_modules/framer-motion/dist/es/render/dom/use-render.mjs","../node_modules/framer-motion/dist/es/render/components/create-factory.mjs","../node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","../node_modules/framer-motion/dist/es/render/store.mjs","../node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","../node_modules/framer-motion/dist/es/render/VisualElement.mjs","../node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","../node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","../node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","../node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","../node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","../node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","../node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs","../node_modules/framer-motion/dist/es/render/components/motion/create.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../src/components/layout/navigation/NavigationMenu.tsx","../src/components/layout/navigation/MobileMenu.tsx","../src/components/layout/Header.tsx","../src/components/layout/Layout.tsx","../src/components/sections/Hero.tsx","../src/components/ui/SectionTitle.tsx","../src/components/ui/badge.tsx","../src/data/articles.ts","../src/components/sections/LatestArticles.tsx","../src/components/sections/Territories.tsx","../src/components/sections/Testimonials.tsx","../src/components/sections/RecommendedTools.tsx","../src/components/sections/Services.tsx","../src/pages/NotFound.tsx","../node_modules/estree-util-is-identifier-name/lib/index.js","../node_modules/hast-util-whitespace/lib/index.js","../node_modules/property-information/lib/util/schema.js","../node_modules/property-information/lib/util/merge.js","../node_modules/property-information/lib/normalize.js","../node_modules/property-information/lib/util/info.js","../node_modules/property-information/lib/util/types.js","../node_modules/property-information/lib/util/defined-info.js","../node_modules/property-information/lib/util/create.js","../node_modules/property-information/lib/xlink.js","../node_modules/property-information/lib/xml.js","../node_modules/property-information/lib/util/case-sensitive-transform.js","../node_modules/property-information/lib/util/case-insensitive-transform.js","../node_modules/property-information/lib/xmlns.js","../node_modules/property-information/lib/aria.js","../node_modules/property-information/lib/html.js","../node_modules/property-information/lib/svg.js","../node_modules/property-information/lib/find.js","../node_modules/property-information/lib/hast-to-react.js","../node_modules/property-information/index.js","../node_modules/inline-style-parser/index.js","../node_modules/style-to-object/cjs/index.js","../node_modules/style-to-object/esm/index.mjs","../node_modules/unist-util-position/lib/index.js","../node_modules/unist-util-stringify-position/lib/index.js","../node_modules/vfile-message/lib/index.js","../node_modules/hast-util-to-jsx-runtime/lib/index.js","../node_modules/comma-separated-tokens/index.js","../node_modules/space-separated-tokens/index.js","../node_modules/html-url-attributes/lib/index.js","../node_modules/mdast-util-to-string/lib/index.js","../node_modules/decode-named-character-reference/index.dom.js","../node_modules/micromark-util-chunked/index.js","../node_modules/micromark-util-combine-extensions/index.js","../node_modules/micromark-util-decode-numeric-character-reference/index.js","../node_modules/micromark-util-normalize-identifier/index.js","../node_modules/micromark-util-character/index.js","../node_modules/micromark-util-sanitize-uri/index.js","../node_modules/micromark-factory-space/index.js","../node_modules/micromark/lib/initialize/content.js","../node_modules/micromark/lib/initialize/document.js","../node_modules/micromark-util-classify-character/index.js","../node_modules/micromark-util-resolve-all/index.js","../node_modules/micromark-core-commonmark/lib/attention.js","../node_modules/micromark-core-commonmark/lib/autolink.js","../node_modules/micromark-core-commonmark/lib/blank-line.js","../node_modules/micromark-core-commonmark/lib/block-quote.js","../node_modules/micromark-core-commonmark/lib/character-escape.js","../node_modules/micromark-core-commonmark/lib/character-reference.js","../node_modules/micromark-core-commonmark/lib/code-fenced.js","../node_modules/micromark-core-commonmark/lib/code-indented.js","../node_modules/micromark-core-commonmark/lib/code-text.js","../node_modules/micromark-util-subtokenize/lib/splice-buffer.js","../node_modules/micromark-util-subtokenize/index.js","../node_modules/micromark-core-commonmark/lib/content.js","../node_modules/micromark-factory-destination/index.js","../node_modules/micromark-factory-label/index.js","../node_modules/micromark-factory-title/index.js","../node_modules/micromark-factory-whitespace/index.js","../node_modules/micromark-core-commonmark/lib/definition.js","../node_modules/micromark-core-commonmark/lib/hard-break-escape.js","../node_modules/micromark-core-commonmark/lib/heading-atx.js","../node_modules/micromark-util-html-tag-name/index.js","../node_modules/micromark-core-commonmark/lib/html-flow.js","../node_modules/micromark-core-commonmark/lib/html-text.js","../node_modules/micromark-core-commonmark/lib/label-end.js","../node_modules/micromark-core-commonmark/lib/label-start-image.js","../node_modules/micromark-core-commonmark/lib/label-start-link.js","../node_modules/micromark-core-commonmark/lib/line-ending.js","../node_modules/micromark-core-commonmark/lib/thematic-break.js","../node_modules/micromark-core-commonmark/lib/list.js","../node_modules/micromark-core-commonmark/lib/setext-underline.js","../node_modules/micromark/lib/initialize/flow.js","../node_modules/micromark/lib/initialize/text.js","../node_modules/micromark/lib/constructs.js","../node_modules/micromark/lib/create-tokenizer.js","../node_modules/micromark/lib/parse.js","../node_modules/micromark/lib/preprocess.js","../node_modules/micromark-util-decode-string/index.js","../node_modules/mdast-util-from-markdown/lib/index.js","../node_modules/micromark/lib/postprocess.js","../node_modules/remark-parse/lib/index.js","../node_modules/mdast-util-to-hast/lib/revert.js","../node_modules/mdast-util-to-hast/lib/handlers/list-item.js","../node_modules/trim-lines/index.js","../node_modules/mdast-util-to-hast/lib/handlers/index.js","../node_modules/mdast-util-to-hast/lib/handlers/blockquote.js","../node_modules/mdast-util-to-hast/lib/handlers/break.js","../node_modules/mdast-util-to-hast/lib/handlers/code.js","../node_modules/mdast-util-to-hast/lib/handlers/delete.js","../node_modules/mdast-util-to-hast/lib/handlers/emphasis.js","../node_modules/mdast-util-to-hast/lib/handlers/footnote-reference.js","../node_modules/mdast-util-to-hast/lib/handlers/heading.js","../node_modules/mdast-util-to-hast/lib/handlers/html.js","../node_modules/mdast-util-to-hast/lib/handlers/image-reference.js","../node_modules/mdast-util-to-hast/lib/handlers/image.js","../node_modules/mdast-util-to-hast/lib/handlers/inline-code.js","../node_modules/mdast-util-to-hast/lib/handlers/link-reference.js","../node_modules/mdast-util-to-hast/lib/handlers/link.js","../node_modules/mdast-util-to-hast/lib/handlers/list.js","../node_modules/mdast-util-to-hast/lib/handlers/paragraph.js","../node_modules/mdast-util-to-hast/lib/handlers/root.js","../node_modules/mdast-util-to-hast/lib/handlers/strong.js","../node_modules/mdast-util-to-hast/lib/handlers/table.js","../node_modules/mdast-util-to-hast/lib/handlers/table-cell.js","../node_modules/mdast-util-to-hast/lib/handlers/table-row.js","../node_modules/mdast-util-to-hast/lib/handlers/text.js","../node_modules/mdast-util-to-hast/lib/handlers/thematic-break.js","../node_modules/@ungap/structured-clone/esm/types.js","../node_modules/@ungap/structured-clone/esm/deserialize.js","../node_modules/@ungap/structured-clone/esm/serialize.js","../node_modules/@ungap/structured-clone/esm/index.js","../node_modules/mdast-util-to-hast/lib/footer.js","../node_modules/unist-util-is/lib/index.js","../node_modules/unist-util-visit-parents/lib/index.js","../node_modules/unist-util-visit/lib/index.js","../node_modules/mdast-util-to-hast/lib/state.js","../node_modules/mdast-util-to-hast/lib/index.js","../node_modules/remark-rehype/lib/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/is-plain-obj/index.js","../node_modules/trough/lib/index.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/vfile/lib/minurl.shared.js","../node_modules/vfile/lib/minurl.browser.js","../node_modules/vfile/lib/index.js","../node_modules/unified/lib/callable-instance.js","../node_modules/unified/lib/index.js","../node_modules/react-markdown/lib/index.js","../src/pages/ArticlePage.tsx","../src/pages/ArticlesPage.tsx","../src/components/ui/FloatingWhatsAppButton.tsx","../src/pages/offre.tsx","../src/contexts/AuthContext.tsx","../src/components/admin/Login.tsx","../src/components/admin/Dashboard.tsx","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/isEqual.js","../node_modules/quill/dist/quill.js","../node_modules/react-quill/lib/index.js","../node_modules/dompurify/dist/purify.es.mjs","../src/components/articles/ArticleView.tsx","../src/components/admin/ArticlePreview.tsx","../src/services/mediaService.ts","../src/components/admin/MediaManager.tsx","../src/components/admin/ArticleEditor.tsx","../src/components/admin/ProtectedRoute.tsx","../src/App.tsx","../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// packages/react/compose-refs/src/composeRefs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => refs.forEach((ref) => setRef(ref, node));\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/slot/src/Slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment, jsx } from \"react/jsx-runtime\";\nvar Slot = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n  if (slottable) {\n    const newElement = slottable.props.children;\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement) ? newElement.props.children : null;\n      } else {\n        return child;\n      }\n    });\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n  }\n  return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n});\nSlot.displayName = \"Slot\";\nvar SlotClone = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  if (React.isValidElement(children)) {\n    const childrenRef = getElementRef(children);\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      // @ts-ignore\n      ref: forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef\n    });\n  }\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\nSlotClone.displayName = \"SlotClone\";\nvar Slottable = ({ children }) => {\n  return /* @__PURE__ */ jsx(Fragment, { children });\n};\nfunction isSlottable(child) {\n  return React.isValidElement(child) && child.type === Slottable;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nvar Root = Slot;\nexport {\n  Root,\n  Slot,\n  Slottable\n};\n//# sourceMappingURL=index.mjs.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? \"\".concat(value) : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>{\n    return (props)=>{\n        var ref;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants , defaultVariants  } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (ref = config.compoundVariants) === null || ref === void 0 ? void 0 : ref.reduce((acc, param1)=>{\n            let { class: cvClass , className: cvClassName , ...compoundVariantOptions } = param1;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n};\n\n\n//# sourceMappingURL=index.mjs.map","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractons'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2',\n        sm: 'h-8 rounded-md px-3 text-xs',\n        lg: 'h-10 rounded-md px-8',\n        icon: 'h-9 w-9',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && array.indexOf(className) === index;\n}).join(\" \");\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",\n      key: \"l5xja\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",\n      key: \"ep3f8r\"\n    }\n  ],\n  [\"path\", { d: \"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\", key: \"1p4c4q\" }],\n  [\"path\", { d: \"M17.599 6.5a3 3 0 0 0 .399-1.375\", key: \"tmeiqw\" }],\n  [\"path\", { d: \"M6.003 5.125A3 3 0 0 0 6.401 6.5\", key: \"105sqy\" }],\n  [\"path\", { d: \"M3.477 10.896a4 4 0 0 1 .585-.396\", key: \"ql3yin\" }],\n  [\"path\", { d: \"M19.938 10.5a4 4 0 0 1 .585.396\", key: \"1qfode\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-1.967-.516\", key: \"2e4loj\" }],\n  [\"path\", { d: \"M19.967 17.484A4 4 0 0 1 18 18\", key: \"159ez6\" }]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\n    \"path\",\n    {\n      d: \"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",\n      key: \"1r0f0z\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Quote = createLucideIcon(\"Quote\", [\n  [\n    \"path\",\n    {\n      d: \"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"rib7q0\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"1ymkrd\"\n    }\n  ]\n]);\n\nexport { Quote as default };\n//# sourceMappingURL=quote.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.446.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","import { warnOnce } from '../../utils/warn-once.mjs';\n\nfunction createDOMMotionComponentProxy(componentFactory) {\n    if (typeof Proxy === \"undefined\") {\n        return componentFactory;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    const deprecatedFactoryFunction = (...args) => {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, \"motion() is deprecated. Use motion.create() instead.\");\n        }\n        return componentFactory(...args);\n    };\n    return new Proxy(deprecatedFactoryFunction, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            if (key === \"create\")\n                return componentFactory;\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, componentFactory(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createDOMMotionComponentProxy };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function getValueState(visualElement) {\n    const state = [{}, {}];\n    visualElement === null || visualElement === void 0 ? void 0 : visualElement.values.forEach((value, key) => {\n        state[0][key] = value.get();\n        state[1][key] = value.getVelocity();\n    });\n    return state;\n}\nfunction resolveVariantFromProps(props, definition, custom, visualElement) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, visualElement);\n}\n\nexport { resolveVariant };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","function getValueTransition(transition, key) {\n    return transition\n        ? transition[key] ||\n            transition[\"default\"] ||\n            transition\n        : undefined;\n}\n\nexport { getValueTransition };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","const noop = (any) => any;\n\nexport { noop };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"read\", // Read\n    \"resolveKeyframes\", // Write/Read/Write/Read\n    \"update\", // Compute\n    \"preRender\", // Compute\n    \"render\", // Write\n    \"postRender\", // Compute\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    const flagRunNextFrame = () => (runNextFrame = true);\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(flagRunNextFrame);\n        return acc;\n    }, {});\n    const { read, resolveKeyframes, update, preRender, render, postRender } = steps;\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        // Unrolled render loop for better per-frame performance\n        read.process(state);\n        resolveKeyframes.process(state);\n        update.process(state);\n        preRender.process(state);\n        render.process(state);\n        postRender.process(state);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => {\n        for (let i = 0; i < stepsOrder.length; i++) {\n            steps[stepsOrder[i]].cancel(process);\n        }\n    };\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","function createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Set();\n    let nextFrame = new Set();\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    let latestFrameData = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    function triggerCallback(callback) {\n        if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n        }\n        callback(latestFrameData);\n    }\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (!queue.has(callback))\n                queue.add(callback);\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.delete(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            latestFrameData = frameData;\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            thisFrame.forEach(triggerCallback);\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps: frameSteps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, frameSteps };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = /*@__PURE__*/ cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = /*@__PURE__*/ reverseEasing(backOut);\nconst backInOut = /*@__PURE__*/ mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/u.test(v);\n\nexport { isZeroValueString };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(v);\n\nexport { isNumericalString };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = \n/*@__PURE__*/ checkStringStartsWith(\"--\");\nconst startsAsVariableToken = \n/*@__PURE__*/ checkStringStartsWith(\"var(--\");\nconst isCSSVariableToken = (value) => {\n    const startsWithToken = startsAsVariableToken(value);\n    if (!startsWithToken)\n        return false;\n    // Ensure any comments are stripped from the value as this can harm performance of the regex.\n    return singleCssVariableRegex.test(value.split(\"/*\")[0].trim());\n};\nconst singleCssVariableRegex = /var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu;\n\nexport { isCSSVariableName, isCSSVariableToken };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = \n// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token1, token2, fallback] = match;\n    return [`--${token1 !== null && token1 !== void 0 ? token1 : token2}`, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    return isCSSVariableToken(fallback)\n        ? getVariableValue(fallback, element, depth + 1)\n        : fallback;\n}\n\nexport { getVariableValue, parseCSSVariable };\n","const clamp = (min, max, v) => {\n    if (v > max)\n        return max;\n    if (v < min)\n        return min;\n    return v;\n};\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","const createUnitType = (unit) => ({\n    test: (v) => typeof v === \"string\" && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = /*@__PURE__*/ createUnitType(\"deg\");\nconst percent = /*@__PURE__*/ createUnitType(\"%\");\nconst px = /*@__PURE__*/ createUnitType(\"px\");\nconst vh = /*@__PURE__*/ createUnitType(\"vh\");\nconst vw = /*@__PURE__*/ createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/u);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/u);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\n\nexport { isNumOrPxType, positionalKeys, positionalValues, removeNonTranslationalTransform };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { removeNonTranslationalTransform } from '../dom/utils/unit-conversion.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst toResolve = new Set();\nlet isScheduled = false;\nlet anyNeedsMeasurement = false;\nfunction measureAllKeyframes() {\n    if (anyNeedsMeasurement) {\n        const resolversToMeasure = Array.from(toResolve).filter((resolver) => resolver.needsMeasurement);\n        const elementsToMeasure = new Set(resolversToMeasure.map((resolver) => resolver.element));\n        const transformsToRestore = new Map();\n        /**\n         * Write pass\n         * If we're measuring elements we want to remove bounding box-changing transforms.\n         */\n        elementsToMeasure.forEach((element) => {\n            const removedTransforms = removeNonTranslationalTransform(element);\n            if (!removedTransforms.length)\n                return;\n            transformsToRestore.set(element, removedTransforms);\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureInitialState());\n        // Write\n        elementsToMeasure.forEach((element) => {\n            element.render();\n            const restore = transformsToRestore.get(element);\n            if (restore) {\n                restore.forEach(([key, value]) => {\n                    var _a;\n                    (_a = element.getValue(key)) === null || _a === void 0 ? void 0 : _a.set(value);\n                });\n            }\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureEndState());\n        // Write\n        resolversToMeasure.forEach((resolver) => {\n            if (resolver.suspendedScrollY !== undefined) {\n                window.scrollTo(0, resolver.suspendedScrollY);\n            }\n        });\n    }\n    anyNeedsMeasurement = false;\n    isScheduled = false;\n    toResolve.forEach((resolver) => resolver.complete());\n    toResolve.clear();\n}\nfunction readAllKeyframes() {\n    toResolve.forEach((resolver) => {\n        resolver.readKeyframes();\n        if (resolver.needsMeasurement) {\n            anyNeedsMeasurement = true;\n        }\n    });\n}\nfunction flushKeyframeResolvers() {\n    readAllKeyframes();\n    measureAllKeyframes();\n}\nclass KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {\n        /**\n         * Track whether this resolver has completed. Once complete, it never\n         * needs to attempt keyframe resolution again.\n         */\n        this.isComplete = false;\n        /**\n         * Track whether this resolver is async. If it is, it'll be added to the\n         * resolver queue and flushed in the next frame. Resolvers that aren't going\n         * to trigger read/write thrashing don't need to be async.\n         */\n        this.isAsync = false;\n        /**\n         * Track whether this resolver needs to perform a measurement\n         * to resolve its keyframes.\n         */\n        this.needsMeasurement = false;\n        /**\n         * Track whether this resolver is currently scheduled to resolve\n         * to allow it to be cancelled and resumed externally.\n         */\n        this.isScheduled = false;\n        this.unresolvedKeyframes = [...unresolvedKeyframes];\n        this.onComplete = onComplete;\n        this.name = name;\n        this.motionValue = motionValue;\n        this.element = element;\n        this.isAsync = isAsync;\n    }\n    scheduleResolve() {\n        this.isScheduled = true;\n        if (this.isAsync) {\n            toResolve.add(this);\n            if (!isScheduled) {\n                isScheduled = true;\n                frame.read(readAllKeyframes);\n                frame.resolveKeyframes(measureAllKeyframes);\n            }\n        }\n        else {\n            this.readKeyframes();\n            this.complete();\n        }\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, name, element, motionValue } = this;\n        /**\n         * If a keyframe is null, we hydrate it either by reading it from\n         * the instance, or propagating from previous keyframes.\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (unresolvedKeyframes[i] === null) {\n                /**\n                 * If the first keyframe is null, we need to find its value by sampling the element\n                 */\n                if (i === 0) {\n                    const currentValue = motionValue === null || motionValue === void 0 ? void 0 : motionValue.get();\n                    const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n                    if (currentValue !== undefined) {\n                        unresolvedKeyframes[0] = currentValue;\n                    }\n                    else if (element && name) {\n                        const valueAsRead = element.readValue(name, finalKeyframe);\n                        if (valueAsRead !== undefined && valueAsRead !== null) {\n                            unresolvedKeyframes[0] = valueAsRead;\n                        }\n                    }\n                    if (unresolvedKeyframes[0] === undefined) {\n                        unresolvedKeyframes[0] = finalKeyframe;\n                    }\n                    if (motionValue && currentValue === undefined) {\n                        motionValue.set(unresolvedKeyframes[0]);\n                    }\n                }\n                else {\n                    unresolvedKeyframes[i] = unresolvedKeyframes[i - 1];\n                }\n            }\n        }\n    }\n    setFinalKeyframe() { }\n    measureInitialState() { }\n    renderEndStyles() { }\n    measureEndState() { }\n    complete() {\n        this.isComplete = true;\n        this.onComplete(this.unresolvedKeyframes, this.finalKeyframe);\n        toResolve.delete(this);\n    }\n    cancel() {\n        if (!this.isComplete) {\n            this.isScheduled = false;\n            toResolve.delete(this);\n        }\n    }\n    resume() {\n        if (!this.isComplete)\n            this.scheduleResolve();\n    }\n}\n\nexport { KeyframeResolver, flushKeyframeResolvers };\n","// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\n\nexport { sanitize };\n","const floatRegex = /-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;\n\nexport { floatRegex };\n","const singleColorRegex = /^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu;\n\nexport { singleColorRegex };\n","import { floatRegex } from '../utils/float-regex.mjs';\nimport { isNullish } from '../utils/is-nullish.mjs';\nimport { singleColorRegex } from '../utils/single-color-regex.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((typeof v === \"string\" &&\n        singleColorRegex.test(v) &&\n        v.startsWith(type)) ||\n        (testProp &&\n            !isNullish(v) &&\n            Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (typeof v !== \"string\")\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","function isNullish(v) {\n    return v == null;\n}\n\nexport { isNullish };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { alpha, number } from '../numbers/index.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: /*@__PURE__*/ isColorString(\"rgb\", \"red\"),\n    parse: /*@__PURE__*/ splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: /*@__PURE__*/ isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: /*@__PURE__*/ isColorString(\"hsl\", \"hue\"),\n    parse: /*@__PURE__*/ splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return typeof v === \"string\"\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","const colorRegex = /(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;\n\nexport { colorRegex };\n","import { color } from '../color/index.mjs';\nimport { colorRegex } from '../utils/color-regex.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        typeof v === \"string\" &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /\\b([a-z-]*)\\(.*?\\)/gu;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst browserNumberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Misc\n    backgroundPositionX: px,\n    backgroundPositionY: px,\n};\n\nexport { browserNumberValueTypes };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { degrees, px, progressPercentage } from '../../../value/types/numbers/units.mjs';\n\nconst transformValueTypes = {\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n};\n\nexport { transformValueTypes };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { alpha } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\nimport { browserNumberValueTypes } from './number-browser.mjs';\nimport { transformValueTypes } from './transform.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    ...browserNumberValueTypes,\n    ...transformValueTypes,\n    zIndex: int,\n    size: px,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { analyseComplexValue } from '../../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../../dom/value-types/animatable-none.mjs';\n\n/**\n * If we encounter keyframes like \"none\" or \"0\" and we also have keyframes like\n * \"#fff\" or \"200px 200px\" we want to find a keyframe to serve as a template for\n * the \"none\" keyframes. In this case \"#fff\" or \"200px 200px\" - then these get turned into\n * zero equivalents, i.e. \"#fff0\" or \"0px 0px\".\n */\nconst invalidTemplates = new Set([\"auto\", \"none\", \"0\"]);\nfunction makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {\n    let i = 0;\n    let animatableTemplate = undefined;\n    while (i < unresolvedKeyframes.length && !animatableTemplate) {\n        const keyframe = unresolvedKeyframes[i];\n        if (typeof keyframe === \"string\" &&\n            !invalidTemplates.has(keyframe) &&\n            analyseComplexValue(keyframe).values.length) {\n            animatableTemplate = unresolvedKeyframes[i];\n        }\n        i++;\n    }\n    if (animatableTemplate && name) {\n        for (const noneIndex of noneKeyframeIndexes) {\n            unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);\n        }\n    }\n}\n\nexport { makeNoneKeyframesAnimatable };\n","import { isNone } from '../../animation/utils/is-none.mjs';\nimport { getVariableValue } from './utils/css-variables-conversion.mjs';\nimport { isCSSVariableToken } from './utils/is-css-variable.mjs';\nimport { positionalKeys, isNumOrPxType, positionalValues } from './utils/unit-conversion.mjs';\nimport { findDimensionValueType } from './value-types/dimensions.mjs';\nimport { KeyframeResolver } from '../utils/KeyframesResolver.mjs';\nimport { makeNoneKeyframesAnimatable } from '../html/utils/make-none-animatable.mjs';\n\nclass DOMKeyframesResolver extends KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element) {\n        super(unresolvedKeyframes, onComplete, name, motionValue, element, true);\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, element, name } = this;\n        if (!element || !element.current)\n            return;\n        super.readKeyframes();\n        /**\n         * If any keyframe is a CSS variable, we need to find its value by sampling the element\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            let keyframe = unresolvedKeyframes[i];\n            if (typeof keyframe === \"string\") {\n                keyframe = keyframe.trim();\n                if (isCSSVariableToken(keyframe)) {\n                    const resolved = getVariableValue(keyframe, element.current);\n                    if (resolved !== undefined) {\n                        unresolvedKeyframes[i] = resolved;\n                    }\n                    if (i === unresolvedKeyframes.length - 1) {\n                        this.finalKeyframe = keyframe;\n                    }\n                }\n            }\n        }\n        /**\n         * Resolve \"none\" values. We do this potentially twice - once before and once after measuring keyframes.\n         * This could be seen as inefficient but it's a trade-off to avoid measurements in more situations, which\n         * have a far bigger performance impact.\n         */\n        this.resolveNoneKeyframes();\n        /**\n         * Check to see if unit type has changed. If so schedule jobs that will\n         * temporarily set styles to the destination keyframes.\n         * Skip if we have more than two keyframes or this isn't a positional value.\n         * TODO: We can throw if there are multiple keyframes and the value type changes.\n         */\n        if (!positionalKeys.has(name) || unresolvedKeyframes.length !== 2) {\n            return;\n        }\n        const [origin, target] = unresolvedKeyframes;\n        const originType = findDimensionValueType(origin);\n        const targetType = findDimensionValueType(target);\n        /**\n         * Either we don't recognise these value types or we can animate between them.\n         */\n        if (originType === targetType)\n            return;\n        /**\n         * If both values are numbers or pixels, we can animate between them by\n         * converting them to numbers.\n         */\n        if (isNumOrPxType(originType) && isNumOrPxType(targetType)) {\n            for (let i = 0; i < unresolvedKeyframes.length; i++) {\n                const value = unresolvedKeyframes[i];\n                if (typeof value === \"string\") {\n                    unresolvedKeyframes[i] = parseFloat(value);\n                }\n            }\n        }\n        else {\n            /**\n             * Else, the only way to resolve this is by measuring the element.\n             */\n            this.needsMeasurement = true;\n        }\n    }\n    resolveNoneKeyframes() {\n        const { unresolvedKeyframes, name } = this;\n        const noneKeyframeIndexes = [];\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (isNone(unresolvedKeyframes[i])) {\n                noneKeyframeIndexes.push(i);\n            }\n        }\n        if (noneKeyframeIndexes.length) {\n            makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name);\n        }\n    }\n    measureInitialState() {\n        const { element, unresolvedKeyframes, name } = this;\n        if (!element || !element.current)\n            return;\n        if (name === \"height\") {\n            this.suspendedScrollY = window.pageYOffset;\n        }\n        this.measuredOrigin = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        unresolvedKeyframes[0] = this.measuredOrigin;\n        // Set final key frame to measure after next render\n        const measureKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n        if (measureKeyframe !== undefined) {\n            element.getValue(name, measureKeyframe).jump(measureKeyframe, false);\n        }\n    }\n    measureEndState() {\n        var _a;\n        const { element, name, unresolvedKeyframes } = this;\n        if (!element || !element.current)\n            return;\n        const value = element.getValue(name);\n        value && value.jump(this.measuredOrigin, false);\n        const finalKeyframeIndex = unresolvedKeyframes.length - 1;\n        const finalKeyframe = unresolvedKeyframes[finalKeyframeIndex];\n        unresolvedKeyframes[finalKeyframeIndex] = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        if (finalKeyframe !== null && this.finalKeyframe === undefined) {\n            this.finalKeyframe = finalKeyframe;\n        }\n        // If we removed transform values, reapply them before the next render\n        if ((_a = this.removedTransforms) === null || _a === void 0 ? void 0 : _a.length) {\n            this.removedTransforms.forEach(([unsetTransformName, unsetTransformValue]) => {\n                element\n                    .getValue(unsetTransformName)\n                    .set(unsetTransformValue);\n            });\n        }\n        this.resolveNoneKeyframes();\n    }\n}\n\nexport { DOMKeyframesResolver };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n    else {\n        return true;\n    }\n}\n\nexport { isNone };\n","function isGenerator(type) {\n    return typeof type === \"function\";\n}\n\nexport { isGenerator };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (value, name) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (name === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { time } from '../../frameloop/sync-time.mjs';\nimport { flushKeyframeResolvers } from '../../render/utils/KeyframesResolver.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { canAnimate } from './utils/can-animate.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\n/**\n * Maximum time allowed between an animation being created and it being\n * resolved for us to use the latter as the start time.\n *\n * This is to ensure that while we prefer to \"start\" an animation as soon\n * as it's triggered, we also want to avoid a visual jump if there's a big delay\n * between these two moments.\n */\nconst MAX_RESOLVE_DELAY = 40;\nclass BaseAnimation {\n    constructor({ autoplay = true, delay = 0, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", ...options }) {\n        // Track whether the animation has been stopped. Stopped animations won't restart.\n        this.isStopped = false;\n        this.hasAttemptedResolve = false;\n        this.createdAt = time.now();\n        this.options = {\n            autoplay,\n            delay,\n            type,\n            repeat,\n            repeatDelay,\n            repeatType,\n            ...options,\n        };\n        this.updateFinishedPromise();\n    }\n    /**\n     * This method uses the createdAt and resolvedAt to calculate the\n     * animation startTime. *Ideally*, we would use the createdAt time as t=0\n     * as the following frame would then be the first frame of the animation in\n     * progress, which would feel snappier.\n     *\n     * However, if there's a delay (main thread work) between the creation of\n     * the animation and the first commited frame, we prefer to use resolvedAt\n     * to avoid a sudden jump into the animation.\n     */\n    calcStartTime() {\n        if (!this.resolvedAt)\n            return this.createdAt;\n        return this.resolvedAt - this.createdAt > MAX_RESOLVE_DELAY\n            ? this.resolvedAt\n            : this.createdAt;\n    }\n    /**\n     * A getter for resolved data. If keyframes are not yet resolved, accessing\n     * this.resolved will synchronously flush all pending keyframe resolvers.\n     * This is a deoptimisation, but at its worst still batches read/writes.\n     */\n    get resolved() {\n        if (!this._resolved && !this.hasAttemptedResolve) {\n            flushKeyframeResolvers();\n        }\n        return this._resolved;\n    }\n    /**\n     * A method to be called when the keyframes resolver completes. This method\n     * will check if its possible to run the animation and, if not, skip it.\n     * Otherwise, it will call initPlayback on the implementing class.\n     */\n    onKeyframesResolved(keyframes, finalKeyframe) {\n        this.resolvedAt = time.now();\n        this.hasAttemptedResolve = true;\n        const { name, type, velocity, delay, onComplete, onUpdate, isGenerator, } = this.options;\n        /**\n         * If we can't animate this value with the resolved keyframes\n         * then we should complete it immediately.\n         */\n        if (!isGenerator && !canAnimate(keyframes, name, type, velocity)) {\n            // Finish immediately\n            if (instantAnimationState.current || !delay) {\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(getFinalKeyframe(keyframes, this.options, finalKeyframe));\n                onComplete === null || onComplete === void 0 ? void 0 : onComplete();\n                this.resolveFinishedPromise();\n                return;\n            }\n            // Finish after a delay\n            else {\n                this.options.duration = 0;\n            }\n        }\n        const resolvedAnimation = this.initPlayback(keyframes, finalKeyframe);\n        if (resolvedAnimation === false)\n            return;\n        this._resolved = {\n            keyframes,\n            finalKeyframe,\n            ...resolvedAnimation,\n        };\n        this.onPostResolved();\n    }\n    onPostResolved() { }\n    /**\n     * Allows the returned animation to be awaited or promise-chained. Currently\n     * resolves when the animation finishes at all but in a future update could/should\n     * reject if its cancels.\n     */\n    then(resolve, reject) {\n        return this.currentFinishedPromise.then(resolve, reject);\n    }\n    flatten() {\n        this.options.type = \"keyframes\";\n        this.options.ease = \"linear\";\n    }\n    updateFinishedPromise() {\n        this.currentFinishedPromise = new Promise((resolve) => {\n            this.resolveFinishedPromise = resolve;\n        });\n    }\n}\n\nexport { BaseAnimation };\n","import { warning } from '../../../utils/errors.mjs';\nimport { isGenerator } from '../../generators/utils/is-generator.mjs';\nimport { isAnimatable } from '../../utils/is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    /**\n     * These aren't traditionally animatable but we do support them.\n     * In future we could look into making this more generic or replacing\n     * this function with mix() === mixImmediate\n     */\n    if (name === \"display\" || name === \"visibility\")\n        return true;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return (hasKeyframesChanged(keyframes) ||\n        ((type === \"spring\" || isGenerator(type)) && velocity));\n}\n\nexport { canAnimate };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { progress } from '../../../../utils/progress.mjs';\n\nconst generateLinearEasing = (easing, duration, // as milliseconds\nresolution = 10 // as milliseconds\n) => {\n    let points = \"\";\n    const numPoints = Math.max(Math.round(duration / resolution), 2);\n    for (let i = 0; i < numPoints; i++) {\n        points += easing(progress(0, numPoints - 1, i)) + \", \";\n    }\n    return `linear(${points.substring(0, points.length - 2)})`;\n};\n\nexport { generateLinearEasing };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","const springDefaults = {\n    // Default spring physics\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    velocity: 0.0,\n    // Default duration/bounce-based options\n    duration: 800, // in ms\n    bounce: 0.3,\n    visualDuration: 0.3, // in seconds\n    // Rest thresholds\n    restSpeed: {\n        granular: 0.01,\n        default: 2,\n    },\n    restDelta: {\n        granular: 0.005,\n        default: 0.5,\n    },\n    // Limits\n    minDuration: 0.01, // in seconds\n    maxDuration: 10.0, // in seconds\n    minDamping: 0.05,\n    maxDamping: 1,\n};\n\nexport { springDefaults };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { springDefaults } from './defaults.mjs';\n\nconst safeMin = 0.001;\nfunction findSpring({ duration = springDefaults.duration, bounce = springDefaults.bounce, velocity = springDefaults.velocity, mass = springDefaults.mass, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(springDefaults.maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(springDefaults.minDamping, springDefaults.maxDamping, dampingRatio);\n    duration = clamp(springDefaults.minDuration, springDefaults.maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: springDefaults.stiffness,\n            damping: springDefaults.damping,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { generateLinearEasing } from '../../animators/waapi/utils/linear.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\nimport { calcGeneratorDuration, maxGeneratorDuration } from '../utils/calc-duration.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { springDefaults } from './defaults.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: springDefaults.velocity,\n        stiffness: springDefaults.stiffness,\n        damping: springDefaults.damping,\n        mass: springDefaults.mass,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        if (options.visualDuration) {\n            const visualDuration = options.visualDuration;\n            const root = (2 * Math.PI) / (visualDuration * 1.2);\n            const stiffness = root * root;\n            const damping = 2 * clamp(0.05, 1, 1 - options.bounce) * Math.sqrt(stiffness);\n            springOptions = {\n                ...springOptions,\n                mass: springDefaults.mass,\n                stiffness,\n                damping,\n            };\n        }\n        else {\n            const derived = findSpring(options);\n            springOptions = {\n                ...springOptions,\n                ...derived,\n                mass: springDefaults.mass,\n            };\n            springOptions.isResolvedFromDuration = true;\n        }\n    }\n    return springOptions;\n}\nfunction spring(optionsOrVisualDuration = springDefaults.visualDuration, bounce = springDefaults.bounce) {\n    const options = typeof optionsOrVisualDuration !== \"object\"\n        ? {\n            visualDuration: optionsOrVisualDuration,\n            keyframes: [0, 1],\n            bounce,\n        }\n        : optionsOrVisualDuration;\n    let { restSpeed, restDelta } = options;\n    const origin = options.keyframes[0];\n    const target = options.keyframes[options.keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale\n        ? springDefaults.restSpeed.granular\n        : springDefaults.restSpeed.default);\n    restDelta || (restDelta = isGranularScale\n        ? springDefaults.restDelta.granular\n        : springDefaults.restDelta.default);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    const generator = {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = 0.0;\n                /**\n                 * We only need to calculate velocity for under-damped springs\n                 * as over- and critically-damped springs can't overshoot, so\n                 * checking only for displacement is enough.\n                 */\n                if (dampingRatio < 1) {\n                    currentVelocity =\n                        t === 0\n                            ? secondsToMilliseconds(initialVelocity)\n                            : calcGeneratorVelocity(resolveSpring, t, current);\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n        toString: () => {\n            const calculatedDuration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n            const easing = generateLinearEasing((progress) => generator.next(calculatedDuration * progress).value, calculatedDuration, 30);\n            return calculatedDuration + \"ms \" + easing;\n        },\n    };\n    return generator;\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value), // TODO: This should be passing * 1000\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t >= timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = /*@__PURE__*/ cubicBezier(0.42, 0, 1, 1);\nconst easeOut = /*@__PURE__*/ cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = /*@__PURE__*/ cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\nimport { isBezierDefinition } from './is-bezier-definition.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (isBezierDefinition(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mixNumber = (from, to, progress) => {\n    return from + (to - from) * progress;\n};\n\nexport { mixNumber };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","function mixImmediate(a, b) {\n    return (p) => (p > 0 ? b : a);\n}\n\nexport { mixImmediate };\n","import { mixNumber } from './number.mjs';\nimport { warning } from '../errors.mjs';\nimport { hslaToRgba } from '../hsla-to-rgba.mjs';\nimport { hex } from '../../value/types/color/hex.mjs';\nimport { rgba } from '../../value/types/color/rgba.mjs';\nimport { hsla } from '../../value/types/color/hsla.mjs';\nimport { mixImmediate } from './immediate.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const expo = v * (to * to - fromExpo) + fromExpo;\n    return expo < 0 ? 0 : Math.sqrt(expo);\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    warning(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    if (!Boolean(type))\n        return false;\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    if (!fromRGBA || !toRGBA) {\n        return mixImmediate(from, to);\n    }\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","const invisibleValues = new Set([\"none\", \"hidden\"]);\n/**\n * Returns a function that, when provided a progress value between 0 and 1,\n * will return the \"none\" or \"hidden\" string only when the progress is that of\n * the origin or target.\n */\nfunction mixVisibility(origin, target) {\n    if (invisibleValues.has(origin)) {\n        return (p) => (p <= 0 ? origin : target);\n    }\n    else {\n        return (p) => (p >= 1 ? target : origin);\n    }\n}\n\nexport { invisibleValues, mixVisibility };\n","import { mixNumber as mixNumber$1 } from './number.mjs';\nimport { mixColor } from './color.mjs';\nimport { pipe } from '../pipe.mjs';\nimport { warning } from '../errors.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { isCSSVariableToken } from '../../render/dom/utils/is-css-variable.mjs';\nimport { invisibleValues, mixVisibility } from './visibility.mjs';\nimport { mixImmediate } from './immediate.mjs';\n\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    var _a;\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = (_a = origin.values[originIndex]) !== null && _a !== void 0 ? _a : 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        if ((invisibleValues.has(origin) &&\n            !targetStats.values.length) ||\n            (invisibleValues.has(target) &&\n                !originStats.values.length)) {\n            return mixVisibility(origin, target);\n        }\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n","import { getMixer } from './complex.mjs';\nimport { mixNumber } from './number.mjs';\n\nfunction mix(from, to, p) {\n    if (typeof from === \"number\" &&\n        typeof to === \"number\" &&\n        typeof p === \"number\") {\n        return mixNumber(from, to, p);\n    }\n    const mixer = getMixer(from);\n    return mixer(from, to);\n}\n\nexport { mix };\n","import { invariant } from './errors.mjs';\nimport { clamp } from './clamp.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\nimport { mix } from './mix/index.mjs';\n\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || mix;\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    if (inputLength === 2 && input[0] === input[1])\n        return () => output[1];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { mixNumber } from '../mix/number.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mixNumber(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","import { KeyframeResolver } from '../../render/utils/KeyframesResolver.mjs';\nimport { spring } from '../generators/spring/index.mjs';\nimport { inertia } from '../generators/inertia.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { BaseAnimation } from './BaseAnimation.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { mix } from '../../utils/mix/index.mjs';\nimport { calcGeneratorDuration } from '../generators/utils/calc-duration.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { invariant } from '../../utils/errors.mjs';\nimport { frameloopDriver } from './drivers/driver-frameloop.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\nimport { isGenerator } from '../generators/utils/is-generator.mjs';\n\nconst generators = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\nconst percentToProgress = (percent) => percent / 100;\n/**\n * Animation that runs on the main thread. Designed to be WAAPI-spec in the subset of\n * features we expose publically. Mostly the compatibility is to ensure visual identity\n * between both WAAPI and main thread animations.\n */\nclass MainThreadAnimation extends BaseAnimation {\n    constructor(options) {\n        super(options);\n        /**\n         * The time at which the animation was paused.\n         */\n        this.holdTime = null;\n        /**\n         * The time at which the animation was cancelled.\n         */\n        this.cancelTime = null;\n        /**\n         * The current time of the animation.\n         */\n        this.currentTime = 0;\n        /**\n         * Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.\n         */\n        this.playbackSpeed = 1;\n        /**\n         * The state of the animation to apply when the animation is resolved. This\n         * allows calls to the public API to control the animation before it is resolved,\n         * without us having to resolve it first.\n         */\n        this.pendingPlayState = \"running\";\n        /**\n         * The time at which the animation was started.\n         */\n        this.startTime = null;\n        this.state = \"idle\";\n        /**\n         * This method is bound to the instance to fix a pattern where\n         * animation.stop is returned as a reference from a useEffect.\n         */\n        this.stop = () => {\n            this.resolver.cancel();\n            this.isStopped = true;\n            if (this.state === \"idle\")\n                return;\n            this.teardown();\n            const { onStop } = this.options;\n            onStop && onStop();\n        };\n        const { name, motionValue, element, keyframes } = this.options;\n        const KeyframeResolver$1 = (element === null || element === void 0 ? void 0 : element.KeyframeResolver) || KeyframeResolver;\n        const onResolved = (resolvedKeyframes, finalKeyframe) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe);\n        this.resolver = new KeyframeResolver$1(keyframes, onResolved, name, motionValue, element);\n        this.resolver.scheduleResolve();\n    }\n    flatten() {\n        super.flatten();\n        // If we've already resolved the animation, re-initialise it\n        if (this._resolved) {\n            Object.assign(this._resolved, this.initPlayback(this._resolved.keyframes));\n        }\n    }\n    initPlayback(keyframes$1) {\n        const { type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = this.options;\n        const generatorFactory = isGenerator(type)\n            ? type\n            : generators[type] || keyframes;\n        /**\n         * If our generator doesn't support mixing numbers, we need to replace keyframes with\n         * [0, 100] and then make a function that maps that to the actual keyframes.\n         *\n         * 100 is chosen instead of 1 as it works nicer with spring animations.\n         */\n        let mapPercentToKeyframes;\n        let mirroredGenerator;\n        if (generatorFactory !== keyframes &&\n            typeof keyframes$1[0] !== \"number\") {\n            if (process.env.NODE_ENV !== \"production\") {\n                invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n            }\n            mapPercentToKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));\n            keyframes$1 = [0, 100];\n        }\n        const generator = generatorFactory({ ...this.options, keyframes: keyframes$1 });\n        /**\n         * If we have a mirror repeat type we need to create a second generator that outputs the\n         * mirrored (not reversed) animation and later ping pong between the two generators.\n         */\n        if (repeatType === \"mirror\") {\n            mirroredGenerator = generatorFactory({\n                ...this.options,\n                keyframes: [...keyframes$1].reverse(),\n                velocity: -velocity,\n            });\n        }\n        /**\n         * If duration is undefined and we have repeat options,\n         * we need to calculate a duration from the generator.\n         *\n         * We set it to the generator itself to cache the duration.\n         * Any timeline resolver will need to have already precalculated\n         * the duration by this step.\n         */\n        if (generator.calculatedDuration === null) {\n            generator.calculatedDuration = calcGeneratorDuration(generator);\n        }\n        const { calculatedDuration } = generator;\n        const resolvedDuration = calculatedDuration + repeatDelay;\n        const totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n        return {\n            generator,\n            mirroredGenerator,\n            mapPercentToKeyframes,\n            calculatedDuration,\n            resolvedDuration,\n            totalDuration,\n        };\n    }\n    onPostResolved() {\n        const { autoplay = true } = this.options;\n        this.play();\n        if (this.pendingPlayState === \"paused\" || !autoplay) {\n            this.pause();\n        }\n        else {\n            this.state = this.pendingPlayState;\n        }\n    }\n    tick(timestamp, sample = false) {\n        const { resolved } = this;\n        // If the animations has failed to resolve, return the final keyframe.\n        if (!resolved) {\n            const { keyframes } = this.options;\n            return { done: true, value: keyframes[keyframes.length - 1] };\n        }\n        const { finalKeyframe, generator, mirroredGenerator, mapPercentToKeyframes, keyframes, calculatedDuration, totalDuration, resolvedDuration, } = resolved;\n        if (this.startTime === null)\n            return generator.next(0);\n        const { delay, repeat, repeatType, repeatDelay, onUpdate } = this.options;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (this.speed > 0) {\n            this.startTime = Math.min(this.startTime, timestamp);\n        }\n        else if (this.speed < 0) {\n            this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);\n        }\n        // Update currentTime\n        if (sample) {\n            this.currentTime = timestamp;\n        }\n        else if (this.holdTime !== null) {\n            this.currentTime = this.holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            this.currentTime =\n                Math.round(timestamp - this.startTime) * this.speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = this.currentTime - delay * (this.speed >= 0 ? 1 : -1);\n        const isInDelayPhase = this.speed >= 0\n            ? timeWithoutDelay < 0\n            : timeWithoutDelay > totalDuration;\n        this.currentTime = Math.max(timeWithoutDelay, 0);\n        // If this animation has finished, set the current time  to the total duration.\n        if (this.state === \"finished\" && this.holdTime === null) {\n            this.currentTime = totalDuration;\n        }\n        let elapsed = this.currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes[0] }\n            : frameGenerator.next(elapsed);\n        if (mapPercentToKeyframes) {\n            state.value = mapPercentToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done =\n                this.speed >= 0\n                    ? this.currentTime >= totalDuration\n                    : this.currentTime <= 0;\n        }\n        const isAnimationFinished = this.holdTime === null &&\n            (this.state === \"finished\" || (this.state === \"running\" && done));\n        if (isAnimationFinished && finalKeyframe !== undefined) {\n            state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe);\n        }\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            this.finish();\n        }\n        return state;\n    }\n    get duration() {\n        const { resolved } = this;\n        return resolved ? millisecondsToSeconds(resolved.calculatedDuration) : 0;\n    }\n    get time() {\n        return millisecondsToSeconds(this.currentTime);\n    }\n    set time(newTime) {\n        newTime = secondsToMilliseconds(newTime);\n        this.currentTime = newTime;\n        if (this.holdTime !== null || this.speed === 0) {\n            this.holdTime = newTime;\n        }\n        else if (this.driver) {\n            this.startTime = this.driver.now() - newTime / this.speed;\n        }\n    }\n    get speed() {\n        return this.playbackSpeed;\n    }\n    set speed(newSpeed) {\n        const hasChanged = this.playbackSpeed !== newSpeed;\n        this.playbackSpeed = newSpeed;\n        if (hasChanged) {\n            this.time = millisecondsToSeconds(this.currentTime);\n        }\n    }\n    play() {\n        if (!this.resolver.isScheduled) {\n            this.resolver.resume();\n        }\n        if (!this._resolved) {\n            this.pendingPlayState = \"running\";\n            return;\n        }\n        if (this.isStopped)\n            return;\n        const { driver = frameloopDriver, onPlay, startTime } = this.options;\n        if (!this.driver) {\n            this.driver = driver((timestamp) => this.tick(timestamp));\n        }\n        onPlay && onPlay();\n        const now = this.driver.now();\n        if (this.holdTime !== null) {\n            this.startTime = now - this.holdTime;\n        }\n        else if (!this.startTime) {\n            this.startTime = startTime !== null && startTime !== void 0 ? startTime : this.calcStartTime();\n        }\n        else if (this.state === \"finished\") {\n            this.startTime = now;\n        }\n        if (this.state === \"finished\") {\n            this.updateFinishedPromise();\n        }\n        this.cancelTime = this.startTime;\n        this.holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        this.state = \"running\";\n        this.driver.start();\n    }\n    pause() {\n        var _a;\n        if (!this._resolved) {\n            this.pendingPlayState = \"paused\";\n            return;\n        }\n        this.state = \"paused\";\n        this.holdTime = (_a = this.currentTime) !== null && _a !== void 0 ? _a : 0;\n    }\n    complete() {\n        if (this.state !== \"running\") {\n            this.play();\n        }\n        this.pendingPlayState = this.state = \"finished\";\n        this.holdTime = null;\n    }\n    finish() {\n        this.teardown();\n        this.state = \"finished\";\n        const { onComplete } = this.options;\n        onComplete && onComplete();\n    }\n    cancel() {\n        if (this.cancelTime !== null) {\n            this.tick(this.cancelTime);\n        }\n        this.teardown();\n        this.updateFinishedPromise();\n    }\n    teardown() {\n        this.state = \"idle\";\n        this.stopDriver();\n        this.resolveFinishedPromise();\n        this.updateFinishedPromise();\n        this.startTime = this.cancelTime = null;\n        this.resolver.cancel();\n    }\n    stopDriver() {\n        if (!this.driver)\n            return;\n        this.driver.stop();\n        this.driver = undefined;\n    }\n    sample(time) {\n        this.startTime = 0;\n        return this.tick(time, true);\n    }\n}\n// Legacy interface\nfunction animateValue(options) {\n    return new MainThreadAnimation(options);\n}\n\nexport { MainThreadAnimation, animateValue };\n","/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    // TODO: Can be accelerated but currently disabled until https://issues.chromium.org/issues/41491098 is resolved\n    // or until we implement support for linear() easing.\n    // \"background-color\"\n]);\n\nexport { acceleratedValues };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","/**\n * Add the ability for test suites to manually set support flags\n * to better test more environments.\n */\nconst supportsFlags = {\n    linearEasing: undefined,\n};\n\nexport { supportsFlags };\n","import { memo } from '../../../../utils/memo.mjs';\nimport { supportsFlags } from './supports-flags.mjs';\n\nfunction memoSupports(callback, supportsFlag) {\n    const memoized = memo(callback);\n    return () => { var _a; return (_a = supportsFlags[supportsFlag]) !== null && _a !== void 0 ? _a : memoized(); };\n}\n\nexport { memoSupports };\n","import { memoSupports } from './memo-supports.mjs';\n\nconst supportsLinearEasing = /*@__PURE__*/ memoSupports(() => {\n    try {\n        document\n            .createElement(\"div\")\n            .animate({ opacity: 0 }, { easing: \"linear(0, 1)\" });\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}, \"linearEasing\");\n\nexport { supportsLinearEasing };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\nimport { generateLinearEasing } from './utils/linear.mjs';\nimport { supportsLinearEasing } from './utils/supports-linear-easing.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean((typeof easing === \"function\" && supportsLinearEasing()) ||\n        !easing ||\n        (typeof easing === \"string\" &&\n            (easing in supportedWaapiEasing || supportsLinearEasing())) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: /*@__PURE__*/ cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: /*@__PURE__*/ cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: /*@__PURE__*/ cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: /*@__PURE__*/ cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing, duration) {\n    if (!easing) {\n        return undefined;\n    }\n    else if (typeof easing === \"function\" && supportsLinearEasing()) {\n        return generateLinearEasing(easing, duration);\n    }\n    else if (isBezierDefinition(easing)) {\n        return cubicBezierAsString(easing);\n    }\n    else if (Array.isArray(easing)) {\n        return easing.map((segmentEasing) => mapEasingToNativeEasing(segmentEasing, duration) ||\n            supportedWaapiEasing.easeOut);\n    }\n    else {\n        return supportedWaapiEasing[easing];\n    }\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction startWaapiAnimation(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = \"loop\", ease = \"easeInOut\", times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease, duration);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { startWaapiAnimation };\n","function attachTimeline(animation, timeline) {\n    animation.timeline = timeline;\n    animation.onfinish = null;\n}\n\nexport { attachTimeline };\n","import { memo } from '../../../../utils/memo.mjs';\n\nconst supportsWaapi = /*@__PURE__*/ memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n\nexport { supportsWaapi };\n","import { anticipate } from '../../easing/anticipate.mjs';\nimport { backInOut } from '../../easing/back.mjs';\nimport { circInOut } from '../../easing/circ.mjs';\nimport { DOMKeyframesResolver } from '../../render/dom/DOMKeyframesResolver.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { isGenerator } from '../generators/utils/is-generator.mjs';\nimport { BaseAnimation } from './BaseAnimation.mjs';\nimport { MainThreadAnimation } from './MainThreadAnimation.mjs';\nimport { acceleratedValues } from './utils/accelerated-values.mjs';\nimport { startWaapiAnimation } from './waapi/index.mjs';\nimport { isWaapiSupportedEasing } from './waapi/easing.mjs';\nimport { attachTimeline } from './waapi/utils/attach-timeline.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\nimport { supportsLinearEasing } from './waapi/utils/supports-linear-easing.mjs';\nimport { supportsWaapi } from './waapi/utils/supports-waapi.mjs';\n\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\n/**\n * Check if an animation can run natively via WAAPI or requires pregenerated keyframes.\n * WAAPI doesn't support spring or function easings so we run these as JS animation before\n * handing off.\n */\nfunction requiresPregeneratedKeyframes(options) {\n    return (isGenerator(options.type) ||\n        options.type === \"spring\" ||\n        !isWaapiSupportedEasing(options.ease));\n}\nfunction pregenerateKeyframes(keyframes, options) {\n    /**\n     * Create a main-thread animation to pregenerate keyframes.\n     * We sample this at regular intervals to generate keyframes that we then\n     * linearly interpolate between.\n     */\n    const sampleAnimation = new MainThreadAnimation({\n        ...options,\n        keyframes,\n        repeat: 0,\n        delay: 0,\n        isGenerator: true,\n    });\n    let state = { done: false, value: keyframes[0] };\n    const pregeneratedKeyframes = [];\n    /**\n     * Bail after 20 seconds of pre-generated keyframes as it's likely\n     * we're heading for an infinite loop.\n     */\n    let t = 0;\n    while (!state.done && t < maxDuration) {\n        state = sampleAnimation.sample(t);\n        pregeneratedKeyframes.push(state.value);\n        t += sampleDelta;\n    }\n    return {\n        times: undefined,\n        keyframes: pregeneratedKeyframes,\n        duration: t - sampleDelta,\n        ease: \"linear\",\n    };\n}\nconst unsupportedEasingFunctions = {\n    anticipate,\n    backInOut,\n    circInOut,\n};\nfunction isUnsupportedEase(key) {\n    return key in unsupportedEasingFunctions;\n}\nclass AcceleratedAnimation extends BaseAnimation {\n    constructor(options) {\n        super(options);\n        const { name, motionValue, element, keyframes } = this.options;\n        this.resolver = new DOMKeyframesResolver(keyframes, (resolvedKeyframes, finalKeyframe) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe), name, motionValue, element);\n        this.resolver.scheduleResolve();\n    }\n    initPlayback(keyframes, finalKeyframe) {\n        var _a;\n        let { duration = 300, times, ease, type, motionValue, name, startTime, } = this.options;\n        /**\n         * If element has since been unmounted, return false to indicate\n         * the animation failed to initialised.\n         */\n        if (!((_a = motionValue.owner) === null || _a === void 0 ? void 0 : _a.current)) {\n            return false;\n        }\n        /**\n         * If the user has provided an easing function name that isn't supported\n         * by WAAPI (like \"anticipate\"), we need to provide the corressponding\n         * function. This will later get converted to a linear() easing function.\n         */\n        if (typeof ease === \"string\" &&\n            supportsLinearEasing() &&\n            isUnsupportedEase(ease)) {\n            ease = unsupportedEasingFunctions[ease];\n        }\n        /**\n         * If this animation needs pre-generated keyframes then generate.\n         */\n        if (requiresPregeneratedKeyframes(this.options)) {\n            const { onComplete, onUpdate, motionValue, element, ...options } = this.options;\n            const pregeneratedAnimation = pregenerateKeyframes(keyframes, options);\n            keyframes = pregeneratedAnimation.keyframes;\n            // If this is a very short animation, ensure we have\n            // at least two keyframes to animate between as older browsers\n            // can't animate between a single keyframe.\n            if (keyframes.length === 1) {\n                keyframes[1] = keyframes[0];\n            }\n            duration = pregeneratedAnimation.duration;\n            times = pregeneratedAnimation.times;\n            ease = pregeneratedAnimation.ease;\n            type = \"keyframes\";\n        }\n        const animation = startWaapiAnimation(motionValue.owner.current, name, keyframes, { ...this.options, duration, times, ease });\n        // Override the browser calculated startTime with one synchronised to other JS\n        // and WAAPI animations starting this event loop.\n        animation.startTime = startTime !== null && startTime !== void 0 ? startTime : this.calcStartTime();\n        if (this.pendingTimeline) {\n            attachTimeline(animation, this.pendingTimeline);\n            this.pendingTimeline = undefined;\n        }\n        else {\n            /**\n             * Prefer the `onfinish` prop as it's more widely supported than\n             * the `finished` promise.\n             *\n             * Here, we synchronously set the provided MotionValue to the end\n             * keyframe. If we didn't, when the WAAPI animation is finished it would\n             * be removed from the element which would then revert to its old styles.\n             */\n            animation.onfinish = () => {\n                const { onComplete } = this.options;\n                motionValue.set(getFinalKeyframe(keyframes, this.options, finalKeyframe));\n                onComplete && onComplete();\n                this.cancel();\n                this.resolveFinishedPromise();\n            };\n        }\n        return {\n            animation,\n            duration,\n            times,\n            type,\n            ease,\n            keyframes: keyframes,\n        };\n    }\n    get duration() {\n        const { resolved } = this;\n        if (!resolved)\n            return 0;\n        const { duration } = resolved;\n        return millisecondsToSeconds(duration);\n    }\n    get time() {\n        const { resolved } = this;\n        if (!resolved)\n            return 0;\n        const { animation } = resolved;\n        return millisecondsToSeconds(animation.currentTime || 0);\n    }\n    set time(newTime) {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.currentTime = secondsToMilliseconds(newTime);\n    }\n    get speed() {\n        const { resolved } = this;\n        if (!resolved)\n            return 1;\n        const { animation } = resolved;\n        return animation.playbackRate;\n    }\n    set speed(newSpeed) {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.playbackRate = newSpeed;\n    }\n    get state() {\n        const { resolved } = this;\n        if (!resolved)\n            return \"idle\";\n        const { animation } = resolved;\n        return animation.playState;\n    }\n    get startTime() {\n        const { resolved } = this;\n        if (!resolved)\n            return null;\n        const { animation } = resolved;\n        // Coerce to number as TypeScript incorrectly types this\n        // as CSSNumberish\n        return animation.startTime;\n    }\n    /**\n     * Replace the default DocumentTimeline with another AnimationTimeline.\n     * Currently used for scroll animations.\n     */\n    attachTimeline(timeline) {\n        if (!this._resolved) {\n            this.pendingTimeline = timeline;\n        }\n        else {\n            const { resolved } = this;\n            if (!resolved)\n                return noop;\n            const { animation } = resolved;\n            attachTimeline(animation, timeline);\n        }\n        return noop;\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        if (animation.playState === \"finished\") {\n            this.updateFinishedPromise();\n        }\n        animation.play();\n    }\n    pause() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.pause();\n    }\n    stop() {\n        this.resolver.cancel();\n        this.isStopped = true;\n        if (this.state === \"idle\")\n            return;\n        this.resolveFinishedPromise();\n        this.updateFinishedPromise();\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation, keyframes, duration, type, ease, times } = resolved;\n        if (animation.playState === \"idle\" ||\n            animation.playState === \"finished\") {\n            return;\n        }\n        /**\n         * WAAPI doesn't natively have any interruption capabilities.\n         *\n         * Rather than read commited styles back out of the DOM, we can\n         * create a renderless JS animation and sample it twice to calculate\n         * its current value, \"previous\" value, and therefore allow\n         * Motion to calculate velocity for any subsequent animation.\n         */\n        if (this.time) {\n            const { motionValue, onUpdate, onComplete, element, ...options } = this.options;\n            const sampleAnimation = new MainThreadAnimation({\n                ...options,\n                keyframes,\n                duration,\n                type,\n                ease,\n                times,\n                isGenerator: true,\n            });\n            const sampleTime = secondsToMilliseconds(this.time);\n            motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);\n        }\n        const { onStop } = this.options;\n        onStop && onStop();\n        this.cancel();\n    }\n    complete() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        resolved.animation.finish();\n    }\n    cancel() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        resolved.animation.cancel();\n    }\n    static supports(options) {\n        const { motionValue, name, repeatDelay, repeatType, damping, type } = options;\n        return (supportsWaapi() &&\n            name &&\n            acceleratedValues.has(name) &&\n            motionValue &&\n            motionValue.owner &&\n            motionValue.owner.current instanceof HTMLElement &&\n            /**\n             * If we're outputting values to onUpdate then we can't use WAAPI as there's\n             * no way to read the value from WAAPI every frame.\n             */\n            !motionValue.owner.getProps().onUpdate &&\n            !repeatDelay &&\n            repeatType !== \"mirror\" &&\n            damping !== 0 &&\n            type !== \"inertia\");\n    }\n}\n\nexport { AcceleratedAnimation };\n","import { memo } from '../../../utils/memo.mjs';\n\nconst supportsScrollTimeline = memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n","import { supportsScrollTimeline } from '../render/dom/scroll/supports.mjs';\n\nclass GroupPlaybackControls {\n    constructor(animations) {\n        // Bound to accomodate common `return animation.stop` pattern\n        this.stop = () => this.runAll(\"stop\");\n        this.animations = animations.filter(Boolean);\n    }\n    then(onResolve, onReject) {\n        return Promise.all(this.animations).then(onResolve).catch(onReject);\n    }\n    /**\n     * TODO: Filter out cancelled or stopped animations before returning\n     */\n    getAll(propName) {\n        return this.animations[0][propName];\n    }\n    setAll(propName, newValue) {\n        for (let i = 0; i < this.animations.length; i++) {\n            this.animations[i][propName] = newValue;\n        }\n    }\n    attachTimeline(timeline, fallback) {\n        const subscriptions = this.animations.map((animation) => {\n            if (supportsScrollTimeline() && animation.attachTimeline) {\n                return animation.attachTimeline(timeline);\n            }\n            else {\n                return fallback(animation);\n            }\n        });\n        return () => {\n            subscriptions.forEach((cancel, i) => {\n                cancel && cancel();\n                this.animations[i].stop();\n            });\n        };\n    }\n    get time() {\n        return this.getAll(\"time\");\n    }\n    set time(time) {\n        this.setAll(\"time\", time);\n    }\n    get speed() {\n        return this.getAll(\"speed\");\n    }\n    set speed(speed) {\n        this.setAll(\"speed\", speed);\n    }\n    get startTime() {\n        return this.getAll(\"startTime\");\n    }\n    get duration() {\n        let max = 0;\n        for (let i = 0; i < this.animations.length; i++) {\n            max = Math.max(max, this.animations[i].duration);\n        }\n        return max;\n    }\n    runAll(methodName) {\n        this.animations.forEach((controls) => controls[methodName]());\n    }\n    flatten() {\n        this.runAll(\"flatten\");\n    }\n    play() {\n        this.runAll(\"play\");\n    }\n    pause() {\n        this.runAll(\"pause\");\n    }\n    cancel() {\n        this.runAll(\"cancel\");\n    }\n    complete() {\n        this.runAll(\"complete\");\n    }\n}\n\nexport { GroupPlaybackControls };\n","import { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { getValueTransition } from '../utils/get-value-transition.mjs';\nimport { MotionGlobalConfig } from '../../utils/GlobalConfig.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { getFinalKeyframe } from '../animators/waapi/utils/get-final-keyframe.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\nimport { AcceleratedAnimation } from '../animators/AcceleratedAnimation.mjs';\nimport { MainThreadAnimation } from '../animators/MainThreadAnimation.mjs';\nimport { GroupPlaybackControls } from '../GroupPlaybackControls.mjs';\nimport { isTransitionDefined } from '../utils/is-transition-defined.mjs';\n\nconst animateMotionValue = (name, value, target, transition = {}, element, isHandoff) => (onComplete) => {\n    const valueTransition = getValueTransition(transition, name) || {};\n    /**\n     * Most transition values are currently completely overwritten by value-specific\n     * transitions. In the future it'd be nicer to blend these transitions. But for now\n     * delay actually does inherit from the root transition if not value-specific.\n     */\n    const delay = valueTransition.delay || transition.delay || 0;\n    /**\n     * Elapsed isn't a public transition option but can be passed through from\n     * optimized appear effects in milliseconds.\n     */\n    let { elapsed = 0 } = transition;\n    elapsed = elapsed - secondsToMilliseconds(delay);\n    let options = {\n        keyframes: Array.isArray(target) ? target : [null, target],\n        ease: \"easeOut\",\n        velocity: value.getVelocity(),\n        ...valueTransition,\n        delay: -elapsed,\n        onUpdate: (v) => {\n            value.set(v);\n            valueTransition.onUpdate && valueTransition.onUpdate(v);\n        },\n        onComplete: () => {\n            onComplete();\n            valueTransition.onComplete && valueTransition.onComplete();\n        },\n        name,\n        motionValue: value,\n        element: isHandoff ? undefined : element,\n    };\n    /**\n     * If there's no transition defined for this value, we can generate\n     * unqiue transition settings for this value.\n     */\n    if (!isTransitionDefined(valueTransition)) {\n        options = {\n            ...options,\n            ...getDefaultTransition(name, options),\n        };\n    }\n    /**\n     * Both WAAPI and our internal animation functions use durations\n     * as defined by milliseconds, while our external API defines them\n     * as seconds.\n     */\n    if (options.duration) {\n        options.duration = secondsToMilliseconds(options.duration);\n    }\n    if (options.repeatDelay) {\n        options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n    }\n    if (options.from !== undefined) {\n        options.keyframes[0] = options.from;\n    }\n    let shouldSkip = false;\n    if (options.type === false ||\n        (options.duration === 0 && !options.repeatDelay)) {\n        options.duration = 0;\n        if (options.delay === 0) {\n            shouldSkip = true;\n        }\n    }\n    if (instantAnimationState.current ||\n        MotionGlobalConfig.skipAnimations) {\n        shouldSkip = true;\n        options.duration = 0;\n        options.delay = 0;\n    }\n    /**\n     * If we can or must skip creating the animation, and apply only\n     * the final keyframe, do so. We also check once keyframes are resolved but\n     * this early check prevents the need to create an animation at all.\n     */\n    if (shouldSkip && !isHandoff && value.get() !== undefined) {\n        const finalKeyframe = getFinalKeyframe(options.keyframes, valueTransition);\n        if (finalKeyframe !== undefined) {\n            frame.update(() => {\n                options.onUpdate(finalKeyframe);\n                options.onComplete();\n            });\n            // We still want to return some animation controls here rather\n            // than returning undefined\n            return new GroupPlaybackControls([]);\n        }\n    }\n    /**\n     * Animate via WAAPI if possible. If this is a handoff animation, the optimised animation will be running via\n     * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n     * optimised animation.\n     */\n    if (!isHandoff && AcceleratedAnimation.supports(options)) {\n        return new AcceleratedAnimation(options);\n    }\n    else {\n        return new MainThreadAnimation(options);\n    }\n};\n\nexport { animateMotionValue };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\n\nexport { isTransitionDefined };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"11.12.0\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = null;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n        if (this.canTrackVelocity === null && current !== undefined) {\n            this.canTrackVelocity = isFloat(this.current);\n        }\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v, endAnimation = true) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        endAnimation && this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/gu, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","import { optimizedAppearDataAttribute } from './data-id.mjs';\n\nfunction getOptimisedAppearId(visualElement) {\n    return visualElement.props[optimizedAppearDataAttribute];\n}\n\nexport { getOptimisedAppearId };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { isWillChangeMotionValue } from './is.mjs';\n\nfunction addValueToWillChange(visualElement, key) {\n    const willChange = visualElement.getValue(\"willChange\");\n    /**\n     * It could be that a user has set willChange to a regular MotionValue,\n     * in which case we can't add the value to it.\n     */\n    if (isWillChangeMotionValue(willChange)) {\n        return willChange.add(key);\n    }\n}\n\nexport { addValueToWillChange };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { getValueTransition } from '../utils/get-value-transition.mjs';\nimport { getOptimisedAppearId } from '../optimized-appear/get-appear-id.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, targetAndTransition, { delay = 0, transitionOverride, type } = {}) {\n    var _a;\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = targetAndTransition;\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key, (_a = visualElement.latestValues[key]) !== null && _a !== void 0 ? _a : null);\n        const valueTarget = target[key];\n        if (valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        let isHandoff = false;\n        if (window.MotionHandoffAnimation) {\n            const appearId = getOptimisedAppearId(visualElement);\n            if (appearId) {\n                const startTime = window.MotionHandoffAnimation(appearId, key, frame);\n                if (startTime !== null) {\n                    valueTransition.startTime = startTime;\n                    isHandoff = true;\n                }\n            }\n        }\n        addValueToWillChange(visualElement, key);\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition, visualElement, isHandoff));\n        const animation = value.animation;\n        if (animation) {\n            animations.push(animation);\n        }\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            frame.update(() => {\n                transitionEnd && setTarget(visualElement, transitionEnd);\n            });\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    var _a;\n    const resolved = resolveVariant(visualElement, variant, options.type === \"exit\"\n        ? (_a = visualElement.presenceContext) === null || _a === void 0 ? void 0 : _a.custom\n        : undefined);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nconst numVariantProps = variantProps.length;\nfunction getVariantContext(visualElement) {\n    if (!visualElement)\n        return undefined;\n    if (!visualElement.isControllingVariants) {\n        const context = visualElement.parent\n            ? getVariantContext(visualElement.parent) || {}\n            : {};\n        if (visualElement.props.initial !== undefined) {\n            context.initial = visualElement.props.initial;\n        }\n        return context;\n    }\n    const context = {};\n    for (let i = 0; i < numVariantProps; i++) {\n        const name = variantProps[i];\n        const prop = visualElement.props[name];\n        if (isVariantLabel(prop) || prop === false) {\n            context[name] = prop;\n        }\n    }\n    return context;\n}\n\nexport { getVariantContext };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\nimport { getVariantContext } from './get-variant-context.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    let state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (type) => (acc, definition) => {\n        var _a;\n        const resolved = resolveVariant(visualElement, definition, type === \"exit\"\n            ? (_a = visualElement.presenceContext) === null || _a === void 0 ? void 0 : _a.custom\n            : undefined);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(changedActiveType) {\n        const { props } = visualElement;\n        const context = getVariantContext(visualElement.parent) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined\n                ? props[type]\n                : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] &&\n                prop !== props[type] &&\n                propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues(type), {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = false;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined && next !== null) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to skip this animation\n             * unless the inherited variants haven't changed on this render.\n             */\n            const willAnimateViaParent = isInherited && variantDidChange;\n            const needsAnimating = !willAnimateViaParent || handledRemovedValues;\n            if (shouldAnimateType && needsAnimating) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = true;\n                // @ts-expect-error - @mattgperry to figure if we should do something here\n                fallbackAnimation[key] = fallbackTarget !== null && fallbackTarget !== void 0 ? fallbackTarget : null;\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n        reset: () => {\n            state = createState();\n            isInitialRender = true;\n        },\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => {\n        visualElement.notify(\"AnimationComplete\", definition);\n    });\n}\n\nexport { animateVisualElement };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() {\n        var _a;\n        this.node.animationState.reset();\n        (_a = this.unmountControls) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n}\n\nexport { AnimationFeature };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[`${pointType}X`],\n            y: event[`${pointType}Y`],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow, dragSnapToOrigin = false } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { mixNumber } from '../../utils/mix/number.mjs';\n\nconst SCALE_PRECISION = 0.0001;\nconst SCALE_MIN = 1 - SCALE_PRECISION;\nconst SCALE_MAX = 1 + SCALE_PRECISION;\nconst TRANSLATE_PRECISION = 0.01;\nconst TRANSLATE_MIN = 0 - TRANSLATE_PRECISION;\nconst TRANSLATE_MAX = 0 + TRANSLATE_PRECISION;\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target, maxDistance) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mixNumber(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    delta.translate =\n        mixNumber(target.min, target.max, delta.origin) - delta.originPoint;\n    if ((delta.scale >= SCALE_MIN && delta.scale <= SCALE_MAX) ||\n        isNaN(delta.scale)) {\n        delta.scale = 1.0;\n    }\n    if ((delta.translate >= TRANSLATE_MIN &&\n        delta.translate <= TRANSLATE_MAX) ||\n        isNaN(delta.translate)) {\n        delta.translate = 0.0;\n    }\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mixNumber } from '../../../utils/mix/number.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(min, point, elastic.min)\n            : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(max, point, elastic.max)\n            : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY ||\n        values.skewX ||\n        values.skewY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\nconst TREE_SCALE_SNAP_MIN = 0.999999999999;\nconst TREE_SCALE_SNAP_MAX = 1.0000000000001;\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const { visualElement } = node.options;\n        if (visualElement &&\n            visualElement.props.style &&\n            visualElement.props.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    if (treeScale.x < TREE_SCALE_SNAP_MAX &&\n        treeScale.x > TREE_SCALE_SNAP_MIN) {\n        treeScale.x = 1.0;\n    }\n    if (treeScale.y < TREE_SCALE_SNAP_MAX &&\n        treeScale.y > TREE_SCALE_SNAP_MIN) {\n        treeScale.y = 1.0;\n    }\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, axisTranslate, axisScale, boxScale, axisOrigin = 0.5) {\n    const originPoint = mixNumber(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, axisTranslate, axisScale, originPoint, boxScale);\n}\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform.x, transform.scaleX, transform.scale, transform.originX);\n    transformAxis(box.y, transform.y, transform.scaleY, transform.scale, transform.originY);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","// Fixes https://github.com/framer/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, calcOrigin, defaultElastic } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.postRender(() => onDragStart(event, info));\n            }\n            addValueToWillChange(this.visualElement, \"transform\");\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        const resumeAnimation = () => eachAxis((axis) => {\n            var _a;\n            return this.getAnimationState(axis) === \"paused\" &&\n                ((_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.play());\n        });\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.postRender(() => onDragEnd(event, info));\n        }\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        var _a;\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : (_a = this.visualElement.projection) === null || _a === void 0 ? void 0 : _a.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.constraints !== false &&\n                    this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        addValueToWillChange(this.visualElement, axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition, this.visualElement, false));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => { var _a; return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.pause(); });\n    }\n    getAnimationState(axis) {\n        var _a;\n        return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = `_drag${axis.toUpperCase()}`;\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial\n                ? props.initial[axis]\n                : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mixNumber(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue && this.constraints !== false) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mixNumber(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints) && dragConstraints.current) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        frame.read(measureDragConstraints);\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.postRender(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.postRender(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mixNumber(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { useContext, Component } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { microtask } from '../../../frameloop/microtask.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (jsx(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { useContext, useId, useEffect, useCallback } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = useCallback(() => onExitComplete && onExitComplete(id), [id, onExitComplete]);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mixNumber(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mixNumber(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mixNumber(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mixNumber(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mixNumber(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = /*@__PURE__*/ compress(0, 0.5, circOut);\nconst easeCrossfadeOut = /*@__PURE__*/ compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n/**\n * Reset a delta to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisDeltaInto(delta, originDelta) {\n    delta.translate = originDelta.translate;\n    delta.scale = originDelta.scale;\n    delta.originPoint = originDelta.originPoint;\n    delta.origin = originDelta.origin;\n}\n\nexport { copyAxisDeltaInto, copyAxisInto, copyBoxInto };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mixNumber(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mixNumber(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction axisEquals(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nfunction boxEquals(a, b) {\n    return axisEquals(a.x, b.x) && axisEquals(a.y, b.y);\n}\nfunction axisEqualsRounded(a, b) {\n    return (Math.round(a.min) === Math.round(b.min) &&\n        Math.round(a.max) === Math.round(b.max));\n}\nfunction boxEqualsRounded(a, b) {\n    return axisEqualsRounded(a.x, b.x) && axisEqualsRounded(a.y, b.y);\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\nfunction axisDeltaEquals(a, b) {\n    return (a.translate === b.translate &&\n        a.scale === b.scale &&\n        a.originPoint === b.originPoint);\n}\n\nexport { aspectRatio, axisDeltaEquals, axisEquals, axisEqualsRounded, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto, copyAxisDeltaInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { getValueTransition } from '../../animation/utils/get-value-transition.mjs';\nimport { boxEqualsRounded, isDeltaZero, axisDeltaEquals, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/animate/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, frameSteps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { time } from '../../frameloop/sync-time.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\nimport { getOptimisedAppearId } from '../../animation/optimized-appear/get-appear-id.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\n\nconst metrics = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nconst isDebug = typeof window !== \"undefined\" && window.MotionDebug !== undefined;\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\nconst hiddenVisibility = { visibility: \"hidden\" };\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\nfunction resetDistortingTransform(key, visualElement, values, sharedAnimationValues) {\n    const { latestValues } = visualElement;\n    // Record the distorting transform and then temporarily set it to 0\n    if (latestValues[key]) {\n        values[key] = latestValues[key];\n        visualElement.setStaticValue(key, 0);\n        if (sharedAnimationValues) {\n            sharedAnimationValues[key] = 0;\n        }\n    }\n}\nfunction cancelTreeOptimisedTransformAnimations(projectionNode) {\n    projectionNode.hasCheckedOptimisedAppear = true;\n    if (projectionNode.root === projectionNode)\n        return;\n    const { visualElement } = projectionNode.options;\n    if (!visualElement)\n        return;\n    const appearId = getOptimisedAppearId(visualElement);\n    if (window.MotionHasOptimisedAnimation(appearId, \"transform\")) {\n        const { layout, layoutId } = projectionNode.options;\n        window.MotionCancelOptimisedAnimation(appearId, \"transform\", frame, !(layout || layoutId));\n    }\n    const { parent } = projectionNode;\n    if (parent && !parent.hasCheckedOptimisedAppear) {\n        cancelTreeOptimisedTransformAnimations(parent);\n    }\n}\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * Store whether this node has been checked for optimised appear animations. As\n             * effects fire bottom-up, and we want to look up the tree for appear animations,\n             * this makes sure we only check each path once, stopping at nodes that\n             * have already been checked.\n             */\n            this.hasCheckedOptimisedAppear = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.scheduleUpdate = () => this.update();\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                if (isDebug) {\n                    metrics.totalNodes =\n                        metrics.resolvedTargetDeltas =\n                            metrics.recalculatedProjection =\n                                0;\n                }\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                if (isDebug) {\n                    window.MotionDebug.record(metrics);\n                }\n            };\n            /**\n             * Frame calculations\n             */\n            this.resolvedRelativeTargetAt = 0.0;\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetSkewAndRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            /**\n             * If we're running optimised appear animations then these must be\n             * cancelled before measuring the DOM. This is so we can measure\n             * the true layout of the element rather than the WAAPI animation\n             * which will be unaffected by the resetSkewAndRotate step.\n             *\n             * Note: This is a DOM write. Worst case scenario is this is sandwiched\n             * between other snapshot reads which will cause unnecessary style recalculations.\n             * This has to happen here though, as we don't yet know which nodes will need\n             * snapshots in startUpdate(), but we only want to cancel optimised animations\n             * if a layout animation measurement is actually going to be affected by them.\n             */\n            if (window.MotionCancelOptimisedAnimation &&\n                !this.hasCheckedOptimisedAppear) {\n                cancelTreeOptimisedTransformAnimations(this);\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            frameSteps.update.process(frameData);\n            frameSteps.preRender.process(frameData);\n            frameSteps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(this.scheduleUpdate);\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                const isRoot = checkIsScrollRoot(this.instance);\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot,\n                    offset: measureScroll(this.instance),\n                    wasRoot: this.scroll ? this.scroll.isRoot : isRoot,\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty ||\n                this.shouldResetTransform ||\n                this.options.alwaysMeasureLayout;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            var _a;\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            const wasInScrollRoot = ((_a = this.scroll) === null || _a === void 0 ? void 0 : _a.wasRoot) || this.path.some(checkNodeWasScrollRoot);\n            if (!wasInScrollRoot) {\n                // Remove viewport scroll to give page-relative coordinates\n                const { scroll } = this.root;\n                if (scroll) {\n                    translateAxis(box.x, scroll.offset.x);\n                    translateAxis(box.y, scroll.offset.y);\n                }\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            var _a;\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            if ((_a = this.scroll) === null || _a === void 0 ? void 0 : _a.wasRoot) {\n                return boxWithoutScroll;\n            }\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.wasRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget ||\n                this.root.updateBlockedByResize);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            if (isDebug) {\n                metrics.resolvedTargetDeltas++;\n            }\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.prevProjectionDelta) {\n                    this.createProjectionDeltas();\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta || !this.prevProjectionDelta) {\n                this.createProjectionDeltas();\n            }\n            else {\n                copyAxisDeltaInto(this.prevProjectionDelta.x, this.projectionDelta.x);\n                copyAxisDeltaInto(this.prevProjectionDelta.y, this.projectionDelta.y);\n            }\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            if (this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY ||\n                !axisDeltaEquals(this.projectionDelta.x, this.prevProjectionDelta.x) ||\n                !axisDeltaEquals(this.projectionDelta.y, this.prevProjectionDelta.y)) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            if (isDebug) {\n                metrics.recalculatedProjection++;\n            }\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            var _a;\n            (_a = this.options.visualElement) === null || _a === void 0 ? void 0 : _a.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        createProjectionDeltas() {\n            this.prevProjectionDelta = createDelta();\n            this.projectionDelta = createDelta();\n            this.projectionDeltaWithTransform = createDelta();\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetSkewAndRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected skew or rotation values, we can early return without a forced render.\n            let hasDistortingTransform = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.z ||\n                latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ ||\n                latestValues.skewX ||\n                latestValues.skewY) {\n                hasDistortingTransform = true;\n            }\n            // If there's no distorting values, we don't need to do any more.\n            if (!hasDistortingTransform)\n                return;\n            const resetValues = {};\n            if (latestValues.z) {\n                resetDistortingTransform(\"z\", visualElement, resetValues, this.animationValues);\n            }\n            // Check the skew and rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                resetDistortingTransform(`rotate${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n                resetDistortingTransform(`skew${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n            }\n            // Force a render of this element to apply the transform with all skews and rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n                if (this.animationValues) {\n                    this.animationValues[key] = resetValues[key];\n                }\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp) {\n            var _a, _b;\n            if (!this.instance || this.isSVG)\n                return undefined;\n            if (!this.isVisible) {\n                return hiddenVisibility;\n            }\n            const styles = {\n                visibility: \"\",\n            };\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    if (isDebug) {\n        metrics.totalNodes++;\n    }\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetSkewAndRotation(node) {\n    node.resetSkewAndRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mixNumber(delta.translate, 0, p);\n    output.scale = mixNumber(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mixNumber(from.min, to.min, p);\n    output.max = mixNumber(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\nfunction checkNodeWasScrollRoot(node) {\n    var _a;\n    return node !== node.root && ((_a = node.scroll) === null || _a === void 0 ? void 0 : _a.wasRoot);\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { time } from '../frameloop/sync-time.mjs';\nimport { secondsToMilliseconds } from './time-conversion.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\nfunction delayInSeconds(callback, timeout) {\n    return delay(callback, secondsToMilliseconds(timeout));\n}\n\nexport { delay, delayInSeconds };\n","import { animateMotionValue } from '../interfaces/motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    const zTranslate = (latestTransform === null || latestTransform === void 0 ? void 0 : latestTransform.z) || 0;\n    if (xTranslate || yTranslate || zTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, ${zTranslate}px) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { transformPerspective, rotate, rotateX, rotateY, skewX, skewY } = latestTransform;\n        if (transformPerspective)\n            transform = `perspective(${transformPerspective}px) ${transform}`;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n        if (skewX)\n            transform += `skewX(${skewX}deg) `;\n        if (skewY)\n            transform += `skewY(${skewY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = isActive ? \"pointerenter\" : \"pointerleave\";\n    const callbackName = isActive ? \"onHoverStart\" : \"onHoverEnd\";\n    const handleEvent = (event, info) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        const callback = props[callbackName];\n        if (callback) {\n            frame.postRender(() => callback(event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            if (this.isPressing)\n                return;\n            this.removeEndListeners();\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel, globalTapTarget } = this.node.getProps();\n                /**\n                 * We only count this as a tap gesture if the event.target is the same\n                 * as, or a child of, this component's element\n                 */\n                const handler = !globalTapTarget &&\n                    !isNodeOrChild(this.node.current, endEvent.target)\n                    ? onTapCancel\n                    : onTap;\n                if (handler) {\n                    frame.update(() => handler(endEvent, endInfo));\n                }\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, {\n                passive: !(props.onTap || props[\"onPointerUp\"]),\n            });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), {\n                passive: !(props.onTapCancel ||\n                    props[\"onPointerCancel\"]),\n            });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.postRender(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.postRender(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.postRender(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(props.globalTapTarget ? window : this.node.current, \"pointerdown\", this.startPointerPress, {\n            passive: !(props.onTapStart ||\n                props[\"onPointerStart\"]),\n        });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","const isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement, ProjectionNodeConstructor) {\n    var _a, _b;\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    /**\n     * Load Motion gesture and animation features. These are rendered as renderless\n     * components so each feature can optionally make use of React lifecycle methods.\n     */\n    const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n    if (visualElement &&\n        !visualElement.projection &&\n        ProjectionNodeConstructor &&\n        (visualElement.type === \"html\" || visualElement.type === \"svg\")) {\n        createProjectionNode(visualElementRef.current, props, ProjectionNodeConstructor, initialLayoutGroupConfig);\n    }\n    const isMounted = useRef(false);\n    useInsertionEffect(() => {\n        /**\n         * Check the component has already mounted before calling\n         * `update` unnecessarily. This ensures we skip the initial update.\n         */\n        if (visualElement && isMounted.current) {\n            visualElement.update(props, presenceContext);\n        }\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const optimisedAppearId = props[optimizedAppearDataAttribute];\n    const wantsHandoff = useRef(Boolean(optimisedAppearId) &&\n        !((_a = window.MotionHandoffIsComplete) === null || _a === void 0 ? void 0 : _a.call(window, optimisedAppearId)) &&\n        ((_b = window.MotionHasOptimisedAnimation) === null || _b === void 0 ? void 0 : _b.call(window, optimisedAppearId)));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        isMounted.current = true;\n        window.MotionIsMounted = true;\n        visualElement.updateFeatures();\n        microtask.render(visualElement.render);\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            // This ensures all future calls to animateChanges() in this component will run in useEffect\n            queueMicrotask(() => {\n                var _a;\n                (_a = window.MotionHandoffMarkAsComplete) === null || _a === void 0 ? void 0 : _a.call(window, optimisedAppearId);\n            });\n            wantsHandoff.current = false;\n        }\n    });\n    return visualElement;\n}\nfunction createProjectionNode(visualElement, props, ProjectionNodeConstructor, initialPromotionConfig) {\n    const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = props;\n    visualElement.projection = new ProjectionNodeConstructor(visualElement.latestValues, props[\"data-framer-portal-id\"]\n        ? undefined\n        : getClosestProjectingNode(visualElement.parent));\n    visualElement.projection.setOptions({\n        layoutId,\n        layout,\n        alwaysMeasureLayout: Boolean(drag) || (dragConstraints && isRefObject(dragConstraints)),\n        visualElement,\n        /**\n         * TODO: Update options in an effect. This could be tricky as it'll be too late\n         * to update by the time layout animations run.\n         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n         * ensuring it gets called if there's no potential layout animations.\n         *\n         */\n        animationType: typeof layout === \"string\" ? layout : \"both\",\n        initialPromotionConfig,\n        layoutScroll,\n        layoutRoot,\n    });\n}\nfunction getClosestProjectingNode(visualElement) {\n    if (!visualElement)\n        return undefined;\n    return visualElement.options.allowProjection !== false\n        ? visualElement.projection\n        : getClosestProjectingNode(visualElement.parent);\n}\n\nexport { useVisualElement };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            if (instance) {\n                visualElement.mount(instance);\n            }\n            else {\n                visualElement.unmount();\n            }\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","\"use client\";\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\nimport { warning, invariant } from '../utils/errors.mjs';\nimport { featureDefinitions } from './features/definitions.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createRendererMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            useStrictMode(configAndProps, preloadedFeatures);\n            const layoutProjection = getProjectionFunctionality(configAndProps);\n            MeasureLayout = layoutProjection.MeasureLayout;\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement, layoutProjection.ProjectionNode);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (jsxs(MotionContext.Provider, { value: context, children: [MeasureLayout && context.visualElement ? (jsx(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)] }));\n    }\n    const ForwardRefMotionComponent = forwardRef(MotionComponent);\n    ForwardRefMotionComponent[motionComponentSymbol] = Component;\n    return ForwardRefMotionComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useStrictMode(configAndProps, preloadedFeatures) {\n    const isStrict = useContext(LazyContext).strict;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        isStrict) {\n        const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n        configAndProps.ignoreStrict\n            ? warning(false, strictMessage)\n            : invariant(false, strictMessage);\n    }\n}\nfunction getProjectionFunctionality(props) {\n    const { drag, layout } = featureDefinitions;\n    if (!drag && !layout)\n        return {};\n    const combined = { ...drag, ...layout };\n    return {\n        MeasureLayout: (drag === null || drag === void 0 ? void 0 : drag.isEnabled(props)) || (layout === null || layout === void 0 ? void 0 : layout.isEnabled(props))\n            ? combined.MeasureLayout\n            : undefined,\n        ProjectionNode: combined.ProjectionNode,\n    };\n}\n\nexport { createRendererMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","/**\n * We keep these listed separately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/u.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    var _a;\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style &&\n                isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props) ||\n            ((_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.getValue(key)) === null || _a === void 0 ? void 0 : _a.liveStyle) !== undefined) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps, visualElement);\n    for (const key in props) {\n        if (isMotionValue(props[key]) ||\n            isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        for (let i = 0; i < list.length; i++) {\n            const resolved = resolveVariantFromProps(props, list[i]);\n            if (resolved) {\n                const { transitionEnd, transition, ...target } = resolved;\n                for (const key in target) {\n                    let valueTarget = target[key];\n                    if (Array.isArray(valueTarget)) {\n                        /**\n                         * Take final keyframe if the initial animation is blocked because\n                         * we want to initialise at the end of that blocked animation.\n                         */\n                        const index = isInitialAnimationBlocked\n                            ? valueTarget.length - 1\n                            : 0;\n                        valueTarget = valueTarget[index];\n                    }\n                    if (valueTarget !== null) {\n                        values[key] = valueTarget;\n                    }\n                }\n                for (const key in transitionEnd) {\n                    values[key] = transitionEnd[key];\n                }\n            }\n        }\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","import { transformPropOrder } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(latestValues, transform, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    let transformIsDefault = true;\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        const value = latestValues[key];\n        if (value === undefined)\n            continue;\n        let valueIsDefault = true;\n        if (typeof value === \"number\") {\n            valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0);\n        }\n        else {\n            valueIsDefault = parseFloat(value) === 0;\n        }\n        if (!valueIsDefault || transformTemplate) {\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (!valueIsDefault) {\n                transformIsDefault = false;\n                const transformName = translateAlias[key] || key;\n                transformString += `${transformName}(${valueAsType}) `;\n            }\n            if (transformTemplate) {\n                transform[key] = valueAsType;\n            }\n        }\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, transformTemplate) {\n    const { style, vars, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept separately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            continue;\n        }\n        else if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        else {\n            // Convert the value to its default value type, ie 0 -> \"0px\"\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (key.startsWith(\"origin\")) {\n                // If this is a transform origin, flag and enable further transform-origin processing\n                hasTransformOrigin = true;\n                transformOrigin[key] =\n                    valueAsType;\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(latestValues, state.transform, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState));\n    return style;\n}\nfunction useHTMLProps(props, visualState) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] &&\n                key.startsWith(\"onDrag\"))) {\n            filteredProps[key] =\n                props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { Fragment, useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = Component !== Fragment\n            ? { ...filteredProps, ...visualProps, ref }\n            : {};\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","import { createRendererMotionComponent } from '../../motion/index.mjs';\nimport { isSVGComponent } from '../dom/utils/is-svg-component.mjs';\nimport { svgMotionConfig } from '../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../html/config-motion.mjs';\nimport { createUseRender } from '../dom/use-render.mjs';\n\nfunction createMotionComponentFactory(preloadedFeatures, createVisualElement) {\n    return function createMotionComponent(Component, { forwardMotionProps } = { forwardMotionProps: false }) {\n        const baseConfig = isSVGComponent(Component)\n            ? svgMotionConfig\n            : htmlMotionConfig;\n        const config = {\n            ...baseConfig,\n            preloadedFeatures,\n            useRender: createUseRender(forwardMotionProps),\n            createVisualElement,\n            Component,\n        };\n        return createRendererMotionComponent(config);\n    };\n}\n\nexport { createMotionComponentFactory };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { KeyframeResolver } from './utils/KeyframesResolver.mjs';\nimport { isNumericalString } from '../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../utils/is-zero-value-string.mjs';\nimport { findValueType } from './dom/value-types/find.mjs';\nimport { complex } from '../value/types/complex/index.mjs';\nimport { getAnimatableNone } from './dom/value-types/animatable-none.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps, _visualElement) {\n        return {};\n    }\n    constructor({ parent, props, presenceContext, reducedMotionConfig, blockInitialAnimation, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        this.KeyframeResolver = KeyframeResolver;\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.renderScheduledAt = 0.0;\n        this.scheduleRender = () => {\n            const now = time.now();\n            if (this.renderScheduledAt < now) {\n                this.renderScheduledAt = now;\n                frame.render(this.render, false, true);\n            }\n        };\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.blockInitialAnimation = Boolean(blockInitialAnimation);\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't necessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {}, this);\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n            }\n        }\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.valueSubscriptions.clear();\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature) {\n                feature.unmount();\n                feature.isMounted = false;\n            }\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        if (this.valueSubscriptions.has(key)) {\n            this.valueSubscriptions.get(key)();\n        }\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate && frame.preRender(this.notifyUpdate);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        let removeSyncCheck;\n        if (window.MotionCheckAppearSync) {\n            removeSyncCheck = window.MotionCheckAppearSync(this, key, value);\n        }\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n            if (removeSyncCheck)\n                removeSyncCheck();\n            if (value.owner)\n                value.stop();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    updateFeatures() {\n        let key = \"animation\";\n        for (key in featureDefinitions) {\n            const featureDefinition = featureDefinitions[key];\n            if (!featureDefinition)\n                continue;\n            const { isEnabled, Feature: FeatureConstructor } = featureDefinition;\n            /**\n             * If this feature is enabled but not active, make a new instance.\n             */\n            if (!this.features[key] &&\n                FeatureConstructor &&\n                isEnabled(this.props)) {\n                this.features[key] = new FeatureConstructor(this);\n            }\n            /**\n             * If we have a feature, mount or update it.\n             */\n            if (this.features[key]) {\n                const feature = this.features[key];\n                if (feature.isMounted) {\n                    feature.update();\n                }\n                else {\n                    feature.mount();\n                    feature.isMounted = true;\n                }\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listenerName = (\"on\" + key);\n            const listener = props[listenerName];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps, this), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        const existingValue = this.values.get(key);\n        if (value !== existingValue) {\n            if (existingValue)\n                this.removeValue(key);\n            this.bindToMotionValue(key, value);\n            this.values.set(key, value);\n            this.latestValues[key] = value.get();\n        }\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue === null ? undefined : defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key, target) {\n        var _a;\n        let value = this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n        if (value !== undefined && value !== null) {\n            if (typeof value === \"string\" &&\n                (isNumericalString(value) || isZeroValueString(value))) {\n                // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n                value = parseFloat(value);\n            }\n            else if (!findValueType(value) && complex.test(target)) {\n                value = getAnimatableNone(key, target);\n            }\n            this.setBaseTarget(key, isMotionValue(value) ? value.get() : value);\n        }\n        return isMotionValue(value) ? value.get() : value;\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        let valueFromInitial;\n        if (typeof initial === \"string\" || typeof initial === \"object\") {\n            const variant = resolveVariantFromProps(this.props, initial, (_a = this.presenceContext) === null || _a === void 0 ? void 0 : _a.custom);\n            if (variant) {\n                valueFromInitial = variant[key];\n            }\n        }\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"11.12.0\", `Attempting to mix Motion versions ${nextValue.version} with 11.12.0 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                if (existingValue.liveStyle === true) {\n                    existingValue.jump(nextValue);\n                }\n                else if (!existingValue.hasAnimated) {\n                    existingValue.set(nextValue);\n                }\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { VisualElement } from '../VisualElement.mjs';\nimport { DOMKeyframesResolver } from './DOMKeyframesResolver.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.KeyframeResolver = DOMKeyframesResolver;\n    }\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style\n            ? props.style[key]\n            : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n        this.renderInstance = renderHTML;\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, props) {\n        buildHTMLStyles(renderState, latestValues, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n        this.measureInstanceViewportBox = createBox;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n    build(renderState, latestValues, props) {\n        buildSVGAttrs(renderState, latestValues, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { Fragment } from 'react';\nimport { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options)\n        : new HTMLVisualElement(options, {\n            allowProjection: Component !== Fragment,\n        });\n};\n\nexport { createDomVisualElement };\n","import { createDOMMotionComponentProxy } from '../create-proxy.mjs';\nimport { createMotionComponent } from './create.mjs';\n\nconst motion = /*@__PURE__*/ createDOMMotionComponentProxy(createMotionComponent);\n\nexport { motion };\n","import { animations } from '../../../motion/features/animations.mjs';\nimport { drag } from '../../../motion/features/drag.mjs';\nimport { gestureAnimations } from '../../../motion/features/gestures.mjs';\nimport { layout } from '../../../motion/features/layout.mjs';\nimport { createMotionComponentFactory } from '../create-factory.mjs';\nimport { createDomVisualElement } from '../../dom/create-visual-element.mjs';\n\nconst createMotionComponent = /*@__PURE__*/ createMotionComponentFactory({\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n}, createDomVisualElement);\n\nexport { createMotionComponent };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useCallback, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const memoizedOnExitComplete = useCallback((childId) => {\n        presenceChildren.set(childId, true);\n        for (const isComplete of presenceChildren.values()) {\n            if (!isComplete)\n                return; // can stop searching when any is incomplete\n        }\n        onExitComplete && onExitComplete();\n    }, [presenceChildren, onExitComplete]);\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: memoizedOnExitComplete,\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout\n        ? [Math.random(), memoizedOnExitComplete]\n        : [isPresent, memoizedOnExitComplete]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = jsx(PopChild, { isPresent: isPresent, children: children });\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { invariant } from '../../utils/errors.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, exitBeforeEnter, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = presentChildren === renderedChildren ||\n                presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender === null || forceRender === void 0 ? void 0 : forceRender();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: isPresent ? undefined : custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, onExitComplete: isPresent ? undefined : onExit, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n","import { cn } from \"@/lib/utils\";\nimport { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst navigationItems = [\n  { label: \"Accueil\", to: \"/#home\" },\n  { label: \"Services\", to: \"/#features\" },\n  { label: \"Articles\", to: \"/#articles\" },\n  { label: \"Territoires\", to: \"/#territories\" },\n  { label: \"Tmoignages\", to: \"/#testimonials\" },\n  { label: \"Contact\", to: \"/#newsletter\" },\n];\n\nexport function NavigationMenu() {\n  const [activeItem, setActiveItem] = useState(\"/#home\");\n  const location = useLocation();\n\n  const handleClick = (to: string) => {\n    setActiveItem(to);\n    if (to.startsWith(\"/#\")) {\n      const element = document.getElementById(to.substring(2));\n      if (element) {\n        const headerOffset = 64;\n        const elementPosition = element.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.scrollY - headerOffset;\n\n        window.scrollTo({\n          top: offsetPosition,\n          behavior: \"smooth\",\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (location.pathname === \"/\") {\n        const sections = navigationItems\n          .map(item => item.to.substring(2))\n          .filter(id => document.getElementById(id));\n\n        const viewportMiddle = window.innerHeight / 3;\n        let closestSection = null;\n        let minDistance = Infinity;\n\n        sections.forEach(sectionId => {\n          const element = document.getElementById(sectionId);\n          if (element) {\n            const rect = element.getBoundingClientRect();\n            const distance = Math.abs(rect.top - viewportMiddle);\n            if (distance < minDistance) {\n              minDistance = distance;\n              closestSection = sectionId;\n            }\n          }\n        });\n\n        if (closestSection) {\n          setActiveItem(\"/#\" + closestSection);\n        }\n      } else {\n        setActiveItem(location.pathname);\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [location]);\n\n  return (\n    <nav className=\"flex items-center space-x-8\">\n      <AnimatePresence mode=\"wait\">\n        {navigationItems.map(({ label, to }) => (\n          <Link\n            key={to}\n            to={to}\n            onClick={() => handleClick(to)}\n            className={cn(\n              \"relative py-2 text-sm font-medium text-gray-600 transition-colors hover:text-blue-600\",\n              activeItem === to && \"text-blue-600\"\n            )}\n          >\n            {activeItem === to && (\n              <motion.div\n                layoutId=\"bubble\"\n                className=\"absolute -bottom-px left-0 right-0 h-0.5 bg-blue-600\"\n                transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\n              />\n            )}\n            {label}\n          </Link>\n        ))}\n      </AnimatePresence>\n    </nav>\n  );\n}","import { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\nconst navigationItems = [\n  { label: \"Accueil\", href: \"home\" },\n  { label: \"Services\", href: \"features\" },\n  { label: \"Articles\", href: \"articles\" },\n  { label: \"Territoires\", href: \"territories\" },\n  { label: \"Tmoignages\", href: \"testimonials\" },\n  { label: \"Contact\", href: \"newsletter\" },\n];\n\ninterface MobileMenuProps {\n  isOpen: boolean;\n}\n\nexport function MobileMenu({ isOpen }: MobileMenuProps) {\n  const handleClick = (href: string) => {\n    const element = document.getElementById(href);\n    if (element) {\n      const headerOffset = 64;\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n      });\n    }\n  };\n\n  return (\n    <div\n      className={cn(\n        \"md:hidden\",\n        \"absolute top-full left-0 right-0\",\n        \"bg-white border-b border-gray-100\",\n        \"transition-all duration-300 ease-in-out\",\n        isOpen ? \"opacity-100 translate-y-0\" : \"opacity-0 -translate-y-4 pointer-events-none\"\n      )}\n    >\n      <div className=\"container mx-auto px-4 py-4\">\n        <nav className=\"flex flex-col space-y-2\">\n          {navigationItems.map((item) => (\n            <button\n              key={item.label}\n              onClick={() => handleClick(item.href)}\n              className=\"px-4 py-2 text-left text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors\"\n            >\n              {item.label}\n            </button>\n          ))}\n        </nav>\n        <div className=\"mt-4 flex flex-col space-y-2\">\n          <Button variant=\"ghost\" className=\"w-full justify-center\">\n            Se connecter\n          </Button>\n          <Button className=\"w-full justify-center\">\n            S'inscrire\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Brain } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { NavigationMenu } from \"./navigation/NavigationMenu\";\nimport { MobileMenu } from \"./navigation/MobileMenu\";\nimport { Link } from \"react-router-dom\";\n\nexport function Header() {\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 0);\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <header \n      className={cn(\n        \"fixed top-0 left-0 right-0 z-50 transition-all duration-300\",\n        \"bg-white/70 backdrop-blur-lg\",\n        isScrolled ? \"shadow-[0_0_15px_rgba(59,130,246,0.1)]\" : \"\"\n      )}\n    >\n      <div className=\"container mx-auto px-4\">\n        <div className=\"h-16 flex items-center justify-between\">\n          {/* Logo */}\n          <Link to=\"/\" className=\"flex items-center space-x-2\">\n            <Brain className=\"w-6 h-6 text-blue-600\" />\n            <span className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent\">\n              ULTRAI.FR\n            </span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:block\">\n            <NavigationMenu />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center space-x-4\">\n            <Button variant=\"ghost\" className=\"hidden md:inline-flex font-medium\">\n              Se connecter\n            </Button>\n            <Button className=\"hidden md:inline-flex\">\n              S'inscrire\n            </Button>\n\n            {/* Mobile menu button */}\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"md:hidden\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            >\n              <div className=\"w-6 h-6 flex flex-col justify-center space-y-1.5\">\n                <span className={cn(\n                  \"block h-0.5 w-6 bg-gray-600 transition-all\",\n                  mobileMenuOpen && \"rotate-45 translate-y-2\"\n                )} />\n                <span className={cn(\n                  \"block h-0.5 w-6 bg-gray-600 transition-all\",\n                  mobileMenuOpen && \"opacity-0\"\n                )} />\n                <span className={cn(\n                  \"block h-0.5 w-6 bg-gray-600 transition-all\",\n                  mobileMenuOpen && \"-rotate-45 -translate-y-2\"\n                )} />\n              </div>\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile menu */}\n      <MobileMenu isOpen={mobileMenuOpen} />\n\n      {/* Dynamic border */}\n      <div className=\"relative\">\n        <div className={cn(\n          \"absolute bottom-0 left-0 w-full h-[2px]\",\n          \"bg-gradient-to-r from-blue-500/0 via-blue-500 to-blue-500/0\",\n          \"transform transition-transform duration-500\",\n          isScrolled ? \"scale-x-100\" : \"scale-x-0\"\n        )} />\n        <div className={cn(\n          \"absolute bottom-0 left-0 w-full h-[1px]\",\n          \"bg-gradient-to-r from-blue-400/0 via-blue-400/50 to-blue-400/0\",\n          \"transform transition-all duration-500 delay-150\",\n          isScrolled ? \"scale-x-100 opacity-100\" : \"scale-x-0 opacity-0\"\n        )} />\n      </div>\n    </header>\n  );\n}","import { Outlet } from 'react-router-dom';\nimport { Header } from './Header';\n\nexport default function Layout() {\n  return (\n    <>\n      <Header />\n      <main className=\"pt-16\">\n        <Outlet />\n      </main>\n    </>\n  );\n}\n","import { ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { motion } from \"framer-motion\";\n\nexport function Hero() {\n  return (\n    <section className=\"min-h-[50vh] pt-24 md:pt-32 pb-2 relative overflow-hidden\">\n      {/* Background Animation */}\n      \n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8 }}\n        className=\"container mx-auto px-4 text-center relative z-10\"\n      >\n        <h1 className=\"text-4xl md:text-6xl font-bold text-gray-900 mb-6\">\n          L'IA qui parle votre langue,{\" \"}\n          <span className=\"bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent\">\n            pense pour votre territoire\n          </span>\n        </h1>\n        <p className=\"text-xl text-gray-600 mb-8 max-w-3xl mx-auto\">\n          Solutions et communaut pour moderniser votre entreprise en Outre-Mer avec l'Intelligence Artificielle\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4 justify-center max-w-4xl mx-auto\">\n          <Button \n            size=\"lg\" \n            className=\"group bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 rounded-md w-full sm:w-auto text-sm sm:text-base whitespace-normal h-auto sm:max-w-[300px]\"\n          >\n            Dcouvrez comment l'IA peut booster votre activit\n            <ArrowRight className=\"ml-2 w-4 h-4 transition-transform group-hover:translate-x-1 flex-shrink-0\" />\n          </Button>\n          <Button \n            size=\"lg\" \n            variant=\"outline\" \n            className=\"group border-blue-600 text-blue-600 hover:bg-blue-50 px-4 sm:px-6 py-2 rounded-md w-full text-sm sm:text-base whitespace-normal h-auto sm:max-w-[400px]\"\n            asChild\n          >\n            <a\n              href=\"https://chat.whatsapp.com/HtlnLA9XNue72ocEX8pK9O\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center justify-center\"\n            >\n              Rejoignez la premire communaut IA des territoires ultramarins\n              <ArrowRight className=\"ml-2 w-4 h-4 transition-transform group-hover:translate-x-1 flex-shrink-0\" />\n            </a>\n          </Button>\n        </div>\n      </motion.div>\n    </section>\n  );\n}","import { motion } from \"framer-motion\";\n\ninterface SectionTitleProps {\n  title: string;\n  subtitle: string;\n  className?: string;\n}\n\nexport function SectionTitle({ title, subtitle, className = \"\" }: SectionTitleProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      whileInView={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      viewport={{ once: true }}\n      className={`text-center max-w-3xl mx-auto ${className}`}\n    >\n      <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-6\">\n        {title}\n      </h2>\n      <p className=\"text-lg md:text-xl text-gray-600 font-medium\">\n        {subtitle}\n      </p>\n    </motion.div>\n  );\n}","import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n","export interface Article {\n  image: string;\n  category: string;\n  title: string;\n  summary: string;\n  date: string;\n  readTime: string;\n  slug: string;\n}\n\nexport const articles: Article[] = [\n  {\n    image: \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/1200px-ChatGPT_logo.svg.png\",\n    category: \"Innovation\",\n    title: \"ChatGPT Tasks : Les Agents IA Dbarquent sur ChatGPT !\",\n    summary: \"Dcouvrez ChatGPT Tasks, la nouvelle fonctionnalit rvolutionnaire qui transforme ChatGPT en un vritable assistant personnel automatis.\",\n    date: \"2025-01-18\",\n    readTime: \"8 min\",\n    slug: \"chatgpt-tasks-agents-ia\"\n  },\n  {\n    image: \"https://img.youtube.com/vi/lrF0lPfrwag/maxresdefault.jpg\",\n    category: \"Innovation\",\n    title: \"MidSceneJS : Votre Assistant IA Gratuit pour Doper votre Productivit en Outre-mer\",\n    summary: \"Dcouvrez comment MidSceneJS permet aux entreprises ultramarines de rester comptitives malgr le dcalage horaire grce  l'automatisation intelligente.\",\n    date: \"2025-01-13\",\n    readTime: \"6 min\",\n    slug: \"midscene-js-assistant-ia\"\n  },\n  {\n    image: \"https://img.youtube.com/vi/Q11zWq4875o/maxresdefault.jpg\",\n    category: \"Innovation\",\n    title: \"Do Browser : L'assistant IA qui simplifie le travail des entrepreneurs ultramarins\",\n    summary: \"Dcouvrez comment Do Browser rvolutionne le travail des entrepreneurs ultramarins avec son assistant IA intgr au navigateur.\",\n    date: \"2025-01-13\",\n    readTime: \"5 min\",\n    slug: \"do-browser-assistant-ia\"\n  },\n  {\n    image: \"/images/blog/ia-outremer.jpg\",\n    category: \"Innovation\",\n    title: \"L'IA et les Outre-mer : De la Peur au Potentiel Inexploit\",\n    summary: \"Dcouvrez comment l'intelligence artificielle transforme le paysage conomique de nos territoires ultramarins.\",\n    date: \"2025-01-05\",\n    readTime: \"7 min\",\n    slug: \"ia-et-outremer\"\n  },\n  {\n    image: \"/images/blog/ia-martinique.jpg\",\n    category: \"Innovation\",\n    title: \"L'IA au service du dveloppement local en Martinique\",\n    summary: \"Dcouvrez comment l'intelligence artificielle transforme le paysage conomique martiniquais.\",\n    date: \"2024-03-14\",\n    readTime: \"5 min\",\n    slug: \"ia-martinique\"\n  },\n  {\n    image: \"/images/blog/reunion-startup-ia.jpg\",\n    category: \"Case Study\",\n    title: \"Runion : Success Story d'une startup IA\",\n    summary: \"Une jeune entreprise runionnaise rvolutionne le traitement des donnes agricoles.\",\n    date: \"2024-03-13\",\n    readTime: \"8 min\",\n    slug: \"reunion-startup-ia\"\n  }\n];\n","import { motion } from \"framer-motion\";\nimport { SectionTitle } from \"../ui/SectionTitle\";\nimport { Badge } from \"../ui/badge\";\nimport { Calendar } from \"lucide-react\";\nimport { articles } from \"../../data/articles\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"../ui/button\";\n\nfunction ArticleCard({ article, index }: { article: typeof articles[0], index: number }) {\n  return (\n    <Link to={`/articles/${article.slug}`} className=\"block\">\n      <motion.article\n        initial={{ opacity: 0, y: 20 }}\n        whileInView={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: index * 0.1 }}\n        viewport={{ once: true }}\n        className=\"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300\"\n      >\n        <div className=\"aspect-video overflow-hidden\">\n          <img\n            src={article.image}\n            alt={article.title}\n            className=\"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300\"\n          />\n        </div>\n        <div className=\"p-6\">\n          <Badge variant=\"secondary\" className=\"mb-3\">\n            {article.category}\n          </Badge>\n          <h3 className=\"text-xl font-semibold mb-2 group-hover:text-blue-600 transition-colors duration-300\">\n            {article.title}\n          </h3>\n          <p className=\"text-gray-600 mb-4 line-clamp-2\">\n            {article.summary}\n          </p>\n          <div className=\"flex items-center text-sm text-gray-500\">\n            <Calendar className=\"w-4 h-4 mr-2\" />\n            <time dateTime={article.date}>\n              {new Date(article.date).toLocaleDateString('fr-FR', {\n                day: 'numeric',\n                month: 'long',\n                year: 'numeric'\n              })}\n            </time>\n            <span className=\"mx-2\"></span>\n            <span>{article.readTime} de lecture</span>\n          </div>\n        </div>\n      </motion.article>\n    </Link>\n  );\n}\n\nexport function LatestArticles() {\n  return (\n    <section className=\"py-24 bg-gray-50\">\n      <div className=\"container mx-auto px-4\">\n        <SectionTitle\n          title=\"Derniers Articles\"\n          subtitle=\"Restez inform des dernires actualits et innovations en IA dans les territoires d'outre-mer\"\n        />\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12\">\n          {articles.slice(0, 3).map((article, index) => (\n            <ArticleCard key={article.title} article={article} index={index} />\n          ))}\n        </div>\n        <div className=\"flex justify-center mt-12\">\n          <Link to=\"/articles\">\n            <Button size=\"lg\" className=\"font-medium\">\n              Voir tous les articles\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n}","import { motion } from 'framer-motion';\nimport { MapPin } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport function Territories() {\n  return (\n    <div className=\"py-24 sm:py-32\">\n      <div className=\"mx-auto max-w-7xl px-6 lg:px-8\">\n        <div className=\"mx-auto max-w-2xl lg:text-center\">\n          <h2 className=\"text-base font-semibold leading-7 text-blue-600\">Prsence locale</h2>\n          <p className=\"mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl\">\n            Implantation dans les territoires d'outre-mer\n          </p>\n          <p className=\"mt-6 text-lg leading-8 text-gray-600\">\n            Nous sommes prsents dans les principaux territoires d'outre-mer pour mieux comprendre et servir nos clients.\n          </p>\n        </div>\n\n        <div className=\"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none\">\n          <dl className=\"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3\">\n            {territories.map((territory) => (\n              <motion.div\n                key={territory.name}\n                initial={{ opacity: 0, y: 20 }}\n                whileInView={{ opacity: 1, y: 0 }}\n                viewport={{ once: true }}\n                transition={{ duration: 0.5 }}\n                className=\"flex flex-col\"\n              >\n                <dt className=\"flex items-center gap-x-3 text-base font-semibold leading-7 text-gray-900\">\n                  <MapPin className=\"h-5 w-5 flex-none text-blue-600\" aria-hidden=\"true\" />\n                  {territory.name}\n                </dt>\n                <dd className=\"mt-4 flex flex-auto flex-col text-base leading-7 text-gray-600\">\n                  <p className=\"flex-auto\">{territory.description}</p>\n                  <p className=\"mt-6\">\n                    <a\n                      href={territory.href}\n                      className={cn(\n                        \"text-sm font-semibold leading-6 text-blue-600\",\n                        territory.href ? \"\" : \"pointer-events-none opacity-50\"\n                      )}\n                    >\n                      En savoir plus <span aria-hidden=\"true\"></span>\n                    </a>\n                  </p>\n                </dd>\n              </motion.div>\n            ))}\n          </dl>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst territories = [\n  {\n    name: 'Martinique',\n    description:\n      'Notre sige social est bas  Fort-de-France, au cur des Antilles franaises. Nous y dveloppons des solutions adaptes aux besoins locaux.',\n    href: '#',\n  },\n  {\n    name: 'Guadeloupe',\n    description:\n      'Notre quipe en Guadeloupe accompagne les entrepreneurs dans leur transformation digitale, avec une expertise locale.',\n    href: '#',\n  },\n  {\n    name: 'Guyane',\n    description:\n      'En Guyane, nous travaillons avec les entreprises pour dvelopper des solutions innovantes adaptes au contexte amazonien.',\n    href: '#',\n  },\n];","import { motion } from \"framer-motion\";\nimport { SectionTitle } from \"../ui/SectionTitle\";\nimport { Quote } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst testimonials = [\n  {\n    quote: \"ULTRAI.FR a transform notre approche de l'IA. Les solutions proposes sont parfaitement adaptes  nos besoins locaux.\",\n    author: \"Marie Dubois\",\n    role: \"Directrice Innovation, Tech Antilles\",\n    image: \"https://images.unsplash.com/photo-1494790108377-be9c29b29330\"\n  },\n  {\n    quote: \"Une ressource inestimable pour comprendre et dployer l'IA dans nos territoires. L'accompagnement est exceptionnel.\",\n    author: \"Thomas Leroy\",\n    role: \"CEO, Pacific Digital Solutions\",\n    image: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e\"\n  },\n  {\n    quote: \"Grce  ULTRAI.FR, nous avons pu dvelopper des solutions d'IA adaptes aux spcificits de notre rgion.\",\n    author: \"Sophie Martin\",\n    role: \"Responsable Projet, Innovation Runion\",\n    image: \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80\"\n  }\n];\n\nexport function Testimonials() {\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  return (\n    <section className=\"py-24 bg-white\">\n      <div className=\"container mx-auto px-4\">\n        <SectionTitle\n          title=\"Ils Nous Font Confiance\"\n          subtitle=\"Dcouvrez les retours d'exprience de nos utilisateurs\"\n        />\n        \n        <div className=\"mt-12 relative\">\n          <div className=\"max-w-3xl mx-auto\">\n            {testimonials.map((testimonial, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, x: 20 }}\n                animate={{\n                  opacity: activeIndex === index ? 1 : 0,\n                  x: activeIndex === index ? 0 : 20,\n                  position: activeIndex === index ? 'relative' : 'absolute'\n                }}\n                transition={{ duration: 0.5 }}\n                className=\"text-center\"\n                style={{ display: activeIndex === index ? 'block' : 'none' }}\n              >\n                <div className=\"mb-8\">\n                  <Quote className=\"w-12 h-12 mx-auto text-blue-600 rotate-180\" />\n                </div>\n                <blockquote className=\"text-xl text-gray-900 mb-8\">\n                  \"{testimonial.quote}\"\n                </blockquote>\n                <div className=\"flex items-center justify-center\">\n                  <img\n                    src={testimonial.image}\n                    alt={testimonial.author}\n                    className=\"w-16 h-16 rounded-full object-cover mr-4\"\n                  />\n                  <div className=\"text-left\">\n                    <div className=\"font-semibold text-gray-900\">{testimonial.author}</div>\n                    <div className=\"text-gray-600\">{testimonial.role}</div>\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </div>\n\n          <div className=\"flex justify-center mt-8 space-x-2\">\n            {testimonials.map((_, index) => (\n              <button\n                key={index}\n                onClick={() => setActiveIndex(index)}\n                className={`w-3 h-3 rounded-full transition-colors duration-300 ${\n                  activeIndex === index ? 'bg-blue-600' : 'bg-gray-300'\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}","import { motion } from 'framer-motion';\nimport { SectionTitle } from '../ui/SectionTitle';\n\ninterface Tool {\n  name: string;\n  description: string;\n  image: string;\n  link: string;\n}\n\nconst tools: Tool[] = [\n  {\n    name: 'Do Browser',\n    description: 'Assistant IA qui simplifie le travail des entrepreneurs ultramarins',\n    image: 'https://img.youtube.com/vi/Q11zWq4875o/maxresdefault.jpg',\n    link: '/articles/do-browser-assistant-ia'\n  },\n  {\n    name: 'MidScene.js',\n    description: 'Votre Assistant IA Gratuit pour Doper votre Productivit en Outre-mer',\n    image: 'https://img.youtube.com/vi/lrF0lPfrwag/maxresdefault.jpg',\n    link: '/articles/midscene-js-assistant-ia'\n  },\n  {\n    name: 'Bientt disponible',\n    description: 'De nouveaux outils arrivent bientt...',\n    image: 'https://placehold.co/600x400',\n    link: '#'\n  }\n];\n\nexport function RecommendedTools() {\n  return (\n    <div className=\"py-24 sm:py-32\">\n      <div className=\"mx-auto max-w-7xl px-6 lg:px-8\">\n        <SectionTitle\n          title=\"Outils Recommands\"\n          subtitle=\"Dcouvrez notre slection d'outils d'IA pour les entrepreneurs ultramarins\"\n        />\n\n        <div className=\"mx-auto mt-16 grid max-w-2xl auto-rows-fr grid-cols-1 gap-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3\">\n          {tools.map((tool) => (\n            <motion.article\n              key={tool.name}\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              viewport={{ once: true }}\n              transition={{ duration: 0.5 }}\n              className=\"relative isolate flex flex-col justify-end overflow-hidden rounded-2xl bg-gray-900 px-8 pb-8 pt-80 sm:pt-48 lg:pt-80\"\n            >\n              <img src={tool.image} alt=\"\" className=\"absolute inset-0 -z-10 h-full w-full object-cover\" />\n              <div className=\"absolute inset-0 -z-10 bg-gradient-to-t from-gray-900 via-gray-900/40\" />\n              <div className=\"absolute inset-0 -z-10 rounded-2xl ring-1 ring-inset ring-gray-900/10\" />\n\n              <div className=\"flex flex-wrap items-center gap-y-1 overflow-hidden text-sm leading-6 text-gray-300\">\n                <time dateTime=\"2024-01-13\" className=\"mr-8\">\n                  Disponible maintenant\n                </time>\n              </div>\n              <h3 className=\"mt-3 text-lg font-semibold leading-6 text-white\">\n                <a href={tool.link}>\n                  <span className=\"absolute inset-0\" />\n                  {tool.name}\n                </a>\n              </h3>\n              <p className=\"mt-2 text-sm text-gray-300\">{tool.description}</p>\n            </motion.article>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Button } from \"@/components/ui/button\";\nimport { ArrowRight } from \"lucide-react\";\nimport { Link } from \"react-router-dom\";\n\nconst features = [\n  {\n    title: \" Le problme\",\n    description: \"Entre les tches administratives rptitives et le manque de temps pour prospecter efficacement, attirer de nouveaux clients devient un vritable dfi. Rsultat : des opportunits perdues et une croissance freine.\",\n    emoji: \"\",\n  },\n  {\n    title: \" Notre solution\",\n    description: \"ULTRAI, une intelligence artificielle cl en main, automatise votre gestion administrative, votre suivi client et votre prospection. Concentrez-vous sur ce qui compte : attirer et fidliser plus de clients.\",\n    emoji: \"\",\n  },\n  {\n    title: \" Les rsultats\",\n    description: \" +20h libres par semaine\\n +3  5 nouveaux clients qualifis par semaine\\n 50% de temps gagn sur les tches administratives\",\n    emoji: \"\",\n  },\n  {\n    title: \" Tmoignage client\",\n    description: \"\\\"ULTRAI a rvolutionn ma faon de travailler : moins de stress, plus de clients, et un rel gain de productivit !\\\"  Jean, entrepreneur en Martinique.\",\n    emoji: \"\",\n  },\n];\n\nexport default function Services() {\n  return (\n    <section className=\"w-full px-4 py-24\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"text-center\">\n          <h2 className=\"text-4xl font-bold\">\n            L'IA au service de votre{\" \"}\n            <span className=\"text-blue-600\">entreprise</span>{\" \"}\n            <span className=\"text-blue-600\">ultramarine</span>{\" \"}\n            <span></span>\n          </h2>\n          <p className=\"mt-4 text-lg text-gray-600\">\n            Automatisez vos tches, attirez plus de clients et librez du temps pour dvelopper votre activit !\n          </p>\n        </div>\n\n        <div className=\"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {features.map((feature) => (\n            <div key={feature.title} className=\"bg-white rounded-lg p-6 shadow-sm border\">\n              <h3 className=\"text-xl font-semibold mb-4\">{feature.title}</h3>\n              <p className=\"text-gray-600 whitespace-pre-line\">{feature.description}</p>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"text-center mt-12\">\n          <p className=\"text-lg text-gray-600 mb-6\"> Dcouvrez comment en 30 jours !</p>\n          <div className=\"flex flex-col sm:flex-row justify-center gap-4\">\n            <Button \n              size=\"lg\"\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-8 py-2 rounded-md w-full sm:w-auto text-sm sm:text-base whitespace-normal sm:whitespace-nowrap\"\n            >\n              Obtenez votre diagnostic IA gratuit\n              <ArrowRight className=\"ml-2 h-4 w-4 flex-shrink-0\" />\n            </Button>\n            <Link to=\"/offre\" className=\"w-full sm:w-auto\">\n              <Button \n                size=\"lg\"\n                variant=\"outline\"\n                className=\"border-blue-600 text-blue-600 hover:bg-blue-50 px-4 sm:px-8 py-2 rounded-md w-full text-sm sm:text-base whitespace-normal sm:whitespace-nowrap\"\n              >\n                En savoir plus\n                <ArrowRight className=\"ml-2 h-4 w-4 flex-shrink-0\" />\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport { motion } from 'framer-motion';\n\nexport function NotFound() {\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      className=\"container mx-auto px-4 py-16 text-center\"\n    >\n      <h1 className=\"text-4xl font-bold mb-4\">Page non trouve</h1>\n      <p className=\"text-gray-600 mb-8\">\n        Dsol, la page que vous recherchez n'existe pas.\n      </p>\n      <Link\n        to=\"/\"\n        className=\"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n      >\n        Retour  l'accueil\n      </Link>\n    </motion.div>\n  );\n}\n","/**\n * @typedef Options\n *   Configuration.\n * @property {boolean | null | undefined} [jsx=false]\n *   Support JSX identifiers (default: `false`).\n */\n\nconst startRe = /[$_\\p{ID_Start}]/u\nconst contRe = /[$_\\u{200C}\\u{200D}\\p{ID_Continue}]/u\nconst contReJsx = /[-$_\\u{200C}\\u{200D}\\p{ID_Continue}]/u\nconst nameRe = /^[$_\\p{ID_Start}][$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$/u\nconst nameReJsx = /^[$_\\p{ID_Start}][-$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$/u\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Checks if the given code point can start an identifier.\n *\n * @param {number | undefined} code\n *   Code point to check.\n * @returns {boolean}\n *   Whether `code` can start an identifier.\n */\n// Note: `undefined` is supported so you can pass the result from `''.codePointAt`.\nexport function start(code) {\n  return code ? startRe.test(String.fromCodePoint(code)) : false\n}\n\n/**\n * Checks if the given code point can continue an identifier.\n *\n * @param {number | undefined} code\n *   Code point to check.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {boolean}\n *   Whether `code` can continue an identifier.\n */\n// Note: `undefined` is supported so you can pass the result from `''.codePointAt`.\nexport function cont(code, options) {\n  const settings = options || emptyOptions\n  const re = settings.jsx ? contReJsx : contRe\n  return code ? re.test(String.fromCodePoint(code)) : false\n}\n\n/**\n * Checks if the given value is a valid identifier name.\n *\n * @param {string} name\n *   Identifier to check.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {boolean}\n *   Whether `name` can be an identifier.\n */\nexport function name(name, options) {\n  const settings = options || emptyOptions\n  const re = settings.jsx ? nameReJsx : nameRe\n  return re.test(name)\n}\n","/**\n * @typedef {import('hast').Nodes} Nodes\n */\n\n// HTML whitespace expression.\n// See <https://infra.spec.whatwg.org/#ascii-whitespace>.\nconst re = /[ \\t\\n\\f\\r]/g\n\n/**\n * Check if the given value is *inter-element whitespace*.\n *\n * @param {Nodes | string} thing\n *   Thing to check (`Node` or `string`).\n * @returns {boolean}\n *   Whether the `value` is inter-element whitespace (`boolean`): consisting of\n *   zero or more of space, tab (`\\t`), line feed (`\\n`), carriage return\n *   (`\\r`), or form feed (`\\f`); if a node is passed it must be a `Text` node,\n *   whose `value` field is checked.\n */\nexport function whitespace(thing) {\n  return typeof thing === 'object'\n    ? thing.type === 'text'\n      ? empty(thing.value)\n      : false\n    : empty(thing)\n}\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nfunction empty(value) {\n  return value.replace(re, '') === ''\n}\n","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    blocking: spaceSeparated,\n    capture: null,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    fetchPriority: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inert: boolean,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeToggle: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    popover: null,\n    popoverTarget: null,\n    popoverTargetAction: null,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shadowRootClonable: boolean,\n    shadowRootDelegatesFocus: boolean,\n    shadowRootMode: null,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n    writingSuggestions: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    transformOrigin: 'transform-origin',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    transformOrigin: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * `hast` is close to `React`, but differs in a couple of cases.\n *\n * To get a React property from a hast property, check if it is in\n * `hastToReact`, if it is, then use the corresponding value,\n * otherwise, use the hast property.\n *\n * @type {Record<string, string>}\n */\nexport const hastToReact = {\n  classId: 'classID',\n  dataType: 'datatype',\n  itemId: 'itemID',\n  strokeDashArray: 'strokeDasharray',\n  strokeDashOffset: 'strokeDashoffset',\n  strokeLineCap: 'strokeLinecap',\n  strokeLineJoin: 'strokeLinejoin',\n  strokeMiterLimit: 'strokeMiterlimit',\n  typeOf: 'typeof',\n  xLinkActuate: 'xlinkActuate',\n  xLinkArcRole: 'xlinkArcrole',\n  xLinkHref: 'xlinkHref',\n  xLinkRole: 'xlinkRole',\n  xLinkShow: 'xlinkShow',\n  xLinkTitle: 'xlinkTitle',\n  xLinkType: 'xlinkType',\n  xmlnsXLink: 'xmlnsXlink'\n}\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar COMMENT_REGEX = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nvar NEWLINE_REGEX = /\\n/g;\nvar WHITESPACE_REGEX = /^\\s*/;\n\n// declaration\nvar PROPERTY_REGEX = /^(\\*?[-#/*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/;\nvar COLON_REGEX = /^:\\s*/;\nvar VALUE_REGEX = /^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};])+)/;\nvar SEMICOLON_REGEX = /^[;\\s]*/;\n\n// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill\nvar TRIM_REGEX = /^\\s+|\\s+$/g;\n\n// strings\nvar NEWLINE = '\\n';\nvar FORWARD_SLASH = '/';\nvar ASTERISK = '*';\nvar EMPTY_STRING = '';\n\n// types\nvar TYPE_COMMENT = 'comment';\nvar TYPE_DECLARATION = 'declaration';\n\n/**\n * @param {String} style\n * @param {Object} [options]\n * @return {Object[]}\n * @throws {TypeError}\n * @throws {Error}\n */\nmodule.exports = function (style, options) {\n  if (typeof style !== 'string') {\n    throw new TypeError('First argument must be a string');\n  }\n\n  if (!style) return [];\n\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   *\n   * @param {String} str\n   */\n  function updatePosition(str) {\n    var lines = str.match(NEWLINE_REGEX);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf(NEWLINE);\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   *\n   * @return {Function}\n   */\n  function position() {\n    var start = { line: lineno, column: column };\n    return function (node) {\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node.\n   *\n   * @constructor\n   * @property {Object} start\n   * @property {Object} end\n   * @property {undefined|String} source\n   */\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string.\n   */\n  Position.prototype.content = style;\n\n  var errorsList = [];\n\n  /**\n   * Error `msg`.\n   *\n   * @param {String} msg\n   * @throws {Error}\n   */\n  function error(msg) {\n    var err = new Error(\n      options.source + ':' + lineno + ':' + column + ': ' + msg\n    );\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = style;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Match `re` and return captures.\n   *\n   * @param {RegExp} re\n   * @return {undefined|Array}\n   */\n  function match(re) {\n    var m = re.exec(style);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    style = style.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n  function whitespace() {\n    match(WHITESPACE_REGEX);\n  }\n\n  /**\n   * Parse comments.\n   *\n   * @param {Object[]} [rules]\n   * @return {Object[]}\n   */\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while ((c = comment())) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function comment() {\n    var pos = position();\n    if (FORWARD_SLASH != style.charAt(0) || ASTERISK != style.charAt(1)) return;\n\n    var i = 2;\n    while (\n      EMPTY_STRING != style.charAt(i) &&\n      (ASTERISK != style.charAt(i) || FORWARD_SLASH != style.charAt(i + 1))\n    ) {\n      ++i;\n    }\n    i += 2;\n\n    if (EMPTY_STRING === style.charAt(i - 1)) {\n      return error('End of comment missing');\n    }\n\n    var str = style.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    style = style.slice(i);\n    column += 2;\n\n    return pos({\n      type: TYPE_COMMENT,\n      comment: str\n    });\n  }\n\n  /**\n   * Parse declaration.\n   *\n   * @return {Object}\n   * @throws {Error}\n   */\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(PROPERTY_REGEX);\n    if (!prop) return;\n    comment();\n\n    // :\n    if (!match(COLON_REGEX)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(VALUE_REGEX);\n\n    var ret = pos({\n      type: TYPE_DECLARATION,\n      property: trim(prop[0].replace(COMMENT_REGEX, EMPTY_STRING)),\n      value: val\n        ? trim(val[0].replace(COMMENT_REGEX, EMPTY_STRING))\n        : EMPTY_STRING\n    });\n\n    // ;\n    match(SEMICOLON_REGEX);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   *\n   * @return {Object[]}\n   */\n  function declarations() {\n    var decls = [];\n\n    comments(decls);\n\n    // declarations\n    var decl;\n    while ((decl = declaration())) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    return decls;\n  }\n\n  whitespace();\n  return declarations();\n};\n\n/**\n * Trim `str`.\n *\n * @param {String} str\n * @return {String}\n */\nfunction trim(str) {\n  return str ? str.replace(TRIM_REGEX, EMPTY_STRING) : EMPTY_STRING;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StyleToObject;\nvar inline_style_parser_1 = __importDefault(require(\"inline-style-parser\"));\n/**\n * Parses inline style to object.\n *\n * @param style - Inline style.\n * @param iterator - Iterator.\n * @returns - Style object or null.\n *\n * @example Parsing inline style to object:\n *\n * ```js\n * import parse from 'style-to-object';\n * parse('line-height: 42;'); // { 'line-height': '42' }\n * ```\n */\nfunction StyleToObject(style, iterator) {\n    var styleObject = null;\n    if (!style || typeof style !== 'string') {\n        return styleObject;\n    }\n    var declarations = (0, inline_style_parser_1.default)(style);\n    var hasIterator = typeof iterator === 'function';\n    declarations.forEach(function (declaration) {\n        if (declaration.type !== 'declaration') {\n            return;\n        }\n        var property = declaration.property, value = declaration.value;\n        if (hasIterator) {\n            iterator(property, value, declaration);\n        }\n        else if (value) {\n            styleObject = styleObject || {};\n            styleObject[property] = value;\n        }\n    });\n    return styleObject;\n}\n//# sourceMappingURL=index.js.map","import StyleToObject from '../cjs/index.js';\n\n// ensure compatibility with rollup umd build\nexport default StyleToObject.default || StyleToObject;\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n */\n\n/**\n * Get the ending point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointEnd = point('end')\n\n/**\n * Get the starting point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointStart = point('start')\n\n/**\n * Get the positional info of `node`.\n *\n * @param {'end' | 'start'} type\n *   Side.\n * @returns\n *   Getter.\n */\nfunction point(type) {\n  return point\n\n  /**\n   * Get the point info of `node` at a bound side.\n   *\n   * @param {Node | NodeLike | null | undefined} [node]\n   * @returns {Point | undefined}\n   */\n  function point(node) {\n    const point = (node && node.position && node.position[type]) || {}\n\n    if (\n      typeof point.line === 'number' &&\n      point.line > 0 &&\n      typeof point.column === 'number' &&\n      point.column > 0\n    ) {\n      return {\n        line: point.line,\n        column: point.column,\n        offset:\n          typeof point.offset === 'number' && point.offset > -1\n            ? point.offset\n            : undefined\n      }\n    }\n  }\n}\n\n/**\n * Get the positional info of `node`.\n *\n * @param {Node | NodeLike | null | undefined} [node]\n *   Node.\n * @returns {Position | undefined}\n *   Position.\n */\nexport function position(node) {\n  const start = pointStart(node)\n  const end = pointEnd(node)\n\n  if (start && end) {\n    return {start, end}\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n */\n\n/**\n * Serialize the positional info of a point, position (start and end points),\n * or node.\n *\n * @param {Node | NodeLike | Point | PointLike | Position | PositionLike | null | undefined} [value]\n *   Node, position, or point.\n * @returns {string}\n *   Pretty printed positional info of a node (`string`).\n *\n *   In the format of a range `ls:cs-le:ce` (when given `node` or `position`)\n *   or a point `l:c` (when given `point`), where `l` stands for line, `c` for\n *   column, `s` for `start`, and `e` for end.\n *   An empty string (`''`) is returned if the given value is neither `node`,\n *   `position`, nor `point`.\n */\nexport function stringifyPosition(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if ('position' in value || 'type' in value) {\n    return position(value.position)\n  }\n\n  // Position.\n  if ('start' in value || 'end' in value) {\n    return position(value)\n  }\n\n  // Point.\n  if ('line' in value || 'column' in value) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\n/**\n * @param {Point | PointLike | null | undefined} point\n * @returns {string}\n */\nfunction point(point) {\n  return index(point && point.line) + ':' + index(point && point.column)\n}\n\n/**\n * @param {Position | PositionLike | null | undefined} pos\n * @returns {string}\n */\nfunction position(pos) {\n  return point(pos && pos.start) + '-' + point(pos && pos.end)\n}\n\n/**\n * @param {number | null | undefined} value\n * @returns {number}\n */\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef Options\n *   Configuration.\n * @property {Array<Node> | null | undefined} [ancestors]\n *   Stack of (inclusive) ancestor nodes surrounding the message (optional).\n * @property {Error | null | undefined} [cause]\n *   Original error cause of the message (optional).\n * @property {Point | Position | null | undefined} [place]\n *   Place of message (optional).\n * @property {string | null | undefined} [ruleId]\n *   Category of message (optional, example: `'my-rule'`).\n * @property {string | null | undefined} [source]\n *   Namespace of who sent the message (optional, example: `'my-package'`).\n */\n\nimport {stringifyPosition} from 'unist-util-stringify-position'\n\n/**\n * Message.\n */\nexport class VFileMessage extends Error {\n  /**\n   * Create a message for `reason`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Options | null | undefined} [options]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // eslint-disable-next-line complexity\n  constructor(causeOrReason, optionsOrParentOrPlace, origin) {\n    super()\n\n    if (typeof optionsOrParentOrPlace === 'string') {\n      origin = optionsOrParentOrPlace\n      optionsOrParentOrPlace = undefined\n    }\n\n    /** @type {string} */\n    let reason = ''\n    /** @type {Options} */\n    let options = {}\n    let legacyCause = false\n\n    if (optionsOrParentOrPlace) {\n      // Point.\n      if (\n        'line' in optionsOrParentOrPlace &&\n        'column' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Position.\n      else if (\n        'start' in optionsOrParentOrPlace &&\n        'end' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Node.\n      else if ('type' in optionsOrParentOrPlace) {\n        options = {\n          ancestors: [optionsOrParentOrPlace],\n          place: optionsOrParentOrPlace.position\n        }\n      }\n      // Options.\n      else {\n        options = {...optionsOrParentOrPlace}\n      }\n    }\n\n    if (typeof causeOrReason === 'string') {\n      reason = causeOrReason\n    }\n    // Error.\n    else if (!options.cause && causeOrReason) {\n      legacyCause = true\n      reason = causeOrReason.message\n      options.cause = causeOrReason\n    }\n\n    if (!options.ruleId && !options.source && typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        options.ruleId = origin\n      } else {\n        options.source = origin.slice(0, index)\n        options.ruleId = origin.slice(index + 1)\n      }\n    }\n\n    if (!options.place && options.ancestors && options.ancestors) {\n      const parent = options.ancestors[options.ancestors.length - 1]\n\n      if (parent) {\n        options.place = parent.position\n      }\n    }\n\n    const start =\n      options.place && 'start' in options.place\n        ? options.place.start\n        : options.place\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * Stack of ancestor nodes surrounding the message.\n     *\n     * @type {Array<Node> | undefined}\n     */\n    this.ancestors = options.ancestors || undefined\n\n    /**\n     * Original error cause of the message.\n     *\n     * @type {Error | undefined}\n     */\n    this.cause = options.cause || undefined\n\n    /**\n     * Starting column of message.\n     *\n     * @type {number | undefined}\n     */\n    this.column = start ? start.column : undefined\n\n    /**\n     * State of problem.\n     *\n     * * `true`  error, file not usable\n     * * `false`  warning, change may be needed\n     * * `undefined`  change likely not needed\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal = undefined\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | undefined}\n     */\n    this.file\n\n    // Field from `Error`.\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = reason\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | undefined}\n     */\n    this.line = start ? start.line : undefined\n\n    // Field from `Error`.\n    /**\n     * Serialized positional info of message.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = stringifyPosition(options.place) || '1:1'\n\n    /**\n     * Place of message.\n     *\n     * @type {Point | Position | undefined}\n     */\n    this.place = options.place || undefined\n\n    /**\n     * Reason for message, should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | undefined}\n     */\n    this.ruleId = options.ruleId || undefined\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | undefined}\n     */\n    this.source = options.source || undefined\n\n    // Field from `Error`.\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack =\n      legacyCause && options.cause && typeof options.cause.stack === 'string'\n        ? options.cause.stack\n        : ''\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | undefined}\n     */\n    this.actual\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | undefined}\n     */\n    this.expected\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | undefined}\n     */\n    this.note\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | undefined}\n     */\n    this.url\n    /* eslint-enable no-unused-expressions */\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.column = undefined\nVFileMessage.prototype.line = undefined\nVFileMessage.prototype.ancestors = undefined\nVFileMessage.prototype.cause = undefined\nVFileMessage.prototype.fatal = undefined\nVFileMessage.prototype.place = undefined\nVFileMessage.prototype.ruleId = undefined\nVFileMessage.prototype.source = undefined\n","/**\n * @import {Identifier, Literal, MemberExpression} from 'estree'\n * @import {Jsx, JsxDev, Options, Props} from 'hast-util-to-jsx-runtime'\n * @import {Element, Nodes, Parents, Root, Text} from 'hast'\n * @import {MdxFlowExpressionHast, MdxTextExpressionHast} from 'mdast-util-mdx-expression'\n * @import {MdxJsxFlowElementHast, MdxJsxTextElementHast} from 'mdast-util-mdx-jsx'\n * @import {MdxjsEsmHast} from 'mdast-util-mdxjs-esm'\n * @import {Position} from 'unist'\n * @import {Child, Create, Field, State, Style} from './types.js'\n */\n\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {ok as assert} from 'devlop'\nimport {name as isIdentifierName} from 'estree-util-is-identifier-name'\nimport {whitespace} from 'hast-util-whitespace'\nimport {find, hastToReact, html, svg} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport styleToObject from 'style-to-object'\nimport {pointStart} from 'unist-util-position'\nimport {VFileMessage} from 'vfile-message'\n\n// To do: next major: `Object.hasOwn`.\nconst own = {}.hasOwnProperty\n\n/** @type {Map<string, number>} */\nconst emptyMap = new Map()\n\nconst cap = /[A-Z]/g\nconst dashSomething = /-([a-z])/g\n\n// `react-dom` triggers a warning for *any* white space in tables.\n// To follow GFM, `mdast-util-to-hast` injects line endings between elements.\n// Other tools might do so too, but they dont do here, so we remove all of\n// that.\n\n// See: <https://github.com/facebook/react/pull/7081>.\n// See: <https://github.com/facebook/react/pull/7515>.\n// See: <https://github.com/remarkjs/remark-react/issues/64>.\n// See: <https://github.com/rehypejs/rehype-react/pull/29>.\n// See: <https://github.com/rehypejs/rehype-react/pull/32>.\n// See: <https://github.com/rehypejs/rehype-react/pull/45>.\nconst tableElements = new Set(['table', 'tbody', 'thead', 'tfoot', 'tr'])\n\nconst tableCellElement = new Set(['td', 'th'])\n\nconst docs = 'https://github.com/syntax-tree/hast-util-to-jsx-runtime'\n\n/**\n * Transform a hast tree to preact, react, solid, svelte, vue, etc.,\n * with an automatic JSX runtime.\n *\n * @param {Nodes} tree\n *   Tree to transform.\n * @param {Options} options\n *   Configuration (required).\n * @returns {JSX.Element}\n *   JSX element.\n */\n\nexport function toJsxRuntime(tree, options) {\n  if (!options || options.Fragment === undefined) {\n    throw new TypeError('Expected `Fragment` in options')\n  }\n\n  const filePath = options.filePath || undefined\n  /** @type {Create} */\n  let create\n\n  if (options.development) {\n    if (typeof options.jsxDEV !== 'function') {\n      throw new TypeError(\n        'Expected `jsxDEV` in options when `development: true`'\n      )\n    }\n\n    create = developmentCreate(filePath, options.jsxDEV)\n  } else {\n    if (typeof options.jsx !== 'function') {\n      throw new TypeError('Expected `jsx` in production options')\n    }\n\n    if (typeof options.jsxs !== 'function') {\n      throw new TypeError('Expected `jsxs` in production options')\n    }\n\n    create = productionCreate(filePath, options.jsx, options.jsxs)\n  }\n\n  /** @type {State} */\n  const state = {\n    Fragment: options.Fragment,\n    ancestors: [],\n    components: options.components || {},\n    create,\n    elementAttributeNameCase: options.elementAttributeNameCase || 'react',\n    evaluater: options.createEvaluater ? options.createEvaluater() : undefined,\n    filePath,\n    ignoreInvalidStyle: options.ignoreInvalidStyle || false,\n    passKeys: options.passKeys !== false,\n    passNode: options.passNode || false,\n    schema: options.space === 'svg' ? svg : html,\n    stylePropertyNameCase: options.stylePropertyNameCase || 'dom',\n    tableCellAlignToStyle: options.tableCellAlignToStyle !== false\n  }\n\n  const result = one(state, tree, undefined)\n\n  // JSX element.\n  if (result && typeof result !== 'string') {\n    return result\n  }\n\n  // Text node or something that turned into nothing.\n  return state.create(\n    tree,\n    state.Fragment,\n    {children: result || undefined},\n    undefined\n  )\n}\n\n/**\n * Transform a node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Nodes} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction one(state, node, key) {\n  if (node.type === 'element') {\n    return element(state, node, key)\n  }\n\n  if (node.type === 'mdxFlowExpression' || node.type === 'mdxTextExpression') {\n    return mdxExpression(state, node)\n  }\n\n  if (node.type === 'mdxJsxFlowElement' || node.type === 'mdxJsxTextElement') {\n    return mdxJsxElement(state, node, key)\n  }\n\n  if (node.type === 'mdxjsEsm') {\n    return mdxEsm(state, node)\n  }\n\n  if (node.type === 'root') {\n    return root(state, node, key)\n  }\n\n  if (node.type === 'text') {\n    return text(state, node)\n  }\n}\n\n/**\n * Handle element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Element} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction element(state, node, key) {\n  const parentSchema = state.schema\n  let schema = parentSchema\n\n  if (node.tagName.toLowerCase() === 'svg' && parentSchema.space === 'html') {\n    schema = svg\n    state.schema = schema\n  }\n\n  state.ancestors.push(node)\n\n  const type = findComponentFromName(state, node.tagName, false)\n  const props = createElementProps(state, node)\n  let children = createChildren(state, node)\n\n  if (tableElements.has(node.tagName)) {\n    children = children.filter(function (child) {\n      return typeof child === 'string' ? !whitespace(child) : true\n    })\n  }\n\n  addNode(state, props, type, node)\n  addChildren(props, children)\n\n  // Restore.\n  state.ancestors.pop()\n  state.schema = parentSchema\n\n  return state.create(node, type, props, key)\n}\n\n/**\n * Handle MDX expression.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxFlowExpressionHast | MdxTextExpressionHast} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxExpression(state, node) {\n  if (node.data && node.data.estree && state.evaluater) {\n    const program = node.data.estree\n    const expression = program.body[0]\n    assert(expression.type === 'ExpressionStatement')\n\n    // Assume result is a child.\n    return /** @type {Child | undefined} */ (\n      state.evaluater.evaluateExpression(expression.expression)\n    )\n  }\n\n  crashEstree(state, node.position)\n}\n\n/**\n * Handle MDX ESM.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxjsEsmHast} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxEsm(state, node) {\n  if (node.data && node.data.estree && state.evaluater) {\n    // Assume result is a child.\n    return /** @type {Child | undefined} */ (\n      state.evaluater.evaluateProgram(node.data.estree)\n    )\n  }\n\n  crashEstree(state, node.position)\n}\n\n/**\n * Handle MDX JSX.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction mdxJsxElement(state, node, key) {\n  const parentSchema = state.schema\n  let schema = parentSchema\n\n  if (node.name === 'svg' && parentSchema.space === 'html') {\n    schema = svg\n    state.schema = schema\n  }\n\n  state.ancestors.push(node)\n\n  const type =\n    node.name === null\n      ? state.Fragment\n      : findComponentFromName(state, node.name, true)\n  const props = createJsxElementProps(state, node)\n  const children = createChildren(state, node)\n\n  addNode(state, props, type, node)\n  addChildren(props, children)\n\n  // Restore.\n  state.ancestors.pop()\n  state.schema = parentSchema\n\n  return state.create(node, type, props, key)\n}\n\n/**\n * Handle root.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Root} node\n *   Current node.\n * @param {string | undefined} key\n *   Key.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction root(state, node, key) {\n  /** @type {Props} */\n  const props = {}\n\n  addChildren(props, createChildren(state, node))\n\n  return state.create(node, state.Fragment, props, key)\n}\n\n/**\n * Handle text.\n *\n * @param {State} _\n *   Info passed around.\n * @param {Text} node\n *   Current node.\n * @returns {Child | undefined}\n *   Child, optional.\n */\nfunction text(_, node) {\n  return node.value\n}\n\n/**\n * Add `node` to props.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Props} props\n *   Props.\n * @param {unknown} type\n *   Type.\n * @param {Element | MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Node.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addNode(state, props, type, node) {\n  // If this is swapped out for a component:\n  if (typeof type !== 'string' && type !== state.Fragment && state.passNode) {\n    props.node = node\n  }\n}\n\n/**\n * Add children to props.\n *\n * @param {Props} props\n *   Props.\n * @param {Array<Child>} children\n *   Children.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addChildren(props, children) {\n  if (children.length > 0) {\n    const value = children.length > 1 ? children : children[0]\n\n    if (value) {\n      props.children = value\n    }\n  }\n}\n\n/**\n * @param {string | undefined} _\n *   Path to file.\n * @param {Jsx} jsx\n *   Dynamic.\n * @param {Jsx} jsxs\n *   Static.\n * @returns {Create}\n *   Create a production element.\n */\nfunction productionCreate(_, jsx, jsxs) {\n  return create\n  /** @type {Create} */\n  function create(_, type, props, key) {\n    // Only an array when there are 2 or more children.\n    const isStaticChildren = Array.isArray(props.children)\n    const fn = isStaticChildren ? jsxs : jsx\n    return key ? fn(type, props, key) : fn(type, props)\n  }\n}\n\n/**\n * @param {string | undefined} filePath\n *   Path to file.\n * @param {JsxDev} jsxDEV\n *   Development.\n * @returns {Create}\n *   Create a development element.\n */\nfunction developmentCreate(filePath, jsxDEV) {\n  return create\n  /** @type {Create} */\n  function create(node, type, props, key) {\n    // Only an array when there are 2 or more children.\n    const isStaticChildren = Array.isArray(props.children)\n    const point = pointStart(node)\n    return jsxDEV(\n      type,\n      props,\n      key,\n      isStaticChildren,\n      {\n        columnNumber: point ? point.column - 1 : undefined,\n        fileName: filePath,\n        lineNumber: point ? point.line : undefined\n      },\n      undefined\n    )\n  }\n}\n\n/**\n * Create props from an element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Element} node\n *   Current element.\n * @returns {Props}\n *   Props.\n */\nfunction createElementProps(state, node) {\n  /** @type {Props} */\n  const props = {}\n  /** @type {string | undefined} */\n  let alignValue\n  /** @type {string} */\n  let prop\n\n  for (prop in node.properties) {\n    if (prop !== 'children' && own.call(node.properties, prop)) {\n      const result = createProperty(state, prop, node.properties[prop])\n\n      if (result) {\n        const [key, value] = result\n\n        if (\n          state.tableCellAlignToStyle &&\n          key === 'align' &&\n          typeof value === 'string' &&\n          tableCellElement.has(node.tagName)\n        ) {\n          alignValue = value\n        } else {\n          props[key] = value\n        }\n      }\n    }\n  }\n\n  if (alignValue) {\n    // Assume style is an object.\n    const style = /** @type {Style} */ (props.style || (props.style = {}))\n    style[state.stylePropertyNameCase === 'css' ? 'text-align' : 'textAlign'] =\n      alignValue\n  }\n\n  return props\n}\n\n/**\n * Create props from a JSX element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdxJsxFlowElementHast | MdxJsxTextElementHast} node\n *   Current JSX element.\n * @returns {Props}\n *   Props.\n */\nfunction createJsxElementProps(state, node) {\n  /** @type {Props} */\n  const props = {}\n\n  for (const attribute of node.attributes) {\n    if (attribute.type === 'mdxJsxExpressionAttribute') {\n      if (attribute.data && attribute.data.estree && state.evaluater) {\n        const program = attribute.data.estree\n        const expression = program.body[0]\n        assert(expression.type === 'ExpressionStatement')\n        const objectExpression = expression.expression\n        assert(objectExpression.type === 'ObjectExpression')\n        const property = objectExpression.properties[0]\n        assert(property.type === 'SpreadElement')\n\n        Object.assign(\n          props,\n          state.evaluater.evaluateExpression(property.argument)\n        )\n      } else {\n        crashEstree(state, node.position)\n      }\n    } else {\n      // For JSX, the author is responsible of passing in the correct values.\n      const name = attribute.name\n      /** @type {unknown} */\n      let value\n\n      if (attribute.value && typeof attribute.value === 'object') {\n        if (\n          attribute.value.data &&\n          attribute.value.data.estree &&\n          state.evaluater\n        ) {\n          const program = attribute.value.data.estree\n          const expression = program.body[0]\n          assert(expression.type === 'ExpressionStatement')\n          value = state.evaluater.evaluateExpression(expression.expression)\n        } else {\n          crashEstree(state, node.position)\n        }\n      } else {\n        value = attribute.value === null ? true : attribute.value\n      }\n\n      // Assume a prop.\n      props[name] = /** @type {Props[keyof Props]} */ (value)\n    }\n  }\n\n  return props\n}\n\n/**\n * Create children.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Parents} node\n *   Current element.\n * @returns {Array<Child>}\n *   Children.\n */\nfunction createChildren(state, node) {\n  /** @type {Array<Child>} */\n  const children = []\n  let index = -1\n  /** @type {Map<string, number>} */\n  // Note: test this when Solid doesnt want to merge my upcoming PR.\n  /* c8 ignore next */\n  const countsByName = state.passKeys ? new Map() : emptyMap\n\n  while (++index < node.children.length) {\n    const child = node.children[index]\n    /** @type {string | undefined} */\n    let key\n\n    if (state.passKeys) {\n      const name =\n        child.type === 'element'\n          ? child.tagName\n          : child.type === 'mdxJsxFlowElement' ||\n              child.type === 'mdxJsxTextElement'\n            ? child.name\n            : undefined\n\n      if (name) {\n        const count = countsByName.get(name) || 0\n        key = name + '-' + count\n        countsByName.set(name, count + 1)\n      }\n    }\n\n    const result = one(state, child, key)\n    if (result !== undefined) children.push(result)\n  }\n\n  return children\n}\n\n/**\n * Handle a property.\n *\n * @param {State} state\n *   Info passed around.\n * @param {string} prop\n *   Key.\n * @param {Array<number | string> | boolean | number | string | null | undefined} value\n *   hast property value.\n * @returns {Field | undefined}\n *   Field for runtime, optional.\n */\nfunction createProperty(state, prop, value) {\n  const info = find(state.schema, prop)\n\n  // Ignore nullish and `NaN` values.\n  if (\n    value === null ||\n    value === undefined ||\n    (typeof value === 'number' && Number.isNaN(value))\n  ) {\n    return\n  }\n\n  if (Array.isArray(value)) {\n    // Accept `array`.\n    // Most props are space-separated.\n    value = info.commaSeparated ? commas(value) : spaces(value)\n  }\n\n  // React only accepts `style` as object.\n  if (info.property === 'style') {\n    let styleObject =\n      typeof value === 'object' ? value : parseStyle(state, String(value))\n\n    if (state.stylePropertyNameCase === 'css') {\n      styleObject = transformStylesToCssCasing(styleObject)\n    }\n\n    return ['style', styleObject]\n  }\n\n  return [\n    state.elementAttributeNameCase === 'react' && info.space\n      ? hastToReact[info.property] || info.property\n      : info.attribute,\n    value\n  ]\n}\n\n/**\n * Parse a CSS declaration to an object.\n *\n * @param {State} state\n *   Info passed around.\n * @param {string} value\n *   CSS declarations.\n * @returns {Style}\n *   Properties.\n * @throws\n *   Throws `VFileMessage` when CSS cannot be parsed.\n */\nfunction parseStyle(state, value) {\n  /** @type {Style} */\n  const result = {}\n\n  try {\n    styleToObject(value, replacer)\n  } catch (error) {\n    if (!state.ignoreInvalidStyle) {\n      const cause = /** @type {Error} */ (error)\n      const message = new VFileMessage('Cannot parse `style` attribute', {\n        ancestors: state.ancestors,\n        cause,\n        ruleId: 'style',\n        source: 'hast-util-to-jsx-runtime'\n      })\n      message.file = state.filePath || undefined\n      message.url = docs + '#cannot-parse-style-attribute'\n\n      throw message\n    }\n  }\n\n  return result\n\n  /**\n   * Add a CSS property (normal, so with dashes) to `result` as a DOM CSS\n   * property.\n   *\n   * @param {string} name\n   *   Key.\n   * @param {string} value\n   *   Value\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function replacer(name, value) {\n    let key = name\n\n    if (key.slice(0, 2) !== '--') {\n      if (key.slice(0, 4) === '-ms-') key = 'ms-' + key.slice(4)\n      key = key.replace(dashSomething, toCamel)\n    }\n\n    result[key] = value\n  }\n}\n\n/**\n * Create a JSX name from a string.\n *\n * @param {State} state\n *   To do.\n * @param {string} name\n *   Name.\n * @param {boolean} allowExpression\n *   Allow member expressions and identifiers.\n * @returns {unknown}\n *   To do.\n */\nfunction findComponentFromName(state, name, allowExpression) {\n  /** @type {Identifier | Literal | MemberExpression} */\n  let result\n\n  if (!allowExpression) {\n    result = {type: 'Literal', value: name}\n  } else if (name.includes('.')) {\n    const identifiers = name.split('.')\n    let index = -1\n    /** @type {Identifier | Literal | MemberExpression | undefined} */\n    let node\n\n    while (++index < identifiers.length) {\n      /** @type {Identifier | Literal} */\n      const prop = isIdentifierName(identifiers[index])\n        ? {type: 'Identifier', name: identifiers[index]}\n        : {type: 'Literal', value: identifiers[index]}\n      node = node\n        ? {\n            type: 'MemberExpression',\n            object: node,\n            property: prop,\n            computed: Boolean(index && prop.type === 'Literal'),\n            optional: false\n          }\n        : prop\n    }\n\n    assert(node, 'always a result')\n    result = node\n  } else {\n    result =\n      isIdentifierName(name) && !/^[a-z]/.test(name)\n        ? {type: 'Identifier', name}\n        : {type: 'Literal', value: name}\n  }\n\n  // Only literals can be passed in `components` currently.\n  // No identifiers / member expressions.\n  if (result.type === 'Literal') {\n    const name = /** @type {keyof JSX.IntrinsicElements} */ (result.value)\n\n    return own.call(state.components, name) ? state.components[name] : name\n  }\n\n  // Assume component.\n  if (state.evaluater) {\n    return state.evaluater.evaluateExpression(result)\n  }\n\n  crashEstree(state)\n}\n\n/**\n * @param {State} state\n * @param {Position | undefined} [place]\n * @returns {never}\n */\nfunction crashEstree(state, place) {\n  const message = new VFileMessage(\n    'Cannot handle MDX estrees without `createEvaluater`',\n    {\n      ancestors: state.ancestors,\n      place,\n      ruleId: 'mdx-estree',\n      source: 'hast-util-to-jsx-runtime'\n    }\n  )\n  message.file = state.filePath || undefined\n  message.url = docs + '#cannot-handle-mdx-estrees-without-createevaluater'\n\n  throw message\n}\n\n/**\n * Transform a DOM casing style object to a CSS casing style object.\n *\n * @param {Style} domCasing\n * @returns {Style}\n */\nfunction transformStylesToCssCasing(domCasing) {\n  /** @type {Style} */\n  const cssCasing = {}\n  /** @type {string} */\n  let from\n\n  for (from in domCasing) {\n    if (own.call(domCasing, from)) {\n      cssCasing[transformStyleToCssCasing(from)] = domCasing[from]\n    }\n  }\n\n  return cssCasing\n}\n\n/**\n * Transform a DOM casing style field to a CSS casing style field.\n *\n * @param {string} from\n * @returns {string}\n */\nfunction transformStyleToCssCasing(from) {\n  let to = from.replace(cap, toDash)\n  // Handle `ms-xxx` -> `-ms-xxx`.\n  if (to.slice(0, 3) === 'ms-') to = '-' + to\n  return to\n}\n\n/**\n * Make `$1` capitalized.\n *\n * @param {string} _\n *   Whatever.\n * @param {string} $1\n *   Single ASCII alphabetical.\n * @returns {string}\n *   Capitalized `$1`.\n */\nfunction toCamel(_, $1) {\n  return $1.toUpperCase()\n}\n\n/**\n * Make `$0` dash cased.\n *\n * @param {string} $0\n *   Capitalized ASCII leter.\n * @returns {string}\n *   Dash and lower letter.\n */\nfunction toDash($0) {\n  return '-' + $0.toLowerCase()\n}\n","/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n/**\n * @typedef {Options} StringifyOptions\n *   Please use `StringifyOptions` instead.\n */\n\n/**\n * Parse comma-separated tokens to an array.\n *\n * @param {string} value\n *   Comma-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  /** @type {Array<string>} */\n  const tokens = []\n  const input = String(value || '')\n  let index = input.indexOf(',')\n  let start = 0\n  /** @type {boolean} */\n  let end = false\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    const token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nexport function stringify(values, options) {\n  const settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","/**\n * HTML URL properties.\n *\n * Each key is a property name and each value is a list of tag names it applies\n * to or `null` if it applies to all elements.\n *\n * @type {Record<string, Array<string> | null>}\n */\nexport const urlAttributes = {\n  action: ['form'],\n  cite: ['blockquote', 'del', 'ins', 'q'],\n  data: ['object'],\n  formAction: ['button', 'input'],\n  href: ['a', 'area', 'base', 'link'],\n  icon: ['menuitem'],\n  itemId: null,\n  manifest: ['html'],\n  ping: ['a', 'area'],\n  poster: ['video'],\n  src: [\n    'audio',\n    'embed',\n    'iframe',\n    'img',\n    'input',\n    'script',\n    'source',\n    'track',\n    'video'\n  ]\n}\n","/**\n * @typedef {import('mdast').Nodes} Nodes\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [includeImageAlt=true]\n *   Whether to use `alt` for `image`s (default: `true`).\n * @property {boolean | null | undefined} [includeHtml=true]\n *   Whether to use `value` of HTML (default: `true`).\n */\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Get the text content of a node or list of nodes.\n *\n * Prefers the nodes plain-text fields, otherwise serializes its children,\n * and if the given value is an array, serialize the nodes in it.\n *\n * @param {unknown} [value]\n *   Thing to serialize, typically `Node`.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized `value`.\n */\nexport function toString(value, options) {\n  const settings = options || emptyOptions\n  const includeImageAlt =\n    typeof settings.includeImageAlt === 'boolean'\n      ? settings.includeImageAlt\n      : true\n  const includeHtml =\n    typeof settings.includeHtml === 'boolean' ? settings.includeHtml : true\n\n  return one(value, includeImageAlt, includeHtml)\n}\n\n/**\n * One node or several nodes.\n *\n * @param {unknown} value\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized node.\n */\nfunction one(value, includeImageAlt, includeHtml) {\n  if (node(value)) {\n    if ('value' in value) {\n      return value.type === 'html' && !includeHtml ? '' : value.value\n    }\n\n    if (includeImageAlt && 'alt' in value && value.alt) {\n      return value.alt\n    }\n\n    if ('children' in value) {\n      return all(value.children, includeImageAlt, includeHtml)\n    }\n  }\n\n  if (Array.isArray(value)) {\n    return all(value, includeImageAlt, includeHtml)\n  }\n\n  return ''\n}\n\n/**\n * Serialize a list of nodes.\n *\n * @param {Array<unknown>} values\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized nodes.\n */\nfunction all(values, includeImageAlt, includeHtml) {\n  /** @type {Array<string>} */\n  const result = []\n  let index = -1\n\n  while (++index < values.length) {\n    result[index] = one(values[index], includeImageAlt, includeHtml)\n  }\n\n  return result.join('')\n}\n\n/**\n * Check if `value` looks like a node.\n *\n * @param {unknown} value\n *   Thing.\n * @returns {value is Nodes}\n *   Whether `value` is a node.\n */\nfunction node(value) {\n  return Boolean(value && typeof value === 'object')\n}\n","/// <reference lib=\"dom\" />\n\n/* eslint-env browser */\n\nconst element = document.createElement('i')\n\n/**\n * @param {string} value\n * @returns {string|false}\n */\nexport function decodeNamedCharacterReference(value) {\n  const characterReference = '&' + value + ';'\n  element.innerHTML = characterReference\n  const char = element.textContent\n\n  // Some named character references do not require the closing semicolon\n  // (`&not`, for instance), which leads to situations where parsing the assumed\n  // named reference of `&notit;` will result in the string `it;`.\n  // When we encounter a trailing semicolon after parsing, and the character\n  // reference to decode was not a semicolon (`&semi;`), we can assume that the\n  // matching was not complete.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  if (char.charCodeAt(char.length - 1) === 59 /* `;` */ && value !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the character reference was\n  // not valid.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  return char === characterReference ? false : char\n}\n","/**\n * Like `Array#splice`, but smarter for giant arrays.\n *\n * `Array#splice` takes all items to be inserted as individual argument which\n * causes a stack overflow in V8 when trying to insert 100k items for instance.\n *\n * Otherwise, this does not return the removed items, and takes `items` as an\n * array instead of rest parameters.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {number} start\n *   Index to remove/insert at (can be negative).\n * @param {number} remove\n *   Number of items to remove.\n * @param {Array<T>} items\n *   Items to inject into `list`.\n * @returns {undefined}\n *   Nothing.\n */\nexport function splice(list, start, remove, items) {\n  const end = list.length;\n  let chunkStart = 0;\n  /** @type {Array<unknown>} */\n  let parameters;\n\n  // Make start between zero and `end` (included).\n  if (start < 0) {\n    start = -start > end ? 0 : end + start;\n  } else {\n    start = start > end ? end : start;\n  }\n  remove = remove > 0 ? remove : 0;\n\n  // No need to chunk the items if theres only a couple (10k) items.\n  if (items.length < 10000) {\n    parameters = Array.from(items);\n    parameters.unshift(start, remove);\n    // @ts-expect-error Hush, its fine.\n    list.splice(...parameters);\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) list.splice(start, remove);\n\n    // Insert the items in chunks to not cause stack overflows.\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000);\n      parameters.unshift(start, 0);\n      // @ts-expect-error Hush, its fine.\n      list.splice(...parameters);\n      chunkStart += 10000;\n      start += 10000;\n    }\n  }\n}\n\n/**\n * Append `items` (an array) at the end of `list` (another array).\n * When `list` was empty, returns `items` instead.\n *\n * This prevents a potentially expensive operation when `list` is empty,\n * and adds items in batches to prevent V8 from hanging.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {Array<T>} items\n *   Items to add to `list`.\n * @returns {Array<T>}\n *   Either `list` or `items`.\n */\nexport function push(list, items) {\n  if (list.length > 0) {\n    splice(list, list.length, 0, items);\n    return list;\n  }\n  return items;\n}","/**\n * @import {\n *   Extension,\n *   Handles,\n *   HtmlExtension,\n *   NormalizedExtension\n * } from 'micromark-util-types'\n */\n\nimport {splice} from 'micromark-util-chunked'\n\nconst hasOwnProperty = {}.hasOwnProperty\n\n/**\n * Combine multiple syntax extensions into one.\n *\n * @param {ReadonlyArray<Extension>} extensions\n *   List of syntax extensions.\n * @returns {NormalizedExtension}\n *   A single combined extension.\n */\nexport function combineExtensions(extensions) {\n  /** @type {NormalizedExtension} */\n  const all = {}\n  let index = -1\n\n  while (++index < extensions.length) {\n    syntaxExtension(all, extensions[index])\n  }\n\n  return all\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {NormalizedExtension} all\n *   Extension to merge into.\n * @param {Extension} extension\n *   Extension to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction syntaxExtension(all, extension) {\n  /** @type {keyof Extension} */\n  let hook\n\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined\n    /** @type {Record<string, unknown>} */\n    const left = maybe || (all[hook] = {})\n    /** @type {Record<string, unknown> | undefined} */\n    const right = extension[hook]\n    /** @type {string} */\n    let code\n\n    if (right) {\n      for (code in right) {\n        if (!hasOwnProperty.call(left, code)) left[code] = []\n        const value = right[code]\n        constructs(\n          // @ts-expect-error Looks like a list.\n          left[code],\n          Array.isArray(value) ? value : value ? [value] : []\n        )\n      }\n    }\n  }\n}\n\n/**\n * Merge `list` into `existing` (both lists of constructs).\n * Mutates `existing`.\n *\n * @param {Array<unknown>} existing\n *   List of constructs to merge into.\n * @param {Array<unknown>} list\n *   List of constructs to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction constructs(existing, list) {\n  let index = -1\n  /** @type {Array<unknown>} */\n  const before = []\n\n  while (++index < list.length) {\n    // @ts-expect-error Looks like an object.\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  splice(existing, 0, 0, before)\n}\n\n/**\n * Combine multiple HTML extensions into one.\n *\n * @param {ReadonlyArray<HtmlExtension>} htmlExtensions\n *   List of HTML extensions.\n * @returns {HtmlExtension}\n *   Single combined HTML extension.\n */\nexport function combineHtmlExtensions(htmlExtensions) {\n  /** @type {HtmlExtension} */\n  const handlers = {}\n  let index = -1\n\n  while (++index < htmlExtensions.length) {\n    htmlExtension(handlers, htmlExtensions[index])\n  }\n\n  return handlers\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {HtmlExtension} all\n *   Extension to merge into.\n * @param {HtmlExtension} extension\n *   Extension to merge.\n * @returns {undefined}\n *   Nothing.\n */\nfunction htmlExtension(all, extension) {\n  /** @type {keyof HtmlExtension} */\n  let hook\n\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined\n    const left = maybe || (all[hook] = {})\n    const right = extension[hook]\n    /** @type {keyof Handles} */\n    let type\n\n    if (right) {\n      for (type in right) {\n        // @ts-expect-error assume document vs regular handler are managed correctly.\n        left[type] = right[type]\n      }\n    }\n  }\n}\n","/**\n * Turn the number (in string form as either hexa- or plain decimal) coming from\n * a numeric character reference into a character.\n *\n * Sort of like `String.fromCodePoint(Number.parseInt(value, base))`, but makes\n * non-characters and control characters safe.\n *\n * @param {string} value\n *   Value to decode.\n * @param {number} base\n *   Numeric base.\n * @returns {string}\n *   Character.\n */\nexport function decodeNumericCharacterReference(value, base) {\n  const code = Number.parseInt(value, base);\n  if (\n  // C0 except for HT, LF, FF, CR, space.\n  code < 9 || code === 11 || code > 13 && code < 32 ||\n  // Control character (DEL) of C0, and C1 controls.\n  code > 126 && code < 160 ||\n  // Lone high surrogates and low surrogates.\n  code > 55_295 && code < 57_344 ||\n  // Noncharacters.\n  code > 64_975 && code < 65_008 || /* eslint-disable no-bitwise */\n  (code & 65_535) === 65_535 || (code & 65_535) === 65_534 || /* eslint-enable no-bitwise */\n  // Out of range\n  code > 1_114_111) {\n    return \"\\uFFFD\";\n  }\n  return String.fromCodePoint(code);\n}","/**\n * Normalize an identifier (as found in references, definitions).\n *\n * Collapses markdown whitespace, trim, and then lower- and uppercase.\n *\n * Some characters are considered uppercase, such as U+03F4 (``), but if their\n * lowercase counterpart (U+03B8 (``)) is uppercased will result in a different\n * uppercase character (U+0398 (``)).\n * So, to get a canonical form, we perform both lower- and uppercase.\n *\n * Using uppercase last makes sure keys will never interact with default\n * prototypal values (such as `constructor`): nothing in the prototype of\n * `Object` is uppercase.\n *\n * @param {string} value\n *   Identifier to normalize.\n * @returns {string}\n *   Normalized identifier.\n */\nexport function normalizeIdentifier(value) {\n  return value\n  // Collapse markdown whitespace.\n  .replace(/[\\t\\n\\r ]+/g, \" \")\n  // Trim.\n  .replace(/^ | $/g, '')\n  // Some characters are considered uppercase, but if their lowercase\n  // counterpart is uppercased will result in a different uppercase\n  // character.\n  // Hence, to get that form, we perform both lower- and uppercase.\n  // Upper case makes sure keys will not interact with default prototypal\n  // methods: no method is uppercase.\n  .toLowerCase().toUpperCase();\n}","/**\n * @import {Code} from 'micromark-util-types'\n */\n\n/**\n * Check whether the character code represents an ASCII alpha (`a` through `z`,\n * case insensitive).\n *\n * An **ASCII alpha** is an ASCII upper alpha or ASCII lower alpha.\n *\n * An **ASCII upper alpha** is a character in the inclusive range U+0041 (`A`)\n * to U+005A (`Z`).\n *\n * An **ASCII lower alpha** is a character in the inclusive range U+0061 (`a`)\n * to U+007A (`z`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAlpha = regexCheck(/[A-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII alphanumeric (`a`\n * through `z`, case insensitive, or `0` through `9`).\n *\n * An **ASCII alphanumeric** is an ASCII digit (see `asciiDigit`) or ASCII alpha\n * (see `asciiAlpha`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII atext.\n *\n * atext is an ASCII alphanumeric (see `asciiAlphanumeric`), or a character in\n * the inclusive ranges U+0023 NUMBER SIGN (`#`) to U+0027 APOSTROPHE (`'`),\n * U+002A ASTERISK (`*`), U+002B PLUS SIGN (`+`), U+002D DASH (`-`), U+002F\n * SLASH (`/`), U+003D EQUALS TO (`=`), U+003F QUESTION MARK (`?`), U+005E\n * CARET (`^`) to U+0060 GRAVE ACCENT (`` ` ``), or U+007B LEFT CURLY BRACE\n * (`{`) to U+007E TILDE (`~`).\n *\n * See:\n * **\\[RFC5322]**:\n * [Internet Message Format](https://tools.ietf.org/html/rfc5322).\n * P. Resnick.\n * IETF.\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/);\n\n/**\n * Check whether a character code is an ASCII control character.\n *\n * An **ASCII control** is a character in the inclusive range U+0000 NULL (NUL)\n * to U+001F (US), or U+007F (DEL).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code !== null && (code < 32 || code === 127)\n  );\n}\n\n/**\n * Check whether the character code represents an ASCII digit (`0` through `9`).\n *\n * An **ASCII digit** is a character in the inclusive range U+0030 (`0`) to\n * U+0039 (`9`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiDigit = regexCheck(/\\d/);\n\n/**\n * Check whether the character code represents an ASCII hex digit (`a` through\n * `f`, case insensitive, or `0` through `9`).\n *\n * An **ASCII hex digit** is an ASCII digit (see `asciiDigit`), ASCII upper hex\n * digit, or an ASCII lower hex digit.\n *\n * An **ASCII upper hex digit** is a character in the inclusive range U+0041\n * (`A`) to U+0046 (`F`).\n *\n * An **ASCII lower hex digit** is a character in the inclusive range U+0061\n * (`a`) to U+0066 (`f`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiHexDigit = regexCheck(/[\\dA-Fa-f]/);\n\n/**\n * Check whether the character code represents ASCII punctuation.\n *\n * An **ASCII punctuation** is a character in the inclusive ranges U+0021\n * EXCLAMATION MARK (`!`) to U+002F SLASH (`/`), U+003A COLON (`:`) to U+0040 AT\n * SIGN (`@`), U+005B LEFT SQUARE BRACKET (`[`) to U+0060 GRAVE ACCENT\n * (`` ` ``), or U+007B LEFT CURLY BRACE (`{`) to U+007E TILDE (`~`).\n *\n * @param code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport const asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/);\n\n/**\n * Check whether a character code is a markdown line ending.\n *\n * A **markdown line ending** is the virtual characters M-0003 CARRIAGE RETURN\n * LINE FEED (CRLF), M-0004 LINE FEED (LF) and M-0005 CARRIAGE RETURN (CR).\n *\n * In micromark, the actual character U+000A LINE FEED (LF) and U+000D CARRIAGE\n * RETURN (CR) are replaced by these virtual characters depending on whether\n * they occurred together.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEnding(code) {\n  return code !== null && code < -2;\n}\n\n/**\n * Check whether a character code is a markdown line ending (see\n * `markdownLineEnding`) or markdown space (see `markdownSpace`).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEndingOrSpace(code) {\n  return code !== null && (code < 0 || code === 32);\n}\n\n/**\n * Check whether a character code is a markdown space.\n *\n * A **markdown space** is the concrete character U+0020 SPACE (SP) and the\n * virtual characters M-0001 VIRTUAL SPACE (VS) and M-0002 HORIZONTAL TAB (HT).\n *\n * In micromark, the actual character U+0009 CHARACTER TABULATION (HT) is\n * replaced by one M-0002 HORIZONTAL TAB (HT) and between 0 and 3 M-0001 VIRTUAL\n * SPACE (VS) characters, depending on the column at which the tab occurred.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32;\n}\n\n// Size note: removing ASCII from the regex and using `asciiPunctuation` here\n// In fact adds to the bundle size.\n/**\n * Check whether the character code represents Unicode punctuation.\n *\n * A **Unicode punctuation** is a character in the Unicode `Pc` (Punctuation,\n * Connector), `Pd` (Punctuation, Dash), `Pe` (Punctuation, Close), `Pf`\n * (Punctuation, Final quote), `Pi` (Punctuation, Initial quote), `Po`\n * (Punctuation, Other), or `Ps` (Punctuation, Open) categories, or an ASCII\n * punctuation (see `asciiPunctuation`).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodePunctuation = regexCheck(/\\p{P}|\\p{S}/u);\n\n/**\n * Check whether the character code represents Unicode whitespace.\n *\n * Note that this does handle micromark specific markdown whitespace characters.\n * See `markdownLineEndingOrSpace` to check that.\n *\n * A **Unicode whitespace** is a character in the Unicode `Zs` (Separator,\n * Space) category, or U+0009 CHARACTER TABULATION (HT), U+000A LINE FEED (LF),\n * U+000C (FF), or U+000D CARRIAGE RETURN (CR) (**\\[UNICODE]**).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodeWhitespace = regexCheck(/\\s/);\n\n/**\n * Create a code check from a regex.\n *\n * @param {RegExp} regex\n *   Expression.\n * @returns {(code: Code) => boolean}\n *   Check.\n */\nfunction regexCheck(regex) {\n  return check;\n\n  /**\n   * Check whether a code matches the bound regex.\n   *\n   * @param {Code} code\n   *   Character code.\n   * @returns {boolean}\n   *   Whether the character code matches the bound regex.\n   */\n  function check(code) {\n    return code !== null && code > -1 && regex.test(String.fromCharCode(code));\n  }\n}","import { asciiAlphanumeric } from 'micromark-util-character';\nimport { encode } from 'micromark-util-encode';\n/**\n * Make a value safe for injection as a URL.\n *\n * This encodes unsafe characters with percent-encoding and skips already\n * encoded sequences (see `normalizeUri`).\n * Further unsafe characters are encoded as character references (see\n * `micromark-util-encode`).\n *\n * A regex of allowed protocols can be given, in which case the URL is\n * sanitized.\n * For example, `/^(https?|ircs?|mailto|xmpp)$/i` can be used for `a[href]`, or\n * `/^https?$/i` for `img[src]` (this is what `github.com` allows).\n * If the URL includes an unknown protocol (one not matched by `protocol`, such\n * as a dangerous example, `javascript:`), the value is ignored.\n *\n * @param {string | null | undefined} url\n *   URI to sanitize.\n * @param {RegExp | null | undefined} [protocol]\n *   Allowed protocols.\n * @returns {string}\n *   Sanitized URI.\n */\nexport function sanitizeUri(url, protocol) {\n  const value = encode(normalizeUri(url || ''));\n  if (!protocol) {\n    return value;\n  }\n  const colon = value.indexOf(':');\n  const questionMark = value.indexOf('?');\n  const numberSign = value.indexOf('#');\n  const slash = value.indexOf('/');\n  if (\n  // If there is no protocol, its relative.\n  colon < 0 ||\n  // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n  slash > -1 && colon > slash || questionMark > -1 && colon > questionMark || numberSign > -1 && colon > numberSign ||\n  // It is a protocol, it should be allowed.\n  protocol.test(value.slice(0, colon))) {\n    return value;\n  }\n  return '';\n}\n\n/**\n * Normalize a URL.\n *\n * Encode unsafe characters with percent-encoding, skipping already encoded\n * sequences.\n *\n * @param {string} value\n *   URI to normalize.\n * @returns {string}\n *   Normalized URI.\n */\nexport function normalizeUri(value) {\n  /** @type {Array<string>} */\n  const result = [];\n  let index = -1;\n  let start = 0;\n  let skip = 0;\n  while (++index < value.length) {\n    const code = value.charCodeAt(index);\n    /** @type {string} */\n    let replace = '';\n\n    // A correct percent encoded value.\n    if (code === 37 && asciiAlphanumeric(value.charCodeAt(index + 1)) && asciiAlphanumeric(value.charCodeAt(index + 2))) {\n      skip = 2;\n    }\n    // ASCII.\n    else if (code < 128) {\n      if (!/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(code))) {\n        replace = String.fromCharCode(code);\n      }\n    }\n    // Astral.\n    else if (code > 55_295 && code < 57_344) {\n      const next = value.charCodeAt(index + 1);\n\n      // A correct surrogate pair.\n      if (code < 56_320 && next > 56_319 && next < 57_344) {\n        replace = String.fromCharCode(code, next);\n        skip = 1;\n      }\n      // Lone surrogate.\n      else {\n        replace = \"\\uFFFD\";\n      }\n    }\n    // Unicode.\n    else {\n      replace = String.fromCharCode(code);\n    }\n    if (replace) {\n      result.push(value.slice(start, index), encodeURIComponent(replace));\n      start = index + skip + 1;\n      replace = '';\n    }\n    if (skip) {\n      index += skip;\n      skip = 0;\n    }\n  }\n  return result.join('') + value.slice(start);\n}","/**\n * @import {Effects, State, TokenType} from 'micromark-util-types'\n */\n\nimport { markdownSpace } from 'micromark-util-character';\n\n// To do: implement `spaceOrTab`, `spaceOrTabMinMax`, `spaceOrTabWithOptions`.\n\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   spaces in markdown are often optional, in which case this factory can be\n *     used and `ok` will be switched to whether spaces were found or not\n * *   one line ending or space can be detected with `markdownSpace(code)` right\n *     before using `factorySpace`\n *\n * ###### Examples\n *\n * Where `` represents a tab (plus how much it expands) and `` represents a\n * single space.\n *\n * ```markdown\n * \n * \n * \n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {TokenType} type\n *   Type (`' \\t'`).\n * @param {number | undefined} [max=Infinity]\n *   Max (exclusive).\n * @returns {State}\n *   Start state.\n */\nexport function factorySpace(effects, ok, type, max) {\n  const limit = max ? max - 1 : Number.POSITIVE_INFINITY;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type);\n      return prefix(code);\n    }\n    return ok(code);\n  }\n\n  /** @type {State} */\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code);\n      return prefix;\n    }\n    effects.exit(type);\n    return ok(code);\n  }\n}","/**\n * @import {\n *   InitialConstruct,\n *   Initializer,\n *   State,\n *   TokenizeContext,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const content = {\n  tokenize: initializeContent\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Initializer}\n *   Content.\n */\nfunction initializeContent(effects) {\n  const contentStart = effects.attempt(this.parser.constructs.contentInitial, afterContentStartConstruct, paragraphInitial);\n  /** @type {Token} */\n  let previous;\n  return contentStart;\n\n  /** @type {State} */\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, contentStart, \"linePrefix\");\n  }\n\n  /** @type {State} */\n  function paragraphInitial(code) {\n    effects.enter(\"paragraph\");\n    return lineStart(code);\n  }\n\n  /** @type {State} */\n  function lineStart(code) {\n    const token = effects.enter(\"chunkText\", {\n      contentType: \"text\",\n      previous\n    });\n    if (previous) {\n      previous.next = token;\n    }\n    previous = token;\n    return data(code);\n  }\n\n  /** @type {State} */\n  function data(code) {\n    if (code === null) {\n      effects.exit(\"chunkText\");\n      effects.exit(\"paragraph\");\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      effects.exit(\"chunkText\");\n      return lineStart;\n    }\n\n    // Data.\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * @import {\n *   Construct,\n *   ContainerState,\n *   InitialConstruct,\n *   Initializer,\n *   Point,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\n/**\n * @typedef {[Construct, ContainerState]} StackItem\n *   Construct and its state.\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {InitialConstruct} */\nexport const document = {\n  tokenize: initializeDocument\n};\n\n/** @type {Construct} */\nconst containerConstruct = {\n  tokenize: tokenizeContainer\n};\n\n/**\n * @this {TokenizeContext}\n *   Self.\n * @type {Initializer}\n *   Initializer.\n */\nfunction initializeDocument(effects) {\n  const self = this;\n  /** @type {Array<StackItem>} */\n  const stack = [];\n  let continued = 0;\n  /** @type {TokenizeContext | undefined} */\n  let childFlow;\n  /** @type {Token | undefined} */\n  let childToken;\n  /** @type {number} */\n  let lineStartOffset;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    // First we iterate through the open blocks, starting with the root\n    // document, and descending through last children down to the last open\n    // block.\n    // Each block imposes a condition that the line must satisfy if the block is\n    // to remain open.\n    // For example, a block quote requires a `>` character.\n    // A paragraph requires a non-blank line.\n    // In this phase we may match all or just some of the open blocks.\n    // But we cannot close unmatched blocks yet, because we may have a lazy\n    // continuation line.\n    if (continued < stack.length) {\n      const item = stack[continued];\n      self.containerState = item[1];\n      return effects.attempt(item[0].continuation, documentContinue, checkNewContainers)(code);\n    }\n\n    // Done.\n    return checkNewContainers(code);\n  }\n\n  /** @type {State} */\n  function documentContinue(code) {\n    continued++;\n\n    // Note: this field is called `_closeFlow` but it also closes containers.\n    // Perhaps a good idea to rename it but its already used in the wild by\n    // extensions.\n    if (self.containerState._closeFlow) {\n      self.containerState._closeFlow = undefined;\n      if (childFlow) {\n        closeFlow();\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when dealing with lazy lines in `writeToChild`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the flow chunk.\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === \"chunkFlow\") {\n          point = self.events[indexBeforeFlow][1].end;\n          break;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      let index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = {\n          ...point\n        };\n        index++;\n      }\n\n      // Inject the exits earlier (theyre still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n      return checkNewContainers(code);\n    }\n    return start(code);\n  }\n\n  /** @type {State} */\n  function checkNewContainers(code) {\n    // Next, after consuming the continuation markers for existing blocks, we\n    // look for new block starts (e.g. `>` for a block quote).\n    // If we encounter a new block start, we close any blocks unmatched in\n    // step 1 before creating the new block as a child of the last matched\n    // block.\n    if (continued === stack.length) {\n      // No need to `check` whether theres a container, of `exitContainers`\n      // would be moot.\n      // We can instead immediately `attempt` to parse one.\n      if (!childFlow) {\n        return documentContinued(code);\n      }\n\n      // If we have concrete content, such as block HTML or fenced code,\n      // we cant have containers pierce into them, so we can immediately\n      // start.\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        return flowStart(code);\n      }\n\n      // If we do have flow, it could still be a blank line,\n      // but wed be interrupting it w/ a new container if theres a current\n      // construct.\n      // To do: next major: remove `_gfmTableDynamicInterruptHack` (no longer\n      // needed in micromark-extension-gfm-table@1.0.6).\n      self.interrupt = Boolean(childFlow.currentConstruct && !childFlow._gfmTableDynamicInterruptHack);\n    }\n\n    // Check if there is a new container.\n    self.containerState = {};\n    return effects.check(containerConstruct, thereIsANewContainer, thereIsNoNewContainer)(code);\n  }\n\n  /** @type {State} */\n  function thereIsANewContainer(code) {\n    if (childFlow) closeFlow();\n    exitContainers(continued);\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function thereIsNoNewContainer(code) {\n    self.parser.lazy[self.now().line] = continued !== stack.length;\n    lineStartOffset = self.now().offset;\n    return flowStart(code);\n  }\n\n  /** @type {State} */\n  function documentContinued(code) {\n    // Try new containers.\n    self.containerState = {};\n    return effects.attempt(containerConstruct, containerContinue, flowStart)(code);\n  }\n\n  /** @type {State} */\n  function containerContinue(code) {\n    continued++;\n    stack.push([self.currentConstruct, self.containerState]);\n    // Try another.\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function flowStart(code) {\n    if (code === null) {\n      if (childFlow) closeFlow();\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    childFlow = childFlow || self.parser.flow(self.now());\n    effects.enter(\"chunkFlow\", {\n      _tokenizer: childFlow,\n      contentType: \"flow\",\n      previous: childToken\n    });\n    return flowContinue(code);\n  }\n\n  /** @type {State} */\n  function flowContinue(code) {\n    if (code === null) {\n      writeToChild(effects.exit(\"chunkFlow\"), true);\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      writeToChild(effects.exit(\"chunkFlow\"));\n      // Get ready for the next line.\n      continued = 0;\n      self.interrupt = undefined;\n      return start;\n    }\n    effects.consume(code);\n    return flowContinue;\n  }\n\n  /**\n   * @param {Token} token\n   *   Token.\n   * @param {boolean | undefined} [endOfFile]\n   *   Whether the token is at the end of the file (default: `false`).\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function writeToChild(token, endOfFile) {\n    const stream = self.sliceStream(token);\n    if (endOfFile) stream.push(null);\n    token.previous = childToken;\n    if (childToken) childToken.next = token;\n    childToken = token;\n    childFlow.defineSkip(token.start);\n    childFlow.write(stream);\n\n    // Alright, so we just added a lazy line:\n    //\n    // ```markdown\n    // > a\n    // b.\n    //\n    // Or:\n    //\n    // > ~~~c\n    // d\n    //\n    // Or:\n    //\n    // > | e |\n    // f\n    // ```\n    //\n    // The construct in the second example (fenced code) does not accept lazy\n    // lines, so it marked itself as done at the end of its first line, and\n    // then the content construct parses `d`.\n    // Most constructs in markdown match on the first line: if the first line\n    // forms a construct, a non-lazy line cant unmake it.\n    //\n    // The construct in the third example is potentially a GFM table, and\n    // those are *weird*.\n    // It *could* be a table, from the first line, if the following line\n    // matches a condition.\n    // In this case, that second line is lazy, which unmakes the first line\n    // and turns the whole into one content block.\n    //\n    // Weve now parsed the non-lazy and the lazy line, and can figure out\n    // whether the lazy line started a new flow block.\n    // If it did, we exit the current containers between the two flow blocks.\n    if (self.parser.lazy[token.start.line]) {\n      let index = childFlow.events.length;\n      while (index--) {\n        if (\n        // The token starts before the line ending\n        childFlow.events[index][1].start.offset < lineStartOffset && (\n        // and either is not ended yet\n        !childFlow.events[index][1].end ||\n        // or ends after it.\n        childFlow.events[index][1].end.offset > lineStartOffset)) {\n          // Exit: theres still something open, which means its a lazy line\n          // part of something.\n          return;\n        }\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when closing flow in `documentContinue`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {boolean | undefined} */\n      let seen;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the previous chunk (the one before the lazy line).\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === \"chunkFlow\") {\n          if (seen) {\n            point = self.events[indexBeforeFlow][1].end;\n            break;\n          }\n          seen = true;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = {\n          ...point\n        };\n        index++;\n      }\n\n      // Inject the exits earlier (theyre still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n    }\n  }\n\n  /**\n   * @param {number} size\n   *   Size.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function exitContainers(size) {\n    let index = stack.length;\n\n    // Exit open containers.\n    while (index-- > size) {\n      const entry = stack[index];\n      self.containerState = entry[1];\n      entry[0].exit.call(self, effects);\n    }\n    stack.length = size;\n  }\n  function closeFlow() {\n    childFlow.write([null]);\n    childToken = undefined;\n    childFlow = undefined;\n    self.containerState._closeFlow = undefined;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n *   Tokenizer.\n */\nfunction tokenizeContainer(effects, ok, nok) {\n  // Always populated by defaults.\n\n  return factorySpace(effects, effects.attempt(this.parser.constructs.document, ok, nok), \"linePrefix\", this.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4);\n}","/**\n * @import {Code} from 'micromark-util-types'\n */\n\nimport { markdownLineEndingOrSpace, unicodePunctuation, unicodeWhitespace } from 'micromark-util-character';\n/**\n * Classify whether a code represents whitespace, punctuation, or something\n * else.\n *\n * Used for attention (emphasis, strong), whose sequences can open or close\n * based on the class of surrounding characters.\n *\n * >  **Note**: eof (`null`) is seen as whitespace.\n *\n * @param {Code} code\n *   Code.\n * @returns {typeof constants.characterGroupWhitespace | typeof constants.characterGroupPunctuation | undefined}\n *   Group.\n */\nexport function classifyCharacter(code) {\n  if (code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n    return 1;\n  }\n  if (unicodePunctuation(code)) {\n    return 2;\n  }\n}","/**\n * @import {Event, Resolver, TokenizeContext} from 'micromark-util-types'\n */\n\n/**\n * Call all `resolveAll`s.\n *\n * @param {ReadonlyArray<{resolveAll?: Resolver | undefined}>} constructs\n *   List of constructs, optionally with `resolveAll`s.\n * @param {Array<Event>} events\n *   List of events.\n * @param {TokenizeContext} context\n *   Context used by `tokenize`.\n * @returns {Array<Event>}\n *   Changed events.\n */\nexport function resolveAll(constructs, events, context) {\n  /** @type {Array<Resolver>} */\n  const called = []\n  let index = -1\n\n  while (++index < constructs.length) {\n    const resolve = constructs[index].resolveAll\n\n    if (resolve && !called.includes(resolve)) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n","/**\n * @import {\n *   Code,\n *   Construct,\n *   Event,\n *   Point,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { push, splice } from 'micromark-util-chunked';\nimport { classifyCharacter } from 'micromark-util-classify-character';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const attention = {\n  name: 'attention',\n  resolveAll: resolveAllAttention,\n  tokenize: tokenizeAttention\n};\n\n/**\n * Take all events and resolve attention to emphasis or strong.\n *\n * @type {Resolver}\n */\n// eslint-disable-next-line complexity\nfunction resolveAllAttention(events, context) {\n  let index = -1;\n  /** @type {number} */\n  let open;\n  /** @type {Token} */\n  let group;\n  /** @type {Token} */\n  let text;\n  /** @type {Token} */\n  let openingSequence;\n  /** @type {Token} */\n  let closingSequence;\n  /** @type {number} */\n  let use;\n  /** @type {Array<Event>} */\n  let nextEvents;\n  /** @type {number} */\n  let offset;\n\n  // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (events[index][0] === 'enter' && events[index][1].type === 'attentionSequence' && events[index][1]._close) {\n      open = index;\n\n      // Now walk back to find an opener.\n      while (open--) {\n        // Find a token that can open the closer.\n        if (events[open][0] === 'exit' && events[open][1].type === 'attentionSequence' && events[open][1]._open &&\n        // If the markers are the same:\n        context.sliceSerialize(events[open][1]).charCodeAt(0) === context.sliceSerialize(events[index][1]).charCodeAt(0)) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if ((events[open][1]._close || events[index][1]._open) && (events[index][1].end.offset - events[index][1].start.offset) % 3 && !((events[open][1].end.offset - events[open][1].start.offset + events[index][1].end.offset - events[index][1].start.offset) % 3)) {\n            continue;\n          }\n\n          // Number of markers to use from the sequence.\n          use = events[open][1].end.offset - events[open][1].start.offset > 1 && events[index][1].end.offset - events[index][1].start.offset > 1 ? 2 : 1;\n          const start = {\n            ...events[open][1].end\n          };\n          const end = {\n            ...events[index][1].start\n          };\n          movePoint(start, -use);\n          movePoint(end, use);\n          openingSequence = {\n            type: use > 1 ? \"strongSequence\" : \"emphasisSequence\",\n            start,\n            end: {\n              ...events[open][1].end\n            }\n          };\n          closingSequence = {\n            type: use > 1 ? \"strongSequence\" : \"emphasisSequence\",\n            start: {\n              ...events[index][1].start\n            },\n            end\n          };\n          text = {\n            type: use > 1 ? \"strongText\" : \"emphasisText\",\n            start: {\n              ...events[open][1].end\n            },\n            end: {\n              ...events[index][1].start\n            }\n          };\n          group = {\n            type: use > 1 ? \"strong\" : \"emphasis\",\n            start: {\n              ...openingSequence.start\n            },\n            end: {\n              ...closingSequence.end\n            }\n          };\n          events[open][1].end = {\n            ...openingSequence.start\n          };\n          events[index][1].start = {\n            ...closingSequence.end\n          };\n          nextEvents = [];\n\n          // If there are more markers in the opening, add them before.\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = push(nextEvents, [['enter', events[open][1], context], ['exit', events[open][1], context]]);\n          }\n\n          // Opening.\n          nextEvents = push(nextEvents, [['enter', group, context], ['enter', openingSequence, context], ['exit', openingSequence, context], ['enter', text, context]]);\n\n          // Always populated by defaults.\n\n          // Between.\n          nextEvents = push(nextEvents, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + 1, index), context));\n\n          // Closing.\n          nextEvents = push(nextEvents, [['exit', text, context], ['enter', closingSequence, context], ['exit', closingSequence, context], ['exit', group, context]]);\n\n          // If there are more markers in the closing, add them after.\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2;\n            nextEvents = push(nextEvents, [['enter', events[index][1], context], ['exit', events[index][1], context]]);\n          } else {\n            offset = 0;\n          }\n          splice(events, open - 1, index - open + 3, nextEvents);\n          index = open + nextEvents.length - offset - 2;\n          break;\n        }\n      }\n    }\n  }\n\n  // Remove remaining sequences.\n  index = -1;\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data';\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeAttention(effects, ok) {\n  const attentionMarkers = this.parser.constructs.attentionMarkers.null;\n  const previous = this.previous;\n  const before = classifyCharacter(previous);\n\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Before a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    marker = code;\n    effects.enter('attentionSequence');\n    return inside(code);\n  }\n\n  /**\n   * In a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    const token = effects.exit('attentionSequence');\n\n    // To do: next major: move this to resolver, just like `markdown-rs`.\n    const after = classifyCharacter(code);\n\n    // Always populated by defaults.\n\n    const open = !after || after === 2 && before || attentionMarkers.includes(code);\n    const close = !before || before === 2 && after || attentionMarkers.includes(previous);\n    token._open = Boolean(marker === 42 ? open : open && (before || !close));\n    token._close = Boolean(marker === 42 ? close : close && (after || !open));\n    return ok(code);\n  }\n}\n\n/**\n * Move a point a bit.\n *\n * Note: `move` only works inside lines! Its not possible to move past other\n * chunks (replacement characters, tabs, or line endings).\n *\n * @param {Point} point\n *   Point.\n * @param {number} offset\n *   Amount to move.\n * @returns {undefined}\n *   Nothing.\n */\nfunction movePoint(point, offset) {\n  point.column += offset;\n  point.offset += offset;\n  point._bufferIndex += offset;\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiAlphanumeric, asciiAlpha, asciiAtext, asciiControl } from 'micromark-util-character';\n/** @type {Construct} */\nexport const autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeAutolink(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of an autolink.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *      ^\n   * > | a<user@example.com>b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"autolink\");\n    effects.enter(\"autolinkMarker\");\n    effects.consume(code);\n    effects.exit(\"autolinkMarker\");\n    effects.enter(\"autolinkProtocol\");\n    return open;\n  }\n\n  /**\n   * After `<`, at protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *       ^\n   * > | a<user@example.com>b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return schemeOrEmailAtext;\n    }\n    if (code === 64) {\n      return nok(code);\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * At second byte of protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeOrEmailAtext(code) {\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) {\n      // Count the previous alphabetical from `open` too.\n      size = 1;\n      return schemeInsideOrEmailAtext(code);\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * In ambiguous protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code);\n      size = 0;\n      return urlInside;\n    }\n\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if ((code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) && size++ < 32) {\n      effects.consume(code);\n      return schemeInsideOrEmailAtext;\n    }\n    size = 0;\n    return emailAtext(code);\n  }\n\n  /**\n   * After protocol, in URL.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit(\"autolinkProtocol\");\n      effects.enter(\"autolinkMarker\");\n      effects.consume(code);\n      effects.exit(\"autolinkMarker\");\n      effects.exit(\"autolink\");\n      return ok;\n    }\n\n    // ASCII control, space, or `<`.\n    if (code === null || code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return urlInside;\n  }\n\n  /**\n   * In email atext.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code);\n      return emailAtSignOrDot;\n    }\n    if (asciiAtext(code)) {\n      effects.consume(code);\n      return emailAtext;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In label, after at-sign or dot.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                 ^       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are allowed.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code);\n      size = 0;\n      return emailAtSignOrDot;\n    }\n    if (code === 62) {\n      // Exit, then change the token type.\n      effects.exit(\"autolinkProtocol\").type = \"autolinkEmail\";\n      effects.enter(\"autolinkMarker\");\n      effects.consume(code);\n      effects.exit(\"autolinkMarker\");\n      effects.exit(\"autolink\");\n      return ok;\n    }\n    return emailValue(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are *not* allowed.\n   *\n   * Though, this is also used in `emailLabel` to parse other values.\n   *\n   * ```markdown\n   * > | a<user.name@ex-ample.com>b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailValue(code) {\n    // ASCII alphanumeric or `-`.\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      const next = code === 45 ? emailValue : emailLabel;\n      effects.consume(code);\n      return next;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blankLine = {\n  partial: true,\n  tokenize: tokenizeBlankLine\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLine(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of blank line.\n   *\n   * >  **Note**: `` represents a space character.\n   *\n   * ```markdown\n   * > | \n   *     ^\n   * > | \n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    return markdownSpace(code) ? factorySpace(effects, after, \"linePrefix\")(code) : after(code);\n  }\n\n  /**\n   * At eof/eol, after optional whitespace.\n   *\n   * >  **Note**: `` represents a space character.\n   *\n   * ```markdown\n   * > | \n   *       ^\n   * > | \n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Exiter,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blockQuote = {\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit,\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of block quote.\n   *\n   * ```markdown\n   * > | > a\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 62) {\n      const state = self.containerState;\n      if (!state.open) {\n        effects.enter(\"blockQuote\", {\n          _container: true\n        });\n        state.open = true;\n      }\n      effects.enter(\"blockQuotePrefix\");\n      effects.enter(\"blockQuoteMarker\");\n      effects.consume(code);\n      effects.exit(\"blockQuoteMarker\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>`, before optional whitespace.\n   *\n   * ```markdown\n   * > | > a\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter(\"blockQuotePrefixWhitespace\");\n      effects.consume(code);\n      effects.exit(\"blockQuotePrefixWhitespace\");\n      effects.exit(\"blockQuotePrefix\");\n      return ok;\n    }\n    effects.exit(\"blockQuotePrefix\");\n    return ok(code);\n  }\n}\n\n/**\n * Start of block quote continuation.\n *\n * ```markdown\n *   | > a\n * > | > b\n *     ^\n * ```\n *\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  const self = this;\n  return contStart;\n\n  /**\n   * Start of block quote continuation.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contStart(code) {\n    if (markdownSpace(code)) {\n      // Always populated by defaults.\n\n      return factorySpace(effects, contBefore, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n    }\n    return contBefore(code);\n  }\n\n  /**\n   * At `>`, after optional whitespace.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contBefore(code) {\n    return effects.attempt(blockQuote, ok, nok)(code);\n  }\n}\n\n/** @type {Exiter} */\nfunction exit(effects) {\n  effects.exit(\"blockQuote\");\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiPunctuation } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of character escape.\n   *\n   * ```markdown\n   * > | a\\*b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"characterEscape\");\n    effects.enter(\"escapeMarker\");\n    effects.consume(code);\n    effects.exit(\"escapeMarker\");\n    return inside;\n  }\n\n  /**\n   * After `\\`, at punctuation.\n   *\n   * ```markdown\n   * > | a\\*b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    // ASCII punctuation.\n    if (asciiPunctuation(code)) {\n      effects.enter(\"characterEscapeValue\");\n      effects.consume(code);\n      effects.exit(\"characterEscapeValue\");\n      effects.exit(\"characterEscape\");\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { asciiAlphanumeric, asciiDigit, asciiHexDigit } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  const self = this;\n  let size = 0;\n  /** @type {number} */\n  let max;\n  /** @type {(code: Code) => boolean} */\n  let test;\n  return start;\n\n  /**\n   * Start of character reference.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *      ^\n   * > | a&#123;b\n   *      ^\n   * > | a&#x9;b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"characterReference\");\n    effects.enter(\"characterReferenceMarker\");\n    effects.consume(code);\n    effects.exit(\"characterReferenceMarker\");\n    return open;\n  }\n\n  /**\n   * After `&`, at `#` for numeric references or alphanumeric for named\n   * references.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^\n   * > | a&#123;b\n   *       ^\n   * > | a&#x9;b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 35) {\n      effects.enter(\"characterReferenceMarkerNumeric\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarkerNumeric\");\n      return numeric;\n    }\n    effects.enter(\"characterReferenceValue\");\n    max = 31;\n    test = asciiAlphanumeric;\n    return value(code);\n  }\n\n  /**\n   * After `#`, at `x` for hexadecimals or digit for decimals.\n   *\n   * ```markdown\n   * > | a&#123;b\n   *        ^\n   * > | a&#x9;b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter(\"characterReferenceMarkerHexadecimal\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarkerHexadecimal\");\n      effects.enter(\"characterReferenceValue\");\n      max = 6;\n      test = asciiHexDigit;\n      return value;\n    }\n    effects.enter(\"characterReferenceValue\");\n    max = 7;\n    test = asciiDigit;\n    return value(code);\n  }\n\n  /**\n   * After markers (`&#x`, `&#`, or `&`), in value, before `;`.\n   *\n   * The character reference kind defines what and how many characters are\n   * allowed.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^^^\n   * > | a&#123;b\n   *        ^^^\n   * > | a&#x9;b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function value(code) {\n    if (code === 59 && size) {\n      const token = effects.exit(\"characterReferenceValue\");\n      if (test === asciiAlphanumeric && !decodeNamedCharacterReference(self.sliceSerialize(token))) {\n        return nok(code);\n      }\n\n      // To do: `markdown-rs` uses a different name:\n      // `CharacterReferenceMarkerSemi`.\n      effects.enter(\"characterReferenceMarker\");\n      effects.consume(code);\n      effects.exit(\"characterReferenceMarker\");\n      effects.exit(\"characterReference\");\n      return ok;\n    }\n    if (test(code) && size++ < max) {\n      effects.consume(code);\n      return value;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nconst nonLazyContinuation = {\n  partial: true,\n  tokenize: tokenizeNonLazyContinuation\n};\n\n/** @type {Construct} */\nexport const codeFenced = {\n  concrete: true,\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  const self = this;\n  /** @type {Construct} */\n  const closeStart = {\n    partial: true,\n    tokenize: tokenizeCloseStart\n  };\n  let initialPrefix = 0;\n  let sizeOpen = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of code.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse whitespace like `markdown-rs`.\n    return beforeSequenceOpen(code);\n  }\n\n  /**\n   * In opening fence, after prefix, at sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeSequenceOpen(code) {\n    const tail = self.events[self.events.length - 1];\n    initialPrefix = tail && tail[1].type === \"linePrefix\" ? tail[2].sliceSerialize(tail[1], true).length : 0;\n    marker = code;\n    effects.enter(\"codeFenced\");\n    effects.enter(\"codeFencedFence\");\n    effects.enter(\"codeFencedFenceSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening fence sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *      ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === marker) {\n      sizeOpen++;\n      effects.consume(code);\n      return sequenceOpen;\n    }\n    if (sizeOpen < 3) {\n      return nok(code);\n    }\n    effects.exit(\"codeFencedFenceSequence\");\n    return markdownSpace(code) ? factorySpace(effects, infoBefore, \"whitespace\")(code) : infoBefore(code);\n  }\n\n  /**\n   * In opening fence, after the sequence (and optional whitespace), before info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function infoBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFencedFence\");\n      return self.interrupt ? ok(code) : effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter(\"codeFencedFenceInfo\");\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return info(code);\n  }\n\n  /**\n   * In info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function info(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceInfo\");\n      return infoBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceInfo\");\n      return factorySpace(effects, metaBefore, \"whitespace\")(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return info;\n  }\n\n  /**\n   * In opening fence, after info and whitespace, before meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function metaBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return infoBefore(code);\n    }\n    effects.enter(\"codeFencedFenceMeta\");\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return meta(code);\n  }\n\n  /**\n   * In meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      effects.exit(\"codeFencedFenceMeta\");\n      return infoBefore(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return meta;\n  }\n\n  /**\n   * At eol/eof in code, before a non-lazy closing fence or content.\n   *\n   * ```markdown\n   * > | ~~~js\n   *          ^\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function atNonLazyBreak(code) {\n    return effects.attempt(closeStart, after, contentBefore)(code);\n  }\n\n  /**\n   * Before code content, not a closing fence, at eol.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentBefore(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return contentStart;\n  }\n\n  /**\n   * Before code content, not a closing fence.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentStart(code) {\n    return initialPrefix > 0 && markdownSpace(code) ? factorySpace(effects, beforeContentChunk, \"linePrefix\", initialPrefix + 1)(code) : beforeContentChunk(code);\n  }\n\n  /**\n   * Before code content, after optional prefix.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeContentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter(\"codeFlowValue\");\n    return contentChunk(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^^^^^^^^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFlowValue\");\n      return beforeContentChunk(code);\n    }\n    effects.consume(code);\n    return contentChunk;\n  }\n\n  /**\n   * After code.\n   *\n   * ```markdown\n   *   | ~~~js\n   *   | alert(1)\n   * > | ~~~\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    effects.exit(\"codeFenced\");\n    return ok(code);\n  }\n\n  /**\n   * @this {TokenizeContext}\n   *   Context.\n   * @type {Tokenizer}\n   */\n  function tokenizeCloseStart(effects, ok, nok) {\n    let size = 0;\n    return startBefore;\n\n    /**\n     *\n     *\n     * @type {State}\n     */\n    function startBefore(code) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return start;\n    }\n\n    /**\n     * Before closing fence, at optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function start(code) {\n      // Always populated by defaults.\n\n      // To do: `enter` here or in next state?\n      effects.enter(\"codeFencedFence\");\n      return markdownSpace(code) ? factorySpace(effects, beforeSequenceClose, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : beforeSequenceClose(code);\n    }\n\n    /**\n     * In closing fence, after optional whitespace, at sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function beforeSequenceClose(code) {\n      if (code === marker) {\n        effects.enter(\"codeFencedFenceSequence\");\n        return sequenceClose(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * In closing fence sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceClose(code) {\n      if (code === marker) {\n        size++;\n        effects.consume(code);\n        return sequenceClose;\n      }\n      if (size >= sizeOpen) {\n        effects.exit(\"codeFencedFenceSequence\");\n        return markdownSpace(code) ? factorySpace(effects, sequenceCloseAfter, \"whitespace\")(code) : sequenceCloseAfter(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * After closing fence sequence, after optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *        ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceCloseAfter(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit(\"codeFencedFence\");\n        return ok(code);\n      }\n      return nok(code);\n    }\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuation(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return lineStart;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function lineStart(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented\n};\n\n/** @type {Construct} */\nconst furtherStart = {\n  partial: true,\n  tokenize: tokenizeFurtherStart\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of code (indented).\n   *\n   * > **Parsing note**: it is not needed to check if this first line is a\n   * > filled line (that it has a non-whitespace character), because blank lines\n   * > are parsed already, so we never run into that.\n   *\n   * ```markdown\n   * > |     aaa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: manually check if interrupting like `markdown-rs`.\n\n    effects.enter(\"codeIndented\");\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, \"linePrefix\", 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4 ? atBreak(code) : nok(code);\n  }\n\n  /**\n   * At a break.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === null) {\n      return after(code);\n    }\n    if (markdownLineEnding(code)) {\n      return effects.attempt(furtherStart, atBreak, after)(code);\n    }\n    effects.enter(\"codeFlowValue\");\n    return inside(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"codeFlowValue\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return inside;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    effects.exit(\"codeIndented\");\n    // To do: allow interrupting like `markdown-rs`.\n    // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeFurtherStart(effects, ok, nok) {\n  const self = this;\n  return furtherStart;\n\n  /**\n   * At eol, trying to parse another indent.\n   *\n   * ```markdown\n   * > |     aaa\n   *            ^\n   *   |     bbb\n   * ```\n   *\n   * @type {State}\n   */\n  function furtherStart(code) {\n    // To do: improve `lazy` / `pierce` handling.\n    // If this is a lazy line, it cant be code.\n    if (self.parser.lazy[self.now().line]) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return furtherStart;\n    }\n\n    // To do: the code here in `micromark-js` is a bit different from\n    // `markdown-rs` because there it can attempt spaces.\n    // We cant yet.\n    //\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, \"linePrefix\", 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4 ? ok(code) : markdownLineEnding(code) ? furtherStart(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Previous,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeText = {\n  name: 'codeText',\n  previous,\n  resolve: resolveCodeText,\n  tokenize: tokenizeCodeText\n};\n\n// To do: next major: dont resolve, like `markdown-rs`.\n/** @type {Resolver} */\nfunction resolveCodeText(events) {\n  let tailExitIndex = events.length - 4;\n  let headEnterIndex = 3;\n  /** @type {number} */\n  let index;\n  /** @type {number | undefined} */\n  let enter;\n\n  // If we start and end with an EOL or a space.\n  if ((events[headEnterIndex][1].type === \"lineEnding\" || events[headEnterIndex][1].type === 'space') && (events[tailExitIndex][1].type === \"lineEnding\" || events[tailExitIndex][1].type === 'space')) {\n    index = headEnterIndex;\n\n    // And we have data.\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === \"codeTextData\") {\n        // Then we have padding.\n        events[headEnterIndex][1].type = \"codeTextPadding\";\n        events[tailExitIndex][1].type = \"codeTextPadding\";\n        headEnterIndex += 2;\n        tailExitIndex -= 2;\n        break;\n      }\n    }\n  }\n\n  // Merge adjacent spaces and data.\n  index = headEnterIndex - 1;\n  tailExitIndex++;\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== \"lineEnding\") {\n        enter = index;\n      }\n    } else if (index === tailExitIndex || events[index][1].type === \"lineEnding\") {\n      events[enter][1].type = \"codeTextData\";\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end;\n        events.splice(enter + 2, index - enter - 2);\n        tailExitIndex -= index - enter - 2;\n        index = enter + 2;\n      }\n      enter = undefined;\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Previous}\n */\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return code !== 96 || this.events[this.events.length - 1][1].type === \"characterEscape\";\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeCodeText(effects, ok, nok) {\n  const self = this;\n  let sizeOpen = 0;\n  /** @type {number} */\n  let size;\n  /** @type {Token} */\n  let token;\n  return start;\n\n  /**\n   * Start of code (text).\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * > | \\`a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"codeText\");\n    effects.enter(\"codeTextSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 96) {\n      effects.consume(code);\n      sizeOpen++;\n      return sequenceOpen;\n    }\n    effects.exit(\"codeTextSequence\");\n    return between(code);\n  }\n\n  /**\n   * Between something and something else.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function between(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code);\n    }\n\n    // To do: next major: dont do spaces in resolve, but when compiling,\n    // like `markdown-rs`.\n    // Tabs dont work, and virtual spaces dont make sense.\n    if (code === 32) {\n      effects.enter('space');\n      effects.consume(code);\n      effects.exit('space');\n      return between;\n    }\n\n    // Closing fence? Could also be data.\n    if (code === 96) {\n      token = effects.enter(\"codeTextSequence\");\n      size = 0;\n      return sequenceClose(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return between;\n    }\n\n    // Data.\n    effects.enter(\"codeTextData\");\n    return data(code);\n  }\n\n  /**\n   * In data.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 32 || code === 96 || markdownLineEnding(code)) {\n      effects.exit(\"codeTextData\");\n      return between(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n\n  /**\n   * In closing sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceClose(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code);\n      size++;\n      return sequenceClose;\n    }\n\n    // Done!\n    if (size === sizeOpen) {\n      effects.exit(\"codeTextSequence\");\n      effects.exit(\"codeText\");\n      return ok(code);\n    }\n\n    // More or less accents: mark as data.\n    token.type = \"codeTextData\";\n    return data(code);\n  }\n}","/**\n * Some of the internal operations of micromark do lots of editing\n * operations on very large arrays. This runs into problems with two\n * properties of most circa-2020 JavaScript interpreters:\n *\n *  - Array-length modifications at the high end of an array (push/pop) are\n *    expected to be common and are implemented in (amortized) time\n *    proportional to the number of elements added or removed, whereas\n *    other operations (shift/unshift and splice) are much less efficient.\n *  - Function arguments are passed on the stack, so adding tens of thousands\n *    of elements to an array with `arr.push(...newElements)` will frequently\n *    cause stack overflows. (see <https://stackoverflow.com/questions/22123769/rangeerror-maximum-call-stack-size-exceeded-why>)\n *\n * SpliceBuffers are an implementation of gap buffers, which are a\n * generalization of the \"queue made of two stacks\" idea. The splice buffer\n * maintains a cursor, and moving the cursor has cost proportional to the\n * distance the cursor moves, but inserting, deleting, or splicing in\n * new information at the cursor is as efficient as the push/pop operation.\n * This allows for an efficient sequence of splices (or pushes, pops, shifts,\n * or unshifts) as long such edits happen at the same part of the array or\n * generally sweep through the array from the beginning to the end.\n *\n * The interface for splice buffers also supports large numbers of inputs by\n * passing a single array argument rather passing multiple arguments on the\n * function call stack.\n *\n * @template T\n *   Item type.\n */\nexport class SpliceBuffer {\n  /**\n   * @param {ReadonlyArray<T> | null | undefined} [initial]\n   *   Initial items (optional).\n   * @returns\n   *   Splice buffer.\n   */\n  constructor(initial) {\n    /** @type {Array<T>} */\n    this.left = initial ? [...initial] : [];\n    /** @type {Array<T>} */\n    this.right = [];\n  }\n\n  /**\n   * Array access;\n   * does not move the cursor.\n   *\n   * @param {number} index\n   *   Index.\n   * @return {T}\n   *   Item.\n   */\n  get(index) {\n    if (index < 0 || index >= this.left.length + this.right.length) {\n      throw new RangeError('Cannot access index `' + index + '` in a splice buffer of size `' + (this.left.length + this.right.length) + '`');\n    }\n    if (index < this.left.length) return this.left[index];\n    return this.right[this.right.length - index + this.left.length - 1];\n  }\n\n  /**\n   * The length of the splice buffer, one greater than the largest index in the\n   * array.\n   */\n  get length() {\n    return this.left.length + this.right.length;\n  }\n\n  /**\n   * Remove and return `list[0]`;\n   * moves the cursor to `0`.\n   *\n   * @returns {T | undefined}\n   *   Item, optional.\n   */\n  shift() {\n    this.setCursor(0);\n    return this.right.pop();\n  }\n\n  /**\n   * Slice the buffer to get an array;\n   * does not move the cursor.\n   *\n   * @param {number} start\n   *   Start.\n   * @param {number | null | undefined} [end]\n   *   End (optional).\n   * @returns {Array<T>}\n   *   Array of items.\n   */\n  slice(start, end) {\n    /** @type {number} */\n    const stop = end === null || end === undefined ? Number.POSITIVE_INFINITY : end;\n    if (stop < this.left.length) {\n      return this.left.slice(start, stop);\n    }\n    if (start > this.left.length) {\n      return this.right.slice(this.right.length - stop + this.left.length, this.right.length - start + this.left.length).reverse();\n    }\n    return this.left.slice(start).concat(this.right.slice(this.right.length - stop + this.left.length).reverse());\n  }\n\n  /**\n   * Mimics the behavior of Array.prototype.splice() except for the change of\n   * interface necessary to avoid segfaults when patching in very large arrays.\n   *\n   * This operation moves cursor is moved to `start` and results in the cursor\n   * placed after any inserted items.\n   *\n   * @param {number} start\n   *   Start;\n   *   zero-based index at which to start changing the array;\n   *   negative numbers count backwards from the end of the array and values\n   *   that are out-of bounds are clamped to the appropriate end of the array.\n   * @param {number | null | undefined} [deleteCount=0]\n   *   Delete count (default: `0`);\n   *   maximum number of elements to delete, starting from start.\n   * @param {Array<T> | null | undefined} [items=[]]\n   *   Items to include in place of the deleted items (default: `[]`).\n   * @return {Array<T>}\n   *   Any removed items.\n   */\n  splice(start, deleteCount, items) {\n    /** @type {number} */\n    const count = deleteCount || 0;\n    this.setCursor(Math.trunc(start));\n    const removed = this.right.splice(this.right.length - count, Number.POSITIVE_INFINITY);\n    if (items) chunkedPush(this.left, items);\n    return removed.reverse();\n  }\n\n  /**\n   * Remove and return the highest-numbered item in the array, so\n   * `list[list.length - 1]`;\n   * Moves the cursor to `length`.\n   *\n   * @returns {T | undefined}\n   *   Item, optional.\n   */\n  pop() {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    return this.left.pop();\n  }\n\n  /**\n   * Inserts a single item to the high-numbered side of the array;\n   * moves the cursor to `length`.\n   *\n   * @param {T} item\n   *   Item.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  push(item) {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    this.left.push(item);\n  }\n\n  /**\n   * Inserts many items to the high-numbered side of the array.\n   * Moves the cursor to `length`.\n   *\n   * @param {Array<T>} items\n   *   Items.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  pushMany(items) {\n    this.setCursor(Number.POSITIVE_INFINITY);\n    chunkedPush(this.left, items);\n  }\n\n  /**\n   * Inserts a single item to the low-numbered side of the array;\n   * Moves the cursor to `0`.\n   *\n   * @param {T} item\n   *   Item.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  unshift(item) {\n    this.setCursor(0);\n    this.right.push(item);\n  }\n\n  /**\n   * Inserts many items to the low-numbered side of the array;\n   * moves the cursor to `0`.\n   *\n   * @param {Array<T>} items\n   *   Items.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  unshiftMany(items) {\n    this.setCursor(0);\n    chunkedPush(this.right, items.reverse());\n  }\n\n  /**\n   * Move the cursor to a specific position in the array. Requires\n   * time proportional to the distance moved.\n   *\n   * If `n < 0`, the cursor will end up at the beginning.\n   * If `n > length`, the cursor will end up at the end.\n   *\n   * @param {number} n\n   *   Position.\n   * @return {undefined}\n   *   Nothing.\n   */\n  setCursor(n) {\n    if (n === this.left.length || n > this.left.length && this.right.length === 0 || n < 0 && this.left.length === 0) return;\n    if (n < this.left.length) {\n      // Move cursor to the this.left\n      const removed = this.left.splice(n, Number.POSITIVE_INFINITY);\n      chunkedPush(this.right, removed.reverse());\n    } else {\n      // Move cursor to the this.right\n      const removed = this.right.splice(this.left.length + this.right.length - n, Number.POSITIVE_INFINITY);\n      chunkedPush(this.left, removed.reverse());\n    }\n  }\n}\n\n/**\n * Avoid stack overflow by pushing items onto the stack in segments\n *\n * @template T\n *   Item type.\n * @param {Array<T>} list\n *   List to inject into.\n * @param {ReadonlyArray<T>} right\n *   Items to inject.\n * @return {undefined}\n *   Nothing.\n */\nfunction chunkedPush(list, right) {\n  /** @type {number} */\n  let chunkStart = 0;\n  if (right.length < 10000) {\n    list.push(...right);\n  } else {\n    while (chunkStart < right.length) {\n      list.push(...right.slice(chunkStart, chunkStart + 10000));\n      chunkStart += 10000;\n    }\n  }\n}","/**\n * @import {Chunk, Event, Token} from 'micromark-util-types'\n */\n\nimport { splice } from 'micromark-util-chunked';\nimport { SpliceBuffer } from './lib/splice-buffer.js';\n\n// Hidden API exposed for testing.\nexport { SpliceBuffer } from './lib/splice-buffer.js';\n\n/**\n * Tokenize subcontent.\n *\n * @param {Array<Event>} eventsArray\n *   List of events.\n * @returns {boolean}\n *   Whether subtokens were found.\n */\n// eslint-disable-next-line complexity\nexport function subtokenize(eventsArray) {\n  /** @type {Record<string, number>} */\n  const jumps = {};\n  let index = -1;\n  /** @type {Event} */\n  let event;\n  /** @type {number | undefined} */\n  let lineIndex;\n  /** @type {number} */\n  let otherIndex;\n  /** @type {Event} */\n  let otherEvent;\n  /** @type {Array<Event>} */\n  let parameters;\n  /** @type {Array<Event>} */\n  let subevents;\n  /** @type {boolean | undefined} */\n  let more;\n  const events = new SpliceBuffer(eventsArray);\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index];\n    }\n    event = events.get(index);\n\n    // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n    if (index && event[1].type === \"chunkFlow\" && events.get(index - 1)[1].type === \"listItemPrefix\") {\n      subevents = event[1]._tokenizer.events;\n      otherIndex = 0;\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === \"lineEndingBlank\") {\n        otherIndex += 2;\n      }\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === \"content\") {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === \"content\") {\n            break;\n          }\n          if (subevents[otherIndex][1].type === \"chunkText\") {\n            subevents[otherIndex][1]._isInFirstContentOfListItem = true;\n            otherIndex++;\n          }\n        }\n      }\n    }\n\n    // Enter.\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        Object.assign(jumps, subcontent(events, index));\n        index = jumps[index];\n        more = true;\n      }\n    }\n    // Exit.\n    else if (event[1]._container) {\n      otherIndex = index;\n      lineIndex = undefined;\n      while (otherIndex--) {\n        otherEvent = events.get(otherIndex);\n        if (otherEvent[1].type === \"lineEnding\" || otherEvent[1].type === \"lineEndingBlank\") {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events.get(lineIndex)[1].type = \"lineEndingBlank\";\n            }\n            otherEvent[1].type = \"lineEnding\";\n            lineIndex = otherIndex;\n          }\n        } else {\n          break;\n        }\n      }\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = {\n          ...events.get(lineIndex)[1].start\n        };\n\n        // Switch container exit w/ line endings.\n        parameters = events.slice(lineIndex, index);\n        parameters.unshift(event);\n        events.splice(lineIndex, index - lineIndex + 1, parameters);\n      }\n    }\n  }\n\n  // The changes to the `events` buffer must be copied back into the eventsArray\n  splice(eventsArray, 0, Number.POSITIVE_INFINITY, events.slice(0));\n  return !more;\n}\n\n/**\n * Tokenize embedded tokens.\n *\n * @param {SpliceBuffer<Event>} events\n *   Events.\n * @param {number} eventIndex\n *   Index.\n * @returns {Record<string, number>}\n *   Gaps.\n */\nfunction subcontent(events, eventIndex) {\n  const token = events.get(eventIndex)[1];\n  const context = events.get(eventIndex)[2];\n  let startPosition = eventIndex - 1;\n  /** @type {Array<number>} */\n  const startPositions = [];\n  const tokenizer = token._tokenizer || context.parser[token.contentType](token.start);\n  const childEvents = tokenizer.events;\n  /** @type {Array<[number, number]>} */\n  const jumps = [];\n  /** @type {Record<string, number>} */\n  const gaps = {};\n  /** @type {Array<Chunk>} */\n  let stream;\n  /** @type {Token | undefined} */\n  let previous;\n  let index = -1;\n  /** @type {Token | undefined} */\n  let current = token;\n  let adjust = 0;\n  let start = 0;\n  const breaks = [start];\n\n  // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n  while (current) {\n    // Find the position of the event for this token.\n    while (events.get(++startPosition)[1] !== current) {\n      // Empty.\n    }\n    startPositions.push(startPosition);\n    if (!current._tokenizer) {\n      stream = context.sliceStream(current);\n      if (!current.next) {\n        stream.push(null);\n      }\n      if (previous) {\n        tokenizer.defineSkip(current.start);\n      }\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true;\n      }\n      tokenizer.write(stream);\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined;\n      }\n    }\n\n    // Unravel the next token.\n    previous = current;\n    current = current.next;\n  }\n\n  // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n  current = token;\n  while (++index < childEvents.length) {\n    if (\n    // Find a void token that includes a break.\n    childEvents[index][0] === 'exit' && childEvents[index - 1][0] === 'enter' && childEvents[index][1].type === childEvents[index - 1][1].type && childEvents[index][1].start.line !== childEvents[index][1].end.line) {\n      start = index + 1;\n      breaks.push(start);\n      // Help GC.\n      current._tokenizer = undefined;\n      current.previous = undefined;\n      current = current.next;\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = [];\n\n  // If theres one more token (which is the cases for lines that end in an\n  // EOF), thats perfect: the last point we found starts it.\n  // If there isnt then make sure any remaining content is added to it.\n  if (current) {\n    // Help GC.\n    current._tokenizer = undefined;\n    current.previous = undefined;\n  } else {\n    breaks.pop();\n  }\n\n  // Now splice the events from the subtokenizer into the current events,\n  // moving back to front so that splice indices arent affected.\n  index = breaks.length;\n  while (index--) {\n    const slice = childEvents.slice(breaks[index], breaks[index + 1]);\n    const start = startPositions.pop();\n    jumps.push([start, start + slice.length - 1]);\n    events.splice(start, 2, slice);\n  }\n  jumps.reverse();\n  index = -1;\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1];\n    adjust += jumps[index][1] - jumps[index][0] - 1;\n  }\n  return gaps;\n}","/**\n * @import {\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { subtokenize } from 'micromark-util-subtokenize';\n/**\n * No name because it must not be turned off.\n * @type {Construct}\n */\nexport const content = {\n  resolve: resolveContent,\n  tokenize: tokenizeContent\n};\n\n/** @type {Construct} */\nconst continuationConstruct = {\n  partial: true,\n  tokenize: tokenizeContinuation\n};\n\n/**\n * Content is transparent: its parsed right now. That way, definitions are also\n * parsed right now: before text in paragraphs (specifically, media) are parsed.\n *\n * @type {Resolver}\n */\nfunction resolveContent(events) {\n  subtokenize(events);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeContent(effects, ok) {\n  /** @type {Token | undefined} */\n  let previous;\n  return chunkStart;\n\n  /**\n   * Before a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkStart(code) {\n    effects.enter(\"content\");\n    previous = effects.enter(\"chunkContent\", {\n      contentType: \"content\"\n    });\n    return chunkInside(code);\n  }\n\n  /**\n   * In a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkInside(code) {\n    if (code === null) {\n      return contentEnd(code);\n    }\n\n    // To do: in `markdown-rs`, each line is parsed on its own, and everything\n    // is stitched together resolving.\n    if (markdownLineEnding(code)) {\n      return effects.check(continuationConstruct, contentContinue, contentEnd)(code);\n    }\n\n    // Data.\n    effects.consume(code);\n    return chunkInside;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentEnd(code) {\n    effects.exit(\"chunkContent\");\n    effects.exit(\"content\");\n    return ok(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentContinue(code) {\n    effects.consume(code);\n    effects.exit(\"chunkContent\");\n    previous.next = effects.enter(\"chunkContent\", {\n      contentType: \"content\",\n      previous\n    });\n    previous = previous.next;\n    return chunkInside;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeContinuation(effects, ok, nok) {\n  const self = this;\n  return startLookahead;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function startLookahead(code) {\n    effects.exit(\"chunkContent\");\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, prefixed, \"linePrefix\");\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n\n    // Always populated by defaults.\n\n    const tail = self.events[self.events.length - 1];\n    if (!self.parser.constructs.disable.null.includes('codeIndented') && tail && tail[1].type === \"linePrefix\" && tail[2].sliceSerialize(tail[1], true).length >= 4) {\n      return ok(code);\n    }\n    return effects.interrupt(self.parser.constructs.flow, nok, ok)(code);\n  }\n}","/**\n * @import {Effects, State, TokenType} from 'micromark-util-types'\n */\n\nimport { asciiControl, markdownLineEndingOrSpace, markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse destinations.\n *\n * ###### Examples\n *\n * ```markdown\n * <a>\n * <a\\>b>\n * <a b>\n * <a)>\n * a\n * a\\)b\n * a(b)c\n * a(b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type for whole (`<a>` or `b`).\n * @param {TokenType} literalType\n *   Type when enclosed (`<a>`).\n * @param {TokenType} literalMarkerType\n *   Type for enclosing (`<` and `>`).\n * @param {TokenType} rawType\n *   Type when not enclosed (`b`).\n * @param {TokenType} stringType\n *   Type for the value (`a` or `b`).\n * @param {number | undefined} [max=Infinity]\n *   Depth of nested parens (inclusive).\n * @returns {State}\n *   Start state.\n */\nexport function factoryDestination(effects, ok, nok, type, literalType, literalMarkerType, rawType, stringType, max) {\n  const limit = max || Number.POSITIVE_INFINITY;\n  let balance = 0;\n  return start;\n\n  /**\n   * Start of destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *     ^\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type);\n      effects.enter(literalType);\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      return enclosedBefore;\n    }\n\n    // ASCII control, space, closing paren.\n    if (code === null || code === 32 || code === 41 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.enter(type);\n    effects.enter(rawType);\n    effects.enter(stringType);\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return raw(code);\n  }\n\n  /**\n   * After `<`, at an enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      effects.exit(literalType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return enclosed(code);\n  }\n\n  /**\n   * In enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosed(code) {\n    if (code === 62) {\n      effects.exit(\"chunkString\");\n      effects.exit(stringType);\n      return enclosedBefore(code);\n    }\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? enclosedEscape : enclosed;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | <a\\*a>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code);\n      return enclosed;\n    }\n    return enclosed(code);\n  }\n\n  /**\n   * In raw destination.\n   *\n   * ```markdown\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function raw(code) {\n    if (!balance && (code === null || code === 41 || markdownLineEndingOrSpace(code))) {\n      effects.exit(\"chunkString\");\n      effects.exit(stringType);\n      effects.exit(rawType);\n      effects.exit(type);\n      return ok(code);\n    }\n    if (balance < limit && code === 40) {\n      effects.consume(code);\n      balance++;\n      return raw;\n    }\n    if (code === 41) {\n      effects.consume(code);\n      balance--;\n      return raw;\n    }\n\n    // ASCII control (but *not* `\\0`) and space and `(`.\n    // Note: in `markdown-rs`, `\\0` exists in codes, in `micromark-js` it\n    // doesnt.\n    if (code === null || code === 32 || code === 40 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? rawEscape : raw;\n  }\n\n  /**\n   * After `\\`, at special character.\n   *\n   * ```markdown\n   * > | a\\*a\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function rawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code);\n      return raw;\n    }\n    return raw(code);\n  }\n}","/**\n * @import {\n *   Effects,\n *   State,\n *   TokenizeContext,\n *   TokenType\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse labels.\n *\n * >  **Note**: labels in markdown are capped at 999 characters in the string.\n *\n * ###### Examples\n *\n * ```markdown\n * [a]\n * [a\n * b]\n * [a\\]b]\n * ```\n *\n * @this {TokenizeContext}\n *   Tokenize context.\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole label (`[a]`).\n * @param {TokenType} markerType\n *   Type for the markers (`[` and `]`).\n * @param {TokenType} stringType\n *   Type for the identifier (`a`).\n * @returns {State}\n *   Start state.\n */\nexport function factoryLabel(effects, ok, nok, type, markerType, stringType) {\n  const self = this;\n  let size = 0;\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /**\n   * Start of label.\n   *\n   * ```markdown\n   * > | [a]\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(type);\n    effects.enter(markerType);\n    effects.consume(code);\n    effects.exit(markerType);\n    effects.enter(stringType);\n    return atBreak;\n  }\n\n  /**\n   * In label, at something, before something else.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (size > 999 || code === null || code === 91 || code === 93 && !seen ||\n    // To do: remove in the future once weve switched from\n    // `micromark-extension-footnote` to `micromark-extension-gfm-footnote`,\n    // which doesnt need this.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    code === 94 && !size && '_hiddenFootnoteSupport' in self.parser.constructs) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.exit(stringType);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n\n    // To do: indent? Link chunks and EOLs together?\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return atBreak;\n    }\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return labelInside(code);\n  }\n\n  /**\n   * In label, in text.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelInside(code) {\n    if (code === null || code === 91 || code === 93 || markdownLineEnding(code) || size++ > 999) {\n      effects.exit(\"chunkString\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    if (!seen) seen = !markdownSpace(code);\n    return code === 92 ? labelEscape : labelInside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | [a\\*a]\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return labelInside;\n    }\n    return labelInside(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Effects,\n *   State,\n *   TokenType\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse titles.\n *\n * ###### Examples\n *\n * ```markdown\n * \"a\"\n * 'b'\n * (c)\n * \"a\n * b\"\n * 'a\n *     b'\n * (a\\)b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole title (`\"a\"`, `'b'`, `(c)`).\n * @param {TokenType} markerType\n *   Type for the markers (`\"`, `'`, `(`, and `)`).\n * @param {TokenType} stringType\n *   Type for the value (`a`).\n * @returns {State}\n *   Start state.\n */\nexport function factoryTitle(effects, ok, nok, type, markerType, stringType) {\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of title.\n   *\n   * ```markdown\n   * > | \"a\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      effects.enter(type);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      marker = code === 40 ? 41 : code;\n      return begin;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After opening marker.\n   *\n   * This is also used at the closing marker.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function begin(code) {\n    if (code === marker) {\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    return atBreak(code);\n  }\n\n  /**\n   * At something, before something else.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType);\n      return begin(marker);\n    }\n    if (code === null) {\n      return nok(code);\n    }\n\n    // Note: blank lines cant exist in content.\n    if (markdownLineEnding(code)) {\n      // To do: use `space_or_tab_eol_with_options`, connect.\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return factorySpace(effects, atBreak, \"linePrefix\");\n    }\n    effects.enter(\"chunkString\", {\n      contentType: \"string\"\n    });\n    return inside(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit(\"chunkString\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return code === 92 ? escape : inside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | \"a\\*b\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function escape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code);\n      return inside;\n    }\n    return inside(code);\n  }\n}","/**\n * @import {Effects, State} from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   line endings or spaces in markdown are often optional, in which case this\n *     factory can be used and `ok` will be switched to whether spaces were found\n *     or not\n * *   one line ending or space can be detected with\n *     `markdownLineEndingOrSpace(code)` right before using `factoryWhitespace`\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @returns {State}\n *   Start state.\n */\nexport function factoryWhitespace(effects, ok) {\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      seen = true;\n      return start;\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, start, seen ? \"linePrefix\" : \"lineSuffix\")(code);\n    }\n    return ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factorySpace } from 'micromark-factory-space';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\n/** @type {Construct} */\nexport const definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n};\n\n/** @type {Construct} */\nconst titleBefore = {\n  partial: true,\n  tokenize: tokenizeTitleBefore\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeDefinition(effects, ok, nok) {\n  const self = this;\n  /** @type {string} */\n  let identifier;\n  return start;\n\n  /**\n   * At start of a definition.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // Do not interrupt paragraphs (but do follow definitions).\n    // To do: do `interrupt` the way `markdown-rs` does.\n    // To do: parse whitespace the way `markdown-rs` does.\n    effects.enter(\"definition\");\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `[`.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    // To do: parse whitespace the way `markdown-rs` does.\n\n    return factoryLabel.call(self, effects, labelAfter,\n    // Note: we dont need to reset the way `markdown-rs` does.\n    nok, \"definitionLabel\", \"definitionLabelMarker\", \"definitionLabelString\")(code);\n  }\n\n  /**\n   * After label.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1));\n    if (code === 58) {\n      effects.enter(\"definitionMarker\");\n      effects.consume(code);\n      effects.exit(\"definitionMarker\");\n      return markerAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After marker.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function markerAfter(code) {\n    // Note: whitespace is optional.\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, destinationBefore)(code) : destinationBefore(code);\n  }\n\n  /**\n   * Before destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationBefore(code) {\n    return factoryDestination(effects, destinationAfter,\n    // Note: we dont need to reset the way `markdown-rs` does.\n    nok, \"definitionDestination\", \"definitionDestinationLiteral\", \"definitionDestinationLiteralMarker\", \"definitionDestinationRaw\", \"definitionDestinationString\")(code);\n  }\n\n  /**\n   * After destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationAfter(code) {\n    return effects.attempt(titleBefore, after, after)(code);\n  }\n\n  /**\n   * After definition.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return markdownSpace(code) ? factorySpace(effects, afterWhitespace, \"whitespace\")(code) : afterWhitespace(code);\n  }\n\n  /**\n   * After definition, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterWhitespace(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"definition\");\n\n      // Note: we dont care about uniqueness.\n      // Its likely that that doesnt happen very frequently.\n      // It is more likely that it wastes precious time.\n      self.parser.defined.push(identifier);\n\n      // To do: `markdown-rs` interrupt.\n      // // Youd be interrupting.\n      // tokenizer.interrupt = true\n      return ok(code);\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeTitleBefore(effects, ok, nok) {\n  return titleBefore;\n\n  /**\n   * After destination, at whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, beforeMarker)(code) : nok(code);\n  }\n\n  /**\n   * At title.\n   *\n   * ```markdown\n   *   | [a]: b\n   * > | \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeMarker(code) {\n    return factoryTitle(effects, titleAfter, nok, \"definitionTitle\", \"definitionTitleMarker\", \"definitionTitleString\")(code);\n  }\n\n  /**\n   * After title.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfter(code) {\n    return markdownSpace(code) ? factorySpace(effects, titleAfterOptionalWhitespace, \"whitespace\")(code) : titleAfterOptionalWhitespace(code);\n  }\n\n  /**\n   * After title, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfterOptionalWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of a hard break (escape).\n   *\n   * ```markdown\n   * > | a\\\n   *      ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"hardBreakEscape\");\n    effects.consume(code);\n    return after;\n  }\n\n  /**\n   * After `\\`, at eol.\n   *\n   * ```markdown\n   * > | a\\\n   *       ^\n   *   | b\n   * ```\n   *\n   *  @type {State}\n   */\n  function after(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit(\"hardBreakEscape\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {Construct} */\nexport const headingAtx = {\n  name: 'headingAtx',\n  resolve: resolveHeadingAtx,\n  tokenize: tokenizeHeadingAtx\n};\n\n/** @type {Resolver} */\nfunction resolveHeadingAtx(events, context) {\n  let contentEnd = events.length - 2;\n  let contentStart = 3;\n  /** @type {Token} */\n  let content;\n  /** @type {Token} */\n  let text;\n\n  // Prefix whitespace, part of the opening.\n  if (events[contentStart][1].type === \"whitespace\") {\n    contentStart += 2;\n  }\n\n  // Suffix whitespace, part of the closing.\n  if (contentEnd - 2 > contentStart && events[contentEnd][1].type === \"whitespace\") {\n    contentEnd -= 2;\n  }\n  if (events[contentEnd][1].type === \"atxHeadingSequence\" && (contentStart === contentEnd - 1 || contentEnd - 4 > contentStart && events[contentEnd - 2][1].type === \"whitespace\")) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4;\n  }\n  if (contentEnd > contentStart) {\n    content = {\n      type: \"atxHeadingText\",\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    };\n    text = {\n      type: \"chunkText\",\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: \"text\"\n    };\n    splice(events, contentStart, contentEnd - contentStart + 1, [['enter', content, context], ['enter', text, context], ['exit', text, context], ['exit', content, context]]);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of a heading (atx).\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    effects.enter(\"atxHeading\");\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `#`.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"atxHeadingSequence\");\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code);\n      return sequenceOpen;\n    }\n\n    // Always at least one `#`.\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"atxHeadingSequence\");\n      return atBreak(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ## aa\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === 35) {\n      effects.enter(\"atxHeadingSequence\");\n      return sequenceFurther(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"atxHeading\");\n      // To do: interrupt like `markdown-rs`.\n      // // Feel free to interrupt.\n      // tokenizer.interrupt = false\n      return ok(code);\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, \"whitespace\")(code);\n    }\n\n    // To do: generate `data` tokens, add the `text` token later.\n    // Needs edit map, see: `markdown.rs`.\n    effects.enter(\"atxHeadingText\");\n    return data(code);\n  }\n\n  /**\n   * In further sequence (after whitespace).\n   *\n   * Could be normal visible hashes in the heading or a final sequence.\n   *\n   * ```markdown\n   * > | ## aa ##\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceFurther(code) {\n    if (code === 35) {\n      effects.consume(code);\n      return sequenceFurther;\n    }\n    effects.exit(\"atxHeadingSequence\");\n    return atBreak(code);\n  }\n\n  /**\n   * In text.\n   *\n   * ```markdown\n   * > | ## aa\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit(\"atxHeadingText\");\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * List of lowercase HTML block tag names.\n *\n * The list, when parsing HTML (flow), results in more relaxed rules (condition\n * 6).\n * Because they are known blocks, the HTML-like syntax doesnt have to be\n * strictly parsed.\n * For tag names not in this list, a more strict algorithm (condition 7) is used\n * to detect whether the HTML-like syntax is seen as HTML (flow) or not.\n *\n * This is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * >  **Note**: `search` was added in `CommonMark@0.31`.\n */\nexport const htmlBlockNames = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'search',\n  'section',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\n/**\n * List of lowercase HTML raw tag names.\n *\n * The list, when parsing HTML (flow), results in HTML that can include lines\n * without exiting, until a closing tag also in this list is found (condition\n * 1).\n *\n * This module is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * >  **Note**: `textarea` was added in `CommonMark@0.30`.\n */\nexport const htmlRawNames = ['pre', 'script', 'style', 'textarea']\n","/**\n * @import {\n *   Code,\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { asciiAlphanumeric, asciiAlpha, markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\nimport { htmlBlockNames, htmlRawNames } from 'micromark-util-html-tag-name';\nimport { blankLine } from './blank-line.js';\n\n/** @type {Construct} */\nexport const htmlFlow = {\n  concrete: true,\n  name: 'htmlFlow',\n  resolveTo: resolveToHtmlFlow,\n  tokenize: tokenizeHtmlFlow\n};\n\n/** @type {Construct} */\nconst blankLineBefore = {\n  partial: true,\n  tokenize: tokenizeBlankLineBefore\n};\nconst nonLazyContinuationStart = {\n  partial: true,\n  tokenize: tokenizeNonLazyContinuationStart\n};\n\n/** @type {Resolver} */\nfunction resolveToHtmlFlow(events) {\n  let index = events.length;\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === \"htmlFlow\") {\n      break;\n    }\n  }\n  if (index > 1 && events[index - 2][1].type === \"linePrefix\") {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start;\n    // Add the prefix start to the HTML line token.\n    events[index + 1][1].start = events[index - 2][1].start;\n    // Remove the line prefix.\n    events.splice(index - 2, 2);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  const self = this;\n  /** @type {number} */\n  let marker;\n  /** @type {boolean} */\n  let closingTag;\n  /** @type {string} */\n  let buffer;\n  /** @type {number} */\n  let index;\n  /** @type {Code} */\n  let markerB;\n  return start;\n\n  /**\n   * Start of HTML (flow).\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * At `<`, after optional whitespace.\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"htmlFlow\");\n    effects.enter(\"htmlFlowData\");\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | <x />\n   *      ^\n   * > | <!doctype>\n   *      ^\n   * > | <!--xxx-->\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      closingTag = true;\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      marker = 3;\n      // To do:\n      // tokenizer.concrete = true\n      // To do: use `markdown-rs` style interrupt.\n      // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      // Always the case.\n      effects.consume(code);\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *       ^\n   * > | <!--xxx-->\n   *       ^\n   * > | <![CDATA[>&<]]>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      marker = 2;\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      marker = 5;\n      index = 0;\n      return cdataOpenInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      marker = 4;\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!-`, inside a comment, at another `-`.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<![`, inside CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *        ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = \"CDATA[\";\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      if (index === value.length) {\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok : continuation;\n      }\n      return cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | </x>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      // Always the case.\n      effects.consume(code);\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In tag name.\n   *\n   * ```markdown\n   * > | <ab>\n   *      ^^\n   * > | </ab>\n   *       ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagName(code) {\n    if (code === null || code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      const slash = code === 47;\n      const name = buffer.toLowerCase();\n      if (!slash && !closingTag && htmlRawNames.includes(name)) {\n        marker = 1;\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      if (htmlBlockNames.includes(buffer.toLowerCase())) {\n        marker = 6;\n        if (slash) {\n          effects.consume(code);\n          return basicSelfClosing;\n        }\n\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      marker = 7;\n      // Do not support complete HTML when interrupting.\n      return self.interrupt && !self.parser.lazy[self.now().line] ? nok(code) : closingTag ? completeClosingTagAfter(code) : completeAttributeNameBefore(code);\n    }\n\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      buffer += String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a basic tag name.\n   *\n   * ```markdown\n   * > | <div/>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuation;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a complete tag name.\n   *\n   * ```markdown\n   * > | <x/>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeClosingTagAfter;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * At an attribute name.\n   *\n   * At first, this state is used after a complete tag name, after whitespace,\n   * where it expects optional attributes or the end of the tag.\n   * It is also reused after attributes, when expecting more optional\n   * attributes.\n   *\n   * ```markdown\n   * > | <a />\n   *        ^\n   * > | <a :b>\n   *        ^\n   * > | <a _b>\n   *        ^\n   * > | <a b>\n   *        ^\n   * > | <a >\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return completeEnd;\n    }\n\n    // ASCII alphanumerical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameBefore;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | <a :b>\n   *         ^\n   * > | <a _b>\n   *         ^\n   * > | <a b>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeName(code) {\n    // ASCII alphanumerical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    return completeAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, at an optional initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b>\n   *         ^\n   * > | <a b=c>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameAfter;\n    }\n    return completeAttributeNameBefore(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * > | <a b=\"c\">\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      markerB = code;\n      return completeAttributeValueQuoted;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    return completeAttributeValueUnquoted(code);\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *           ^\n   * > | <a b='c'>\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuoted(code) {\n    if (code === markerB) {\n      effects.consume(code);\n      markerB = null;\n      return completeAttributeValueQuotedAfter;\n    }\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 47 || code === 60 || code === 61 || code === 62 || code === 96 || markdownLineEndingOrSpace(code)) {\n      return completeAttributeNameAfter(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the\n   * end of the tag.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a complete tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>` in a complete tag.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return continuation(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In continuation of any HTML kind.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuation(code) {\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationCommentInside;\n    }\n    if (code === 60 && marker === 1) {\n      effects.consume(code);\n      return continuationRawTagOpen;\n    }\n    if (code === 62 && marker === 4) {\n      effects.consume(code);\n      return continuationClose;\n    }\n    if (code === 63 && marker === 3) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    if (code === 93 && marker === 5) {\n      effects.consume(code);\n      return continuationCdataInside;\n    }\n    if (markdownLineEnding(code) && (marker === 6 || marker === 7)) {\n      effects.exit(\"htmlFlowData\");\n      return effects.check(blankLineBefore, continuationAfter, continuationStart)(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"htmlFlowData\");\n      return continuationStart(code);\n    }\n    effects.consume(code);\n    return continuation;\n  }\n\n  /**\n   * In continuation, at eol.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStart(code) {\n    return effects.check(nonLazyContinuationStart, continuationStartNonLazy, continuationAfter)(code);\n  }\n\n  /**\n   * In continuation, at eol, before non-lazy content.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStartNonLazy(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return continuationBefore;\n  }\n\n  /**\n   * In continuation, before non-lazy content.\n   *\n   * ```markdown\n   *   | <x>\n   * > | asd\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return continuationStart(code);\n    }\n    effects.enter(\"htmlFlowData\");\n    return continuation(code);\n  }\n\n  /**\n   * In comment continuation, after one `-`, expecting another.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `<`, at `/`.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code);\n      buffer = '';\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `</`, in a raw tag name.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                             ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawEndTag(code) {\n    if (code === 62) {\n      const name = buffer.toLowerCase();\n      if (htmlRawNames.includes(name)) {\n        effects.consume(code);\n        return continuationClose;\n      }\n      return continuation(code);\n    }\n    if (asciiAlpha(code) && buffer.length < 8) {\n      // Always the case.\n      effects.consume(code);\n      buffer += String.fromCharCode(code);\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In cdata continuation, after `]`, expecting `]>`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *                  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCdataInside(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In declaration or instruction continuation, at `>`.\n   *\n   * ```markdown\n   * > | <!-->\n   *         ^\n   * > | <?>\n   *       ^\n   * > | <!q>\n   *        ^\n   * > | <!--ab-->\n   *             ^\n   * > | <![CDATA[>&<]]>\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return continuationClose;\n    }\n\n    // More dashes.\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In closed continuation: everything we get until the eol/eof is part of it.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"htmlFlowData\");\n      return continuationAfter(code);\n    }\n    effects.consume(code);\n    return continuationClose;\n  }\n\n  /**\n   * Done.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationAfter(code) {\n    effects.exit(\"htmlFlow\");\n    // // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    // // No longer concrete.\n    // tokenizer.concrete = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuationStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * At eol, before continuation.\n   *\n   * ```markdown\n   * > | * ```js\n   *            ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter(\"lineEnding\");\n      effects.consume(code);\n      effects.exit(\"lineEnding\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * A continuation.\n   *\n   * ```markdown\n   *   | * ```js\n   * > | b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLineBefore(effects, ok, nok) {\n  return start;\n\n  /**\n   * Before eol, expecting blank line.\n   *\n   * ```markdown\n   * > | <div>\n   *          ^\n   *   |\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return effects.attempt(blankLine, ok, nok);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiAlphanumeric, asciiAlpha, markdownLineEndingOrSpace, markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlText(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code> | undefined} */\n  let marker;\n  /** @type {number} */\n  let index;\n  /** @type {State} */\n  let returnState;\n  return start;\n\n  /**\n   * Start of HTML (text).\n   *\n   * ```markdown\n   * > | a <b> c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"htmlText\");\n    effects.enter(\"htmlTextData\");\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | a <b> c\n   *        ^\n   * > | a <!doctype> c\n   *        ^\n   * > | a <!--b--> c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instruction;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | a <!doctype> c\n   *         ^\n   * > | a <!--b--> c\n   *         ^\n   * > | a <![CDATA[>&<]]> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      index = 0;\n      return cdataOpenInside;\n    }\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return declaration;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In a comment, after `<!-`, at another `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In comment.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function comment(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 45) {\n      effects.consume(code);\n      return commentClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = comment;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return comment;\n  }\n\n  /**\n   * In comment, after `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return comment(code);\n  }\n\n  /**\n   * In comment, after `--`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentEnd(code) {\n    return code === 62 ? end(code) : code === 45 ? commentClose(code) : comment(code);\n  }\n\n  /**\n   * After `<![`, in CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *          ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = \"CDATA[\";\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      return index === value.length ? cdata : cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In CDATA.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdata(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = cdata;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return cdata;\n  }\n\n  /**\n   * In CDATA, after `]`, at another `]`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In CDATA, after `]]`, at `>`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In declaration.\n   *\n   * ```markdown\n   * > | a <!b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = declaration;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return declaration;\n  }\n\n  /**\n   * In instruction.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instruction(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instructionClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = instruction;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return instruction;\n  }\n\n  /**\n   * In instruction, after `?`, at `>`.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</x`, in a tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagClose(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return tagCloseBetween(code);\n  }\n\n  /**\n   * In closing tag, after tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagCloseBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * After `<x`, in opening tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpen(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In opening tag, after tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return end;\n    }\n\n    // ASCII alphabetical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeName(code) {\n    // ASCII alphabetical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    return tagOpenAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, before initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeNameAfter;\n    }\n    return tagOpenBetween(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      marker = code;\n      return tagOpenAttributeValueQuoted;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code);\n      marker = undefined;\n      return tagOpenAttributeValueQuotedAfter;\n    }\n    if (code === null) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 60 || code === 61 || code === 96) {\n      return nok(code);\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the end\n   * of the tag.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code);\n      effects.exit(\"htmlTextData\");\n      effects.exit(\"htmlText\");\n      return ok;\n    }\n    return nok(code);\n  }\n\n  /**\n   * At eol.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   * > | a <!--a\n   *            ^\n   *   | b-->\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingBefore(code) {\n    effects.exit(\"htmlTextData\");\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return lineEndingAfter;\n  }\n\n  /**\n   * After eol, at optional whitespace.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfter(code) {\n    // Always populated by defaults.\n\n    return markdownSpace(code) ? factorySpace(effects, lineEndingAfterPrefix, \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : lineEndingAfterPrefix(code);\n  }\n\n  /**\n   * After eol, after optional whitespace.\n   *\n   * >  **Note**: we cant have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfterPrefix(code) {\n    effects.enter(\"htmlTextData\");\n    return returnState(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   Event,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer,\n *   Token\n * } from 'micromark-util-types'\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEndingOrSpace } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const labelEnd = {\n  name: 'labelEnd',\n  resolveAll: resolveAllLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  tokenize: tokenizeLabelEnd\n};\n\n/** @type {Construct} */\nconst resourceConstruct = {\n  tokenize: tokenizeResource\n};\n/** @type {Construct} */\nconst referenceFullConstruct = {\n  tokenize: tokenizeReferenceFull\n};\n/** @type {Construct} */\nconst referenceCollapsedConstruct = {\n  tokenize: tokenizeReferenceCollapsed\n};\n\n/** @type {Resolver} */\nfunction resolveAllLabelEnd(events) {\n  let index = -1;\n  /** @type {Array<Event>} */\n  const newEvents = [];\n  while (++index < events.length) {\n    const token = events[index][1];\n    newEvents.push(events[index]);\n    if (token.type === \"labelImage\" || token.type === \"labelLink\" || token.type === \"labelEnd\") {\n      // Remove the marker.\n      const offset = token.type === \"labelImage\" ? 4 : 2;\n      token.type = \"data\";\n      index += offset;\n    }\n  }\n\n  // If the events are equal, we don't have to copy newEvents to events\n  if (events.length !== newEvents.length) {\n    splice(events, 0, events.length, newEvents);\n  }\n  return events;\n}\n\n/** @type {Resolver} */\nfunction resolveToLabelEnd(events, context) {\n  let index = events.length;\n  let offset = 0;\n  /** @type {Token} */\n  let token;\n  /** @type {number | undefined} */\n  let open;\n  /** @type {number | undefined} */\n  let close;\n  /** @type {Array<Event>} */\n  let media;\n\n  // Find an opening.\n  while (index--) {\n    token = events[index][1];\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (token.type === \"link\" || token.type === \"labelLink\" && token._inactive) {\n        break;\n      }\n\n      // Mark other link openings as inactive, as we cant have links in\n      // links.\n      if (events[index][0] === 'enter' && token.type === \"labelLink\") {\n        token._inactive = true;\n      }\n    } else if (close) {\n      if (events[index][0] === 'enter' && (token.type === \"labelImage\" || token.type === \"labelLink\") && !token._balanced) {\n        open = index;\n        if (token.type !== \"labelLink\") {\n          offset = 2;\n          break;\n        }\n      }\n    } else if (token.type === \"labelEnd\") {\n      close = index;\n    }\n  }\n  const group = {\n    type: events[open][1].type === \"labelLink\" ? \"link\" : \"image\",\n    start: {\n      ...events[open][1].start\n    },\n    end: {\n      ...events[events.length - 1][1].end\n    }\n  };\n  const label = {\n    type: \"label\",\n    start: {\n      ...events[open][1].start\n    },\n    end: {\n      ...events[close][1].end\n    }\n  };\n  const text = {\n    type: \"labelText\",\n    start: {\n      ...events[open + offset + 2][1].end\n    },\n    end: {\n      ...events[close - 2][1].start\n    }\n  };\n  media = [['enter', group, context], ['enter', label, context]];\n\n  // Opening marker.\n  media = push(media, events.slice(open + 1, open + offset + 3));\n\n  // Text open.\n  media = push(media, [['enter', text, context]]);\n\n  // Always populated by defaults.\n\n  // Between.\n  media = push(media, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + offset + 4, close - 3), context));\n\n  // Text close, marker close, label close.\n  media = push(media, [['exit', text, context], events[close - 2], events[close - 1], ['exit', label, context]]);\n\n  // Reference, resource, or so.\n  media = push(media, events.slice(close + 1));\n\n  // Media close.\n  media = push(media, [['exit', group, context]]);\n  splice(events, open, events.length, media);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  const self = this;\n  let index = self.events.length;\n  /** @type {Token} */\n  let labelStart;\n  /** @type {boolean} */\n  let defined;\n\n  // Find an opening.\n  while (index--) {\n    if ((self.events[index][1].type === \"labelImage\" || self.events[index][1].type === \"labelLink\") && !self.events[index][1]._balanced) {\n      labelStart = self.events[index][1];\n      break;\n    }\n  }\n  return start;\n\n  /**\n   * Start of label end.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // If there is not an okay opening.\n    if (!labelStart) {\n      return nok(code);\n    }\n\n    // If the corresponding label (link) start is marked as inactive,\n    // it means wed be wrapping a link, like this:\n    //\n    // ```markdown\n    // > | a [b [c](d) e](f) g.\n    //                  ^\n    // ```\n    //\n    // We cant have that, so its just balanced brackets.\n    if (labelStart._inactive) {\n      return labelEndNok(code);\n    }\n    defined = self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize({\n      start: labelStart.end,\n      end: self.now()\n    })));\n    effects.enter(\"labelEnd\");\n    effects.enter(\"labelMarker\");\n    effects.consume(code);\n    effects.exit(\"labelMarker\");\n    effects.exit(\"labelEnd\");\n    return after;\n  }\n\n  /**\n   * After `]`.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // Note: `markdown-rs` also parses GFM footnotes here, which for us is in\n    // an extension.\n\n    // Resource (`[asd](fgh)`)?\n    if (code === 40) {\n      return effects.attempt(resourceConstruct, labelEndOk, defined ? labelEndOk : labelEndNok)(code);\n    }\n\n    // Full (`[asd][fgh]`) or collapsed (`[asd][]`) reference?\n    if (code === 91) {\n      return effects.attempt(referenceFullConstruct, labelEndOk, defined ? referenceNotFull : labelEndNok)(code);\n    }\n\n    // Shortcut (`[asd]`) reference?\n    return defined ? labelEndOk(code) : labelEndNok(code);\n  }\n\n  /**\n   * After `]`, at `[`, but not at a full reference.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] b\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceNotFull(code) {\n    return effects.attempt(referenceCollapsedConstruct, labelEndOk, labelEndNok)(code);\n  }\n\n  /**\n   * Done, we found something.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *           ^\n   * > | [a][b] c\n   *           ^\n   * > | [a][] b\n   *          ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndOk(code) {\n    // Note: `markdown-rs` does a bunch of stuff here.\n    return ok(code);\n  }\n\n  /**\n   * Done, its nothing.\n   *\n   * There was an okay opening, but we didnt match anything.\n   *\n   * ```markdown\n   * > | [a](b c\n   *        ^\n   * > | [a][b c\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndNok(code) {\n    labelStart._balanced = true;\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeResource(effects, ok, nok) {\n  return resourceStart;\n\n  /**\n   * At a resource.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceStart(code) {\n    effects.enter(\"resource\");\n    effects.enter(\"resourceMarker\");\n    effects.consume(code);\n    effects.exit(\"resourceMarker\");\n    return resourceBefore;\n  }\n\n  /**\n   * In resource, after `(`, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceOpen)(code) : resourceOpen(code);\n  }\n\n  /**\n   * In resource, after optional whitespace, at `)` or a destination.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceOpen(code) {\n    if (code === 41) {\n      return resourceEnd(code);\n    }\n    return factoryDestination(effects, resourceDestinationAfter, resourceDestinationMissing, \"resourceDestination\", \"resourceDestinationLiteral\", \"resourceDestinationLiteralMarker\", \"resourceDestinationRaw\", \"resourceDestinationString\", 32)(code);\n  }\n\n  /**\n   * In resource, after destination, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceBetween)(code) : resourceEnd(code);\n  }\n\n  /**\n   * At invalid destination.\n   *\n   * ```markdown\n   * > | [a](<<) b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationMissing(code) {\n    return nok(code);\n  }\n\n  /**\n   * In resource, after destination and whitespace, at `(` or title.\n   *\n   * ```markdown\n   * > | [a](b ) c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBetween(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(effects, resourceTitleAfter, nok, \"resourceTitle\", \"resourceTitleMarker\", \"resourceTitleString\")(code);\n    }\n    return resourceEnd(code);\n  }\n\n  /**\n   * In resource, after title, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b \"c\") d\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceTitleAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceEnd)(code) : resourceEnd(code);\n  }\n\n  /**\n   * In resource, at `)`.\n   *\n   * ```markdown\n   * > | [a](b) d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceEnd(code) {\n    if (code === 41) {\n      effects.enter(\"resourceMarker\");\n      effects.consume(code);\n      effects.exit(\"resourceMarker\");\n      effects.exit(\"resource\");\n      return ok;\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceFull(effects, ok, nok) {\n  const self = this;\n  return referenceFull;\n\n  /**\n   * In a reference (full), at the `[`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFull(code) {\n    return factoryLabel.call(self, effects, referenceFullAfter, referenceFullMissing, \"reference\", \"referenceMarker\", \"referenceString\")(code);\n  }\n\n  /**\n   * In a reference (full), after `]`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullAfter(code) {\n    return self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1))) ? ok(code) : nok(code);\n  }\n\n  /**\n   * In reference (full) that was missing.\n   *\n   * ```markdown\n   * > | [a][b d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullMissing(code) {\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceCollapsed(effects, ok, nok) {\n  return referenceCollapsedStart;\n\n  /**\n   * In reference (collapsed), at `[`.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceCollapsedStart(code) {\n    // We only attempt a collapsed label if theres a `[`.\n\n    effects.enter(\"reference\");\n    effects.enter(\"referenceMarker\");\n    effects.consume(code);\n    effects.exit(\"referenceMarker\");\n    return referenceCollapsedOpen;\n  }\n\n  /**\n   * In reference (collapsed), at `]`.\n   *\n   * >  **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *         ^\n   * ```\n   *\n   *  @type {State}\n   */\n  function referenceCollapsedOpen(code) {\n    if (code === 93) {\n      effects.enter(\"referenceMarker\");\n      effects.consume(code);\n      effects.exit(\"referenceMarker\");\n      effects.exit(\"reference\");\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartImage = {\n  name: 'labelStartImage',\n  resolveAll: labelEnd.resolveAll,\n  tokenize: tokenizeLabelStartImage\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (image) start.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"labelImage\");\n    effects.enter(\"labelImageMarker\");\n    effects.consume(code);\n    effects.exit(\"labelImageMarker\");\n    return open;\n  }\n\n  /**\n   * After `!`, at `[`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 91) {\n      effects.enter(\"labelMarker\");\n      effects.consume(code);\n      effects.exit(\"labelMarker\");\n      effects.exit(\"labelImage\");\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `![`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *         ^\n   * ```\n   *\n   * This is needed in because, when GFM footnotes are enabled, images never\n   * form when started with a `^`.\n   * Instead, links form:\n   *\n   * ```markdown\n   * ![^a](b)\n   *\n   * ![^a][b]\n   *\n   * [b]: c\n   * ```\n   *\n   * ```html\n   * <p>!<a href=\\\"b\\\">^a</a></p>\n   * <p>!<a href=\\\"c\\\">^a</a></p>\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // To do: use a new field to do this, this is still needed for\n    // `micromark-extension-gfm-footnote`, but the `label-start-link`\n    // behavior isnt.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartLink = {\n  name: 'labelStartLink',\n  resolveAll: labelEnd.resolveAll,\n  tokenize: tokenizeLabelStartLink\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (link) start.\n   *\n   * ```markdown\n   * > | a [b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"labelLink\");\n    effects.enter(\"labelMarker\");\n    effects.consume(code);\n    effects.exit(\"labelMarker\");\n    effects.exit(\"labelLink\");\n    return after;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    // To do: this isnt needed in `micromark-extension-gfm-footnote`,\n    // remove.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @import {\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeLineEnding(effects, ok) {\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    return factorySpace(effects, ok, \"linePrefix\");\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n};\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  let size = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of thematic break.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(\"thematicBreak\");\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at marker.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    marker = code;\n    return atBreak(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter(\"thematicBreakSequence\");\n      return sequence(code);\n    }\n    if (size >= 3 && (code === null || markdownLineEnding(code))) {\n      effects.exit(\"thematicBreak\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code);\n      size++;\n      return sequence;\n    }\n    effects.exit(\"thematicBreakSequence\");\n    return markdownSpace(code) ? factorySpace(effects, atBreak, \"whitespace\")(code) : atBreak(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   Exiter,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiDigit, markdownSpace } from 'micromark-util-character';\nimport { blankLine } from './blank-line.js';\nimport { thematicBreak } from './thematic-break.js';\n\n/** @type {Construct} */\nexport const list = {\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd,\n  name: 'list',\n  tokenize: tokenizeListStart\n};\n\n/** @type {Construct} */\nconst listItemPrefixWhitespaceConstruct = {\n  partial: true,\n  tokenize: tokenizeListItemPrefixWhitespace\n};\n\n/** @type {Construct} */\nconst indentConstruct = {\n  partial: true,\n  tokenize: tokenizeIndent\n};\n\n// To do: `markdown-rs` parses list items on their own and later stitches them\n// together.\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListStart(effects, ok, nok) {\n  const self = this;\n  const tail = self.events[self.events.length - 1];\n  let initialSize = tail && tail[1].type === \"linePrefix\" ? tail[2].sliceSerialize(tail[1], true).length : 0;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    const kind = self.containerState.type || (code === 42 || code === 43 || code === 45 ? \"listUnordered\" : \"listOrdered\");\n    if (kind === \"listUnordered\" ? !self.containerState.marker || code === self.containerState.marker : asciiDigit(code)) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind;\n        effects.enter(kind, {\n          _container: true\n        });\n      }\n      if (kind === \"listUnordered\") {\n        effects.enter(\"listItemPrefix\");\n        return code === 42 || code === 45 ? effects.check(thematicBreak, nok, atMarker)(code) : atMarker(code);\n      }\n      if (!self.interrupt || code === 49) {\n        effects.enter(\"listItemPrefix\");\n        effects.enter(\"listItemValue\");\n        return inside(code);\n      }\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code);\n      return inside;\n    }\n    if ((!self.interrupt || size < 2) && (self.containerState.marker ? code === self.containerState.marker : code === 41 || code === 46)) {\n      effects.exit(\"listItemValue\");\n      return atMarker(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * @type {State}\n   **/\n  function atMarker(code) {\n    effects.enter(\"listItemMarker\");\n    effects.consume(code);\n    effects.exit(\"listItemMarker\");\n    self.containerState.marker = self.containerState.marker || code;\n    return effects.check(blankLine,\n    // Cant be empty when interrupting.\n    self.interrupt ? nok : onBlank, effects.attempt(listItemPrefixWhitespaceConstruct, endOfPrefix, otherPrefix));\n  }\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true;\n    initialSize++;\n    return endOfPrefix(code);\n  }\n\n  /** @type {State} */\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter(\"listItemPrefixWhitespace\");\n      effects.consume(code);\n      effects.exit(\"listItemPrefixWhitespace\");\n      return endOfPrefix;\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function endOfPrefix(code) {\n    self.containerState.size = initialSize + self.sliceSerialize(effects.exit(\"listItemPrefix\"), true).length;\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListContinuation(effects, ok, nok) {\n  const self = this;\n  self.containerState._closeFlow = undefined;\n  return effects.check(blankLine, onBlank, notBlank);\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.furtherBlankLines = self.containerState.furtherBlankLines || self.containerState.initialBlankLine;\n\n    // We have a blank line.\n    // Still, try to consume at most the items size.\n    return factorySpace(effects, ok, \"listItemIndent\", self.containerState.size + 1)(code);\n  }\n\n  /** @type {State} */\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = undefined;\n      self.containerState.initialBlankLine = undefined;\n      return notInCurrentItem(code);\n    }\n    self.containerState.furtherBlankLines = undefined;\n    self.containerState.initialBlankLine = undefined;\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code);\n  }\n\n  /** @type {State} */\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true;\n    // As were closing flow, were no longer interrupting.\n    self.interrupt = undefined;\n    // Always populated by defaults.\n\n    return factorySpace(effects, effects.attempt(list, ok, nok), \"linePrefix\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeIndent(effects, ok, nok) {\n  const self = this;\n  return factorySpace(effects, afterPrefix, \"listItemIndent\", self.containerState.size + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === \"listItemIndent\" && tail[2].sliceSerialize(tail[1], true).length === self.containerState.size ? ok(code) : nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Exiter}\n */\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type);\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  const self = this;\n\n  // Always populated by defaults.\n\n  return factorySpace(effects, afterPrefix, \"listItemPrefixWhitespace\", self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4 + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return !markdownSpace(code) && tail && tail[1].type === \"listItemPrefixWhitespace\" ? ok(code) : nok(code);\n  }\n}","/**\n * @import {\n *   Code,\n *   Construct,\n *   Resolver,\n *   State,\n *   TokenizeContext,\n *   Tokenizer\n * } from 'micromark-util-types'\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const setextUnderline = {\n  name: 'setextUnderline',\n  resolveTo: resolveToSetextUnderline,\n  tokenize: tokenizeSetextUnderline\n};\n\n/** @type {Resolver} */\nfunction resolveToSetextUnderline(events, context) {\n  // To do: resolve like `markdown-rs`.\n  let index = events.length;\n  /** @type {number | undefined} */\n  let content;\n  /** @type {number | undefined} */\n  let text;\n  /** @type {number | undefined} */\n  let definition;\n\n  // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === \"content\") {\n        content = index;\n        break;\n      }\n      if (events[index][1].type === \"paragraph\") {\n        text = index;\n      }\n    }\n    // Exit\n    else {\n      if (events[index][1].type === \"content\") {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1);\n      }\n      if (!definition && events[index][1].type === \"definition\") {\n        definition = index;\n      }\n    }\n  }\n  const heading = {\n    type: \"setextHeading\",\n    start: {\n      ...events[text][1].start\n    },\n    end: {\n      ...events[events.length - 1][1].end\n    }\n  };\n\n  // Change the paragraph to setext heading text.\n  events[text][1].type = \"setextHeadingText\";\n\n  // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context]);\n    events.splice(definition + 1, 0, ['exit', events[content][1], context]);\n    events[content][1].end = {\n      ...events[definition][1].end\n    };\n  } else {\n    events[content][1] = heading;\n  }\n\n  // Add the heading exit at the end.\n  events.push(['exit', heading, context]);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n *   Context.\n * @type {Tokenizer}\n */\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * At start of heading (setext) underline.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    let index = self.events.length;\n    /** @type {boolean | undefined} */\n    let paragraph;\n    // Find an opening.\n    while (index--) {\n      // Skip enter/exit of line ending, line prefix, and content.\n      // We can now either have a definition or a paragraph.\n      if (self.events[index][1].type !== \"lineEnding\" && self.events[index][1].type !== \"linePrefix\" && self.events[index][1].type !== \"content\") {\n        paragraph = self.events[index][1].type === \"paragraph\";\n        break;\n      }\n    }\n\n    // To do: handle lazy/pierce like `markdown-rs`.\n    // To do: parse indent like `markdown-rs`.\n    if (!self.parser.lazy[self.now().line] && (self.interrupt || paragraph)) {\n      effects.enter(\"setextHeadingLine\");\n      marker = code;\n      return before(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After optional whitespace, at `-` or `=`.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter(\"setextHeadingLineSequence\");\n    return inside(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    effects.exit(\"setextHeadingLineSequence\");\n    return markdownSpace(code) ? factorySpace(effects, after, \"lineSuffix\")(code) : after(code);\n  }\n\n  /**\n   * After sequence, after optional whitespace.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit(\"setextHeadingLine\");\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * @import {\n *   InitialConstruct,\n *   Initializer,\n *   State,\n *   TokenizeContext\n * } from 'micromark-util-types'\n */\n\nimport { blankLine, content } from 'micromark-core-commonmark';\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const flow = {\n  tokenize: initializeFlow\n};\n\n/**\n * @this {TokenizeContext}\n *   Self.\n * @type {Initializer}\n *   Initializer.\n */\nfunction initializeFlow(effects) {\n  const self = this;\n  const initial = effects.attempt(\n  // Try to parse a blank line.\n  blankLine, atBlankEnding,\n  // Try to parse initial flow (essentially, only code).\n  effects.attempt(this.parser.constructs.flowInitial, afterConstruct, factorySpace(effects, effects.attempt(this.parser.constructs.flow, afterConstruct, effects.attempt(content, afterConstruct)), \"linePrefix\")));\n  return initial;\n\n  /** @type {State} */\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEndingBlank\");\n    effects.consume(code);\n    effects.exit(\"lineEndingBlank\");\n    self.currentConstruct = undefined;\n    return initial;\n  }\n\n  /** @type {State} */\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter(\"lineEnding\");\n    effects.consume(code);\n    effects.exit(\"lineEnding\");\n    self.currentConstruct = undefined;\n    return initial;\n  }\n}","/**\n * @import {\n *   Code,\n *   InitialConstruct,\n *   Initializer,\n *   Resolver,\n *   State,\n *   TokenizeContext\n * } from 'micromark-util-types'\n */\n\nexport const resolver = {\n  resolveAll: createResolver()\n};\nexport const string = initializeFactory('string');\nexport const text = initializeFactory('text');\n\n/**\n * @param {'string' | 'text'} field\n *   Field.\n * @returns {InitialConstruct}\n *   Construct.\n */\nfunction initializeFactory(field) {\n  return {\n    resolveAll: createResolver(field === 'text' ? resolveAllLineSuffixes : undefined),\n    tokenize: initializeText\n  };\n\n  /**\n   * @this {TokenizeContext}\n   *   Context.\n   * @type {Initializer}\n   */\n  function initializeText(effects) {\n    const self = this;\n    const constructs = this.parser.constructs[field];\n    const text = effects.attempt(constructs, start, notText);\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code);\n    }\n\n    /** @type {State} */\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code);\n        return;\n      }\n      effects.enter(\"data\");\n      effects.consume(code);\n      return data;\n    }\n\n    /** @type {State} */\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit(\"data\");\n        return text(code);\n      }\n\n      // Data.\n      effects.consume(code);\n      return data;\n    }\n\n    /**\n     * @param {Code} code\n     *   Code.\n     * @returns {boolean}\n     *   Whether the code is a break.\n     */\n    function atBreak(code) {\n      if (code === null) {\n        return true;\n      }\n      const list = constructs[code];\n      let index = -1;\n      if (list) {\n        // Always populated by defaults.\n\n        while (++index < list.length) {\n          const item = list[index];\n          if (!item.previous || item.previous.call(self, self.previous)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Resolver | undefined} [extraResolver]\n *   Resolver.\n * @returns {Resolver}\n *   Resolver.\n */\nfunction createResolver(extraResolver) {\n  return resolveAllText;\n\n  /** @type {Resolver} */\n  function resolveAllText(events, context) {\n    let index = -1;\n    /** @type {number | undefined} */\n    let enter;\n\n    // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === \"data\") {\n          enter = index;\n          index++;\n        }\n      } else if (!events[index] || events[index][1].type !== \"data\") {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end;\n          events.splice(enter + 2, index - enter - 2);\n          index = enter + 2;\n        }\n        enter = undefined;\n      }\n    }\n    return extraResolver ? extraResolver(events, context) : events;\n  }\n}\n\n/**\n * A rather ugly set of instructions which again looks at chunks in the input\n * stream.\n * The reason to do this here is that it is *much* faster to parse in reverse.\n * And that we cant hook into `null` to split the line suffix before an EOF.\n * To do: figure out if we can make this into a clean utility, or even in core.\n * As it will be useful for GFMs literal autolink extension (and maybe even\n * tables?)\n *\n * @type {Resolver}\n */\nfunction resolveAllLineSuffixes(events, context) {\n  let eventIndex = 0; // Skip first.\n\n  while (++eventIndex <= events.length) {\n    if ((eventIndex === events.length || events[eventIndex][1].type === \"lineEnding\") && events[eventIndex - 1][1].type === \"data\") {\n      const data = events[eventIndex - 1][1];\n      const chunks = context.sliceStream(data);\n      let index = chunks.length;\n      let bufferIndex = -1;\n      let size = 0;\n      /** @type {boolean | undefined} */\n      let tabs;\n      while (index--) {\n        const chunk = chunks[index];\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length;\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++;\n            bufferIndex--;\n          }\n          if (bufferIndex) break;\n          bufferIndex = -1;\n        }\n        // Number\n        else if (chunk === -2) {\n          tabs = true;\n          size++;\n        } else if (chunk === -1) {\n          // Empty\n        } else {\n          // Replacement character, exit.\n          index++;\n          break;\n        }\n      }\n      if (size) {\n        const token = {\n          type: eventIndex === events.length || tabs || size < 2 ? \"lineSuffix\" : \"hardBreakTrailing\",\n          start: {\n            _bufferIndex: index ? bufferIndex : data.start._bufferIndex + bufferIndex,\n            _index: data.start._index + index,\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size\n          },\n          end: {\n            ...data.end\n          }\n        };\n        data.end = {\n          ...token.start\n        };\n        if (data.start.offset === data.end.offset) {\n          Object.assign(data, token);\n        } else {\n          events.splice(eventIndex, 0, ['enter', token, context], ['exit', token, context]);\n          eventIndex += 2;\n        }\n      }\n      eventIndex++;\n    }\n  }\n  return events;\n}","/**\n * @import {Extension} from 'micromark-util-types'\n */\n\nimport { attention, autolink, blockQuote, characterEscape, characterReference, codeFenced, codeIndented, codeText, definition, hardBreakEscape, headingAtx, htmlFlow, htmlText, labelEnd, labelStartImage, labelStartLink, lineEnding, list, setextUnderline, thematicBreak } from 'micromark-core-commonmark';\nimport { resolver as resolveText } from './initialize/text.js';\n\n/** @satisfies {Extension['document']} */\nexport const document = {\n  [42]: list,\n  [43]: list,\n  [45]: list,\n  [48]: list,\n  [49]: list,\n  [50]: list,\n  [51]: list,\n  [52]: list,\n  [53]: list,\n  [54]: list,\n  [55]: list,\n  [56]: list,\n  [57]: list,\n  [62]: blockQuote\n};\n\n/** @satisfies {Extension['contentInitial']} */\nexport const contentInitial = {\n  [91]: definition\n};\n\n/** @satisfies {Extension['flowInitial']} */\nexport const flowInitial = {\n  [-2]: codeIndented,\n  [-1]: codeIndented,\n  [32]: codeIndented\n};\n\n/** @satisfies {Extension['flow']} */\nexport const flow = {\n  [35]: headingAtx,\n  [42]: thematicBreak,\n  [45]: [setextUnderline, thematicBreak],\n  [60]: htmlFlow,\n  [61]: setextUnderline,\n  [95]: thematicBreak,\n  [96]: codeFenced,\n  [126]: codeFenced\n};\n\n/** @satisfies {Extension['string']} */\nexport const string = {\n  [38]: characterReference,\n  [92]: characterEscape\n};\n\n/** @satisfies {Extension['text']} */\nexport const text = {\n  [-5]: lineEnding,\n  [-4]: lineEnding,\n  [-3]: lineEnding,\n  [33]: labelStartImage,\n  [38]: characterReference,\n  [42]: attention,\n  [60]: [autolink, htmlText],\n  [91]: labelStartLink,\n  [92]: [hardBreakEscape, characterEscape],\n  [93]: labelEnd,\n  [95]: attention,\n  [96]: codeText\n};\n\n/** @satisfies {Extension['insideSpan']} */\nexport const insideSpan = {\n  null: [attention, resolveText]\n};\n\n/** @satisfies {Extension['attentionMarkers']} */\nexport const attentionMarkers = {\n  null: [42, 95]\n};\n\n/** @satisfies {Extension['disable']} */\nexport const disable = {\n  null: []\n};","/**\n * @import {\n *   Chunk,\n *   Code,\n *   ConstructRecord,\n *   Construct,\n *   Effects,\n *   InitialConstruct,\n *   ParseContext,\n *   Point,\n *   State,\n *   TokenizeContext,\n *   Token\n * } from 'micromark-util-types'\n */\n\n/**\n * @callback Restore\n *   Restore the state.\n * @returns {undefined}\n *   Nothing.\n *\n * @typedef Info\n *   Info.\n * @property {Restore} restore\n *   Restore.\n * @property {number} from\n *   From.\n *\n * @callback ReturnHandle\n *   Handle a successful run.\n * @param {Construct} construct\n *   Construct.\n * @param {Info} info\n *   Info.\n * @returns {undefined}\n *   Nothing.\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/**\n * Create a tokenizer.\n * Tokenizers deal with one type of data (e.g., containers, flow, text).\n * The parser is the object dealing with it all.\n * `initialize` works like other constructs, except that only its `tokenize`\n * function is used, in which case it doesnt receive an `ok` or `nok`.\n * `from` can be given to set the point before the first character, although\n * when further lines are indented, they must be set with `defineSkip`.\n *\n * @param {ParseContext} parser\n *   Parser.\n * @param {InitialConstruct} initialize\n *   Construct.\n * @param {Omit<Point, '_bufferIndex' | '_index'> | undefined} [from]\n *   Point (optional).\n * @returns {TokenizeContext}\n *   Context.\n */\nexport function createTokenizer(parser, initialize, from) {\n  /** @type {Point} */\n  let point = {\n    _bufferIndex: -1,\n    _index: 0,\n    line: from && from.line || 1,\n    column: from && from.column || 1,\n    offset: from && from.offset || 0\n  };\n  /** @type {Record<string, number>} */\n  const columnStart = {};\n  /** @type {Array<Construct>} */\n  const resolveAllConstructs = [];\n  /** @type {Array<Chunk>} */\n  let chunks = [];\n  /** @type {Array<Token>} */\n  let stack = [];\n  /** @type {boolean | undefined} */\n  let consumed = true;\n\n  /**\n   * Tools used for tokenizing.\n   *\n   * @type {Effects}\n   */\n  const effects = {\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    consume,\n    enter,\n    exit,\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    })\n  };\n\n  /**\n   * State and tools for resolving and serializing.\n   *\n   * @type {TokenizeContext}\n   */\n  const context = {\n    code: null,\n    containerState: {},\n    defineSkip,\n    events: [],\n    now,\n    parser,\n    previous: null,\n    sliceSerialize,\n    sliceStream,\n    write\n  };\n\n  /**\n   * The state function.\n   *\n   * @type {State | undefined}\n   */\n  let state = initialize.tokenize.call(context, effects);\n\n  /**\n   * Track which character we expect to be consumed, to catch bugs.\n   *\n   * @type {Code}\n   */\n  let expectedCode;\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize);\n  }\n  return context;\n\n  /** @type {TokenizeContext['write']} */\n  function write(slice) {\n    chunks = push(chunks, slice);\n    main();\n\n    // Exit if were not done, resolve might change stuff.\n    if (chunks[chunks.length - 1] !== null) {\n      return [];\n    }\n    addResult(initialize, 0);\n\n    // Otherwise, resolve, and exit.\n    context.events = resolveAll(resolveAllConstructs, context.events, context);\n    return context.events;\n  }\n\n  //\n  // Tools.\n  //\n\n  /** @type {TokenizeContext['sliceSerialize']} */\n  function sliceSerialize(token, expandTabs) {\n    return serializeChunks(sliceStream(token), expandTabs);\n  }\n\n  /** @type {TokenizeContext['sliceStream']} */\n  function sliceStream(token) {\n    return sliceChunks(chunks, token);\n  }\n\n  /** @type {TokenizeContext['now']} */\n  function now() {\n    // This is a hot path, so we clone manually instead of `Object.assign({}, point)`\n    const {\n      _bufferIndex,\n      _index,\n      line,\n      column,\n      offset\n    } = point;\n    return {\n      _bufferIndex,\n      _index,\n      line,\n      column,\n      offset\n    };\n  }\n\n  /** @type {TokenizeContext['defineSkip']} */\n  function defineSkip(value) {\n    columnStart[value.line] = value.column;\n    accountForPotentialSkip();\n  }\n\n  //\n  // State management.\n  //\n\n  /**\n   * Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n   * `consume`).\n   * Here is where we walk through the chunks, which either include strings of\n   * several characters, or numerical character codes.\n   * The reason to do this in a loop instead of a call is so the stack can\n   * drain.\n   *\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function main() {\n    /** @type {number} */\n    let chunkIndex;\n    while (point._index < chunks.length) {\n      const chunk = chunks[point._index];\n\n      // If were in a buffer chunk, loop through it.\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index;\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0;\n        }\n        while (point._index === chunkIndex && point._bufferIndex < chunk.length) {\n          go(chunk.charCodeAt(point._bufferIndex));\n        }\n      } else {\n        go(chunk);\n      }\n    }\n  }\n\n  /**\n   * Deal with one code.\n   *\n   * @param {Code} code\n   *   Code.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function go(code) {\n    consumed = undefined;\n    expectedCode = code;\n    state = state(code);\n  }\n\n  /** @type {Effects['consume']} */\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++;\n      point.column = 1;\n      point.offset += code === -3 ? 2 : 1;\n      accountForPotentialSkip();\n    } else if (code !== -1) {\n      point.column++;\n      point.offset++;\n    }\n\n    // Not in a string chunk.\n    if (point._bufferIndex < 0) {\n      point._index++;\n    } else {\n      point._bufferIndex++;\n\n      // At end of string chunk.\n      if (point._bufferIndex ===\n      // Points w/ non-negative `_bufferIndex` reference\n      // strings.\n      /** @type {string} */\n      chunks[point._index].length) {\n        point._bufferIndex = -1;\n        point._index++;\n      }\n    }\n\n    // Expose the previous character.\n    context.previous = code;\n\n    // Mark as consumed.\n    consumed = true;\n  }\n\n  /** @type {Effects['enter']} */\n  function enter(type, fields) {\n    /** @type {Token} */\n    // @ts-expect-error Patch instead of assign required fields to help GC.\n    const token = fields || {};\n    token.type = type;\n    token.start = now();\n    context.events.push(['enter', token, context]);\n    stack.push(token);\n    return token;\n  }\n\n  /** @type {Effects['exit']} */\n  function exit(type) {\n    const token = stack.pop();\n    token.end = now();\n    context.events.push(['exit', token, context]);\n    return token;\n  }\n\n  /**\n   * Use results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from);\n  }\n\n  /**\n   * Discard results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulcheck(_, info) {\n    info.restore();\n  }\n\n  /**\n   * Factory to attempt/check/interrupt.\n   *\n   * @param {ReturnHandle} onreturn\n   *   Callback.\n   * @param {{interrupt?: boolean | undefined} | undefined} [fields]\n   *   Fields.\n   */\n  function constructFactory(onreturn, fields) {\n    return hook;\n\n    /**\n     * Handle either an object mapping codes to constructs, a list of\n     * constructs, or a single construct.\n     *\n     * @param {Array<Construct> | ConstructRecord | Construct} constructs\n     *   Constructs.\n     * @param {State} returnState\n     *   State.\n     * @param {State | undefined} [bogusState]\n     *   State.\n     * @returns {State}\n     *   State.\n     */\n    function hook(constructs, returnState, bogusState) {\n      /** @type {ReadonlyArray<Construct>} */\n      let listOfConstructs;\n      /** @type {number} */\n      let constructIndex;\n      /** @type {Construct} */\n      let currentConstruct;\n      /** @type {Info} */\n      let info;\n      return Array.isArray(constructs) ? /* c8 ignore next 1 */\n      handleListOfConstructs(constructs) : 'tokenize' in constructs ?\n      // Looks like a construct.\n      handleListOfConstructs([(/** @type {Construct} */constructs)]) : handleMapOfConstructs(constructs);\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {ConstructRecord} map\n       *   Constructs.\n       * @returns {State}\n       *   State.\n       */\n      function handleMapOfConstructs(map) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          const left = code !== null && map[code];\n          const all = code !== null && map.null;\n          const list = [\n          // To do: add more extension tests.\n          /* c8 ignore next 2 */\n          ...(Array.isArray(left) ? left : left ? [left] : []), ...(Array.isArray(all) ? all : all ? [all] : [])];\n          return handleListOfConstructs(list)(code);\n        }\n      }\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {ReadonlyArray<Construct>} list\n       *   Constructs.\n       * @returns {State}\n       *   State.\n       */\n      function handleListOfConstructs(list) {\n        listOfConstructs = list;\n        constructIndex = 0;\n        if (list.length === 0) {\n          return bogusState;\n        }\n        return handleConstruct(list[constructIndex]);\n      }\n\n      /**\n       * Handle a single construct.\n       *\n       * @param {Construct} construct\n       *   Construct.\n       * @returns {State}\n       *   State.\n       */\n      function handleConstruct(construct) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          // To do: not needed to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store();\n          currentConstruct = construct;\n          if (!construct.partial) {\n            context.currentConstruct = construct;\n          }\n\n          // Always populated by defaults.\n\n          if (construct.name && context.parser.constructs.disable.null.includes(construct.name)) {\n            return nok(code);\n          }\n          return construct.tokenize.call(\n          // If we do have fields, create an object w/ `context` as its\n          // prototype.\n          // This allows a live binding, which is needed for `interrupt`.\n          fields ? Object.assign(Object.create(context), fields) : context, effects, ok, nok)(code);\n        }\n      }\n\n      /** @type {State} */\n      function ok(code) {\n        consumed = true;\n        onreturn(currentConstruct, info);\n        return returnState;\n      }\n\n      /** @type {State} */\n      function nok(code) {\n        consumed = true;\n        info.restore();\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex]);\n        }\n        return bogusState;\n      }\n    }\n  }\n\n  /**\n   * @param {Construct} construct\n   *   Construct.\n   * @param {number} from\n   *   From.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function addResult(construct, from) {\n    if (construct.resolveAll && !resolveAllConstructs.includes(construct)) {\n      resolveAllConstructs.push(construct);\n    }\n    if (construct.resolve) {\n      splice(context.events, from, context.events.length - from, construct.resolve(context.events.slice(from), context));\n    }\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context);\n    }\n  }\n\n  /**\n   * Store state.\n   *\n   * @returns {Info}\n   *   Info.\n   */\n  function store() {\n    const startPoint = now();\n    const startPrevious = context.previous;\n    const startCurrentConstruct = context.currentConstruct;\n    const startEventsIndex = context.events.length;\n    const startStack = Array.from(stack);\n    return {\n      from: startEventsIndex,\n      restore\n    };\n\n    /**\n     * Restore state.\n     *\n     * @returns {undefined}\n     *   Nothing.\n     */\n    function restore() {\n      point = startPoint;\n      context.previous = startPrevious;\n      context.currentConstruct = startCurrentConstruct;\n      context.events.length = startEventsIndex;\n      stack = startStack;\n      accountForPotentialSkip();\n    }\n  }\n\n  /**\n   * Move the current point a bit forward in the line when its on a column\n   * skip.\n   *\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line];\n      point.offset += columnStart[point.line] - 1;\n    }\n  }\n}\n\n/**\n * Get the chunks from a slice of chunks in the range of a token.\n *\n * @param {ReadonlyArray<Chunk>} chunks\n *   Chunks.\n * @param {Pick<Token, 'end' | 'start'>} token\n *   Token.\n * @returns {Array<Chunk>}\n *   Chunks.\n */\nfunction sliceChunks(chunks, token) {\n  const startIndex = token.start._index;\n  const startBufferIndex = token.start._bufferIndex;\n  const endIndex = token.end._index;\n  const endBufferIndex = token.end._bufferIndex;\n  /** @type {Array<Chunk>} */\n  let view;\n  if (startIndex === endIndex) {\n    // @ts-expect-error `_bufferIndex` is used on string chunks.\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)];\n  } else {\n    view = chunks.slice(startIndex, endIndex);\n    if (startBufferIndex > -1) {\n      const head = view[0];\n      if (typeof head === 'string') {\n        view[0] = head.slice(startBufferIndex);\n      } else {\n        view.shift();\n      }\n    }\n    if (endBufferIndex > 0) {\n      // @ts-expect-error `_bufferIndex` is used on string chunks.\n      view.push(chunks[endIndex].slice(0, endBufferIndex));\n    }\n  }\n  return view;\n}\n\n/**\n * Get the string value of a slice of chunks.\n *\n * @param {ReadonlyArray<Chunk>} chunks\n *   Chunks.\n * @param {boolean | undefined} [expandTabs=false]\n *   Whether to expand tabs (default: `false`).\n * @returns {string}\n *   Result.\n */\nfunction serializeChunks(chunks, expandTabs) {\n  let index = -1;\n  /** @type {Array<string>} */\n  const result = [];\n  /** @type {boolean | undefined} */\n  let atTab;\n  while (++index < chunks.length) {\n    const chunk = chunks[index];\n    /** @type {string} */\n    let value;\n    if (typeof chunk === 'string') {\n      value = chunk;\n    } else switch (chunk) {\n      case -5:\n        {\n          value = \"\\r\";\n          break;\n        }\n      case -4:\n        {\n          value = \"\\n\";\n          break;\n        }\n      case -3:\n        {\n          value = \"\\r\" + \"\\n\";\n          break;\n        }\n      case -2:\n        {\n          value = expandTabs ? \" \" : \"\\t\";\n          break;\n        }\n      case -1:\n        {\n          if (!expandTabs && atTab) continue;\n          value = \" \";\n          break;\n        }\n      default:\n        {\n          // Currently only replacement character.\n          value = String.fromCharCode(chunk);\n        }\n    }\n    atTab = chunk === -2;\n    result.push(value);\n  }\n  return result.join('');\n}","/**\n * @import {\n *   Create,\n *   FullNormalizedExtension,\n *   InitialConstruct,\n *   ParseContext,\n *   ParseOptions\n * } from 'micromark-util-types'\n */\n\nimport { combineExtensions } from 'micromark-util-combine-extensions';\nimport { content } from './initialize/content.js';\nimport { document } from './initialize/document.js';\nimport { flow } from './initialize/flow.js';\nimport { string, text } from './initialize/text.js';\nimport * as defaultConstructs from './constructs.js';\nimport { createTokenizer } from './create-tokenizer.js';\n\n/**\n * @param {ParseOptions | null | undefined} [options]\n *   Configuration (optional).\n * @returns {ParseContext}\n *   Parser.\n */\nexport function parse(options) {\n  const settings = options || {};\n  const constructs = /** @type {FullNormalizedExtension} */\n  combineExtensions([defaultConstructs, ...(settings.extensions || [])]);\n\n  /** @type {ParseContext} */\n  const parser = {\n    constructs,\n    content: create(content),\n    defined: [],\n    document: create(document),\n    flow: create(flow),\n    lazy: {},\n    string: create(string),\n    text: create(text)\n  };\n  return parser;\n\n  /**\n   * @param {InitialConstruct} initial\n   *   Construct to start with.\n   * @returns {Create}\n   *   Create a tokenizer.\n   */\n  function create(initial) {\n    return creator;\n    /** @type {Create} */\n    function creator(from) {\n      return createTokenizer(parser, initial, from);\n    }\n  }\n}","/**\n * @import {Chunk, Code, Encoding, Value} from 'micromark-util-types'\n */\n\n/**\n * @callback Preprocessor\n *   Preprocess a value.\n * @param {Value} value\n *   Value.\n * @param {Encoding | null | undefined} [encoding]\n *   Encoding when `value` is a typed array (optional).\n * @param {boolean | null | undefined} [end=false]\n *   Whether this is the last chunk (default: `false`).\n * @returns {Array<Chunk>}\n *   Chunks.\n */\n\nconst search = /[\\0\\t\\n\\r]/g;\n\n/**\n * @returns {Preprocessor}\n *   Preprocess a value.\n */\nexport function preprocess() {\n  let column = 1;\n  let buffer = '';\n  /** @type {boolean | undefined} */\n  let start = true;\n  /** @type {boolean | undefined} */\n  let atCarriageReturn;\n  return preprocessor;\n\n  /** @type {Preprocessor} */\n  // eslint-disable-next-line complexity\n  function preprocessor(value, encoding, end) {\n    /** @type {Array<Chunk>} */\n    const chunks = [];\n    /** @type {RegExpMatchArray | null} */\n    let match;\n    /** @type {number} */\n    let next;\n    /** @type {number} */\n    let startPosition;\n    /** @type {number} */\n    let endPosition;\n    /** @type {Code} */\n    let code;\n    value = buffer + (typeof value === 'string' ? value.toString() : new TextDecoder(encoding || undefined).decode(value));\n    startPosition = 0;\n    buffer = '';\n    if (start) {\n      // To do: `markdown-rs` actually parses BOMs (byte order mark).\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++;\n      }\n      start = undefined;\n    }\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition;\n      match = search.exec(value);\n      endPosition = match && match.index !== undefined ? match.index : value.length;\n      code = value.charCodeAt(endPosition);\n      if (!match) {\n        buffer = value.slice(startPosition);\n        break;\n      }\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3);\n        atCarriageReturn = undefined;\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5);\n          atCarriageReturn = undefined;\n        }\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition));\n          column += endPosition - startPosition;\n        }\n        switch (code) {\n          case 0:\n            {\n              chunks.push(65533);\n              column++;\n              break;\n            }\n          case 9:\n            {\n              next = Math.ceil(column / 4) * 4;\n              chunks.push(-2);\n              while (column++ < next) chunks.push(-1);\n              break;\n            }\n          case 10:\n            {\n              chunks.push(-4);\n              column = 1;\n              break;\n            }\n          default:\n            {\n              atCarriageReturn = true;\n              column = 1;\n            }\n        }\n      }\n      startPosition = endPosition + 1;\n    }\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5);\n      if (buffer) chunks.push(buffer);\n      chunks.push(null);\n    }\n    return chunks;\n  }\n}","import { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nconst characterEscapeOrReference = /\\\\([!-/:-@[-`{-~])|&(#(?:\\d{1,7}|x[\\da-f]{1,6})|[\\da-z]{1,31});/gi;\n\n/**\n * Decode markdown strings (which occur in places such as fenced code info\n * strings, destinations, labels, and titles).\n *\n * The string content type allows character escapes and -references.\n * This decodes those.\n *\n * @param {string} value\n *   Value to decode.\n * @returns {string}\n *   Decoded value.\n */\nexport function decodeString(value) {\n  return value.replace(characterEscapeOrReference, decode);\n}\n\n/**\n * @param {string} $0\n *   Match.\n * @param {string} $1\n *   Character escape.\n * @param {string} $2\n *   Character reference.\n * @returns {string}\n *   Decoded value\n */\nfunction decode($0, $1, $2) {\n  if ($1) {\n    // Escape.\n    return $1;\n  }\n\n  // Reference.\n  const head = $2.charCodeAt(0);\n  if (head === 35) {\n    const head = $2.charCodeAt(1);\n    const hex = head === 120 || head === 88;\n    return decodeNumericCharacterReference($2.slice(hex ? 2 : 1), hex ? 16 : 10);\n  }\n  return decodeNamedCharacterReference($2) || $0;\n}","/**\n * @import {\n *   Break,\n *   Blockquote,\n *   Code,\n *   Definition,\n *   Emphasis,\n *   Heading,\n *   Html,\n *   Image,\n *   InlineCode,\n *   Link,\n *   ListItem,\n *   List,\n *   Nodes,\n *   Paragraph,\n *   PhrasingContent,\n *   ReferenceType,\n *   Root,\n *   Strong,\n *   Text,\n *   ThematicBreak\n * } from 'mdast'\n * @import {\n *   Encoding,\n *   Event,\n *   Token,\n *   Value\n * } from 'micromark-util-types'\n * @import {Point} from 'unist'\n * @import {\n *   CompileContext,\n *   CompileData,\n *   Config,\n *   Extension,\n *   Handle,\n *   OnEnterError,\n *   Options\n * } from './types.js'\n */\n\nimport { toString } from 'mdast-util-to-string';\nimport { parse, postprocess, preprocess } from 'micromark';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nimport { decodeString } from 'micromark-util-decode-string';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { stringifyPosition } from 'unist-util-stringify-position';\nconst own = {}.hasOwnProperty;\n\n/**\n * Turn markdown into a syntax tree.\n *\n * @overload\n * @param {Value} value\n * @param {Encoding | null | undefined} [encoding]\n * @param {Options | null | undefined} [options]\n * @returns {Root}\n *\n * @overload\n * @param {Value} value\n * @param {Options | null | undefined} [options]\n * @returns {Root}\n *\n * @param {Value} value\n *   Markdown to parse.\n * @param {Encoding | Options | null | undefined} [encoding]\n *   Character encoding for when `value` is `Buffer`.\n * @param {Options | null | undefined} [options]\n *   Configuration.\n * @returns {Root}\n *   mdast tree.\n */\nexport function fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding;\n    encoding = undefined;\n  }\n  return compiler(options)(postprocess(parse(options).document().write(preprocess()(value, encoding, true))));\n}\n\n/**\n * Note this compiler only understand complete buffering, not streaming.\n *\n * @param {Options | null | undefined} [options]\n */\nfunction compiler(options) {\n  /** @type {Config} */\n  const config = {\n    transforms: [],\n    canContainEols: ['emphasis', 'fragment', 'heading', 'paragraph', 'strong'],\n    enter: {\n      autolink: opener(link),\n      autolinkProtocol: onenterdata,\n      autolinkEmail: onenterdata,\n      atxHeading: opener(heading),\n      blockQuote: opener(blockQuote),\n      characterEscape: onenterdata,\n      characterReference: onenterdata,\n      codeFenced: opener(codeFlow),\n      codeFencedFenceInfo: buffer,\n      codeFencedFenceMeta: buffer,\n      codeIndented: opener(codeFlow, buffer),\n      codeText: opener(codeText, buffer),\n      codeTextData: onenterdata,\n      data: onenterdata,\n      codeFlowValue: onenterdata,\n      definition: opener(definition),\n      definitionDestinationString: buffer,\n      definitionLabelString: buffer,\n      definitionTitleString: buffer,\n      emphasis: opener(emphasis),\n      hardBreakEscape: opener(hardBreak),\n      hardBreakTrailing: opener(hardBreak),\n      htmlFlow: opener(html, buffer),\n      htmlFlowData: onenterdata,\n      htmlText: opener(html, buffer),\n      htmlTextData: onenterdata,\n      image: opener(image),\n      label: buffer,\n      link: opener(link),\n      listItem: opener(listItem),\n      listItemValue: onenterlistitemvalue,\n      listOrdered: opener(list, onenterlistordered),\n      listUnordered: opener(list),\n      paragraph: opener(paragraph),\n      reference: onenterreference,\n      referenceString: buffer,\n      resourceDestinationString: buffer,\n      resourceTitleString: buffer,\n      setextHeading: opener(heading),\n      strong: opener(strong),\n      thematicBreak: opener(thematicBreak)\n    },\n    exit: {\n      atxHeading: closer(),\n      atxHeadingSequence: onexitatxheadingsequence,\n      autolink: closer(),\n      autolinkEmail: onexitautolinkemail,\n      autolinkProtocol: onexitautolinkprotocol,\n      blockQuote: closer(),\n      characterEscapeValue: onexitdata,\n      characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n      characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n      characterReferenceValue: onexitcharacterreferencevalue,\n      characterReference: onexitcharacterreference,\n      codeFenced: closer(onexitcodefenced),\n      codeFencedFence: onexitcodefencedfence,\n      codeFencedFenceInfo: onexitcodefencedfenceinfo,\n      codeFencedFenceMeta: onexitcodefencedfencemeta,\n      codeFlowValue: onexitdata,\n      codeIndented: closer(onexitcodeindented),\n      codeText: closer(onexitcodetext),\n      codeTextData: onexitdata,\n      data: onexitdata,\n      definition: closer(),\n      definitionDestinationString: onexitdefinitiondestinationstring,\n      definitionLabelString: onexitdefinitionlabelstring,\n      definitionTitleString: onexitdefinitiontitlestring,\n      emphasis: closer(),\n      hardBreakEscape: closer(onexithardbreak),\n      hardBreakTrailing: closer(onexithardbreak),\n      htmlFlow: closer(onexithtmlflow),\n      htmlFlowData: onexitdata,\n      htmlText: closer(onexithtmltext),\n      htmlTextData: onexitdata,\n      image: closer(onexitimage),\n      label: onexitlabel,\n      labelText: onexitlabeltext,\n      lineEnding: onexitlineending,\n      link: closer(onexitlink),\n      listItem: closer(),\n      listOrdered: closer(),\n      listUnordered: closer(),\n      paragraph: closer(),\n      referenceString: onexitreferencestring,\n      resourceDestinationString: onexitresourcedestinationstring,\n      resourceTitleString: onexitresourcetitlestring,\n      resource: onexitresource,\n      setextHeading: closer(onexitsetextheading),\n      setextHeadingLineSequence: onexitsetextheadinglinesequence,\n      setextHeadingText: onexitsetextheadingtext,\n      strong: closer(),\n      thematicBreak: closer()\n    }\n  };\n  configure(config, (options || {}).mdastExtensions || []);\n\n  /** @type {CompileData} */\n  const data = {};\n  return compile;\n\n  /**\n   * Turn micromark events into an mdast tree.\n   *\n   * @param {Array<Event>} events\n   *   Events.\n   * @returns {Root}\n   *   mdast tree.\n   */\n  function compile(events) {\n    /** @type {Root} */\n    let tree = {\n      type: 'root',\n      children: []\n    };\n    /** @type {Omit<CompileContext, 'sliceSerialize'>} */\n    const context = {\n      stack: [tree],\n      tokenStack: [],\n      config,\n      enter,\n      exit,\n      buffer,\n      resume,\n      data\n    };\n    /** @type {Array<number>} */\n    const listStack = [];\n    let index = -1;\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (events[index][1].type === \"listOrdered\" || events[index][1].type === \"listUnordered\") {\n        if (events[index][0] === 'enter') {\n          listStack.push(index);\n        } else {\n          const tail = listStack.pop();\n          index = prepareList(events, tail, index);\n        }\n      }\n    }\n    index = -1;\n    while (++index < events.length) {\n      const handler = config[events[index][0]];\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(Object.assign({\n          sliceSerialize: events[index][2].sliceSerialize\n        }, context), events[index][1]);\n      }\n    }\n\n    // Handle tokens still being open.\n    if (context.tokenStack.length > 0) {\n      const tail = context.tokenStack[context.tokenStack.length - 1];\n      const handler = tail[1] || defaultOnError;\n      handler.call(context, undefined, tail[0]);\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(events.length > 0 ? events[0][1].start : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }),\n      end: point(events.length > 0 ? events[events.length - 2][1].end : {\n        line: 1,\n        column: 1,\n        offset: 0\n      })\n    };\n\n    // Call transforms.\n    index = -1;\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree;\n    }\n    return tree;\n  }\n\n  /**\n   * @param {Array<Event>} events\n   * @param {number} start\n   * @param {number} length\n   * @returns {number}\n   */\n  function prepareList(events, start, length) {\n    let index = start - 1;\n    let containerBalance = -1;\n    let listSpread = false;\n    /** @type {Token | undefined} */\n    let listItem;\n    /** @type {number | undefined} */\n    let lineIndex;\n    /** @type {number | undefined} */\n    let firstBlankLineIndex;\n    /** @type {boolean | undefined} */\n    let atMarker;\n    while (++index <= length) {\n      const event = events[index];\n      switch (event[1].type) {\n        case \"listUnordered\":\n        case \"listOrdered\":\n        case \"blockQuote\":\n          {\n            if (event[0] === 'enter') {\n              containerBalance++;\n            } else {\n              containerBalance--;\n            }\n            atMarker = undefined;\n            break;\n          }\n        case \"lineEndingBlank\":\n          {\n            if (event[0] === 'enter') {\n              if (listItem && !atMarker && !containerBalance && !firstBlankLineIndex) {\n                firstBlankLineIndex = index;\n              }\n              atMarker = undefined;\n            }\n            break;\n          }\n        case \"linePrefix\":\n        case \"listItemValue\":\n        case \"listItemMarker\":\n        case \"listItemPrefix\":\n        case \"listItemPrefixWhitespace\":\n          {\n            // Empty.\n\n            break;\n          }\n        default:\n          {\n            atMarker = undefined;\n          }\n      }\n      if (!containerBalance && event[0] === 'enter' && event[1].type === \"listItemPrefix\" || containerBalance === -1 && event[0] === 'exit' && (event[1].type === \"listUnordered\" || event[1].type === \"listOrdered\")) {\n        if (listItem) {\n          let tailIndex = index;\n          lineIndex = undefined;\n          while (tailIndex--) {\n            const tailEvent = events[tailIndex];\n            if (tailEvent[1].type === \"lineEnding\" || tailEvent[1].type === \"lineEndingBlank\") {\n              if (tailEvent[0] === 'exit') continue;\n              if (lineIndex) {\n                events[lineIndex][1].type = \"lineEndingBlank\";\n                listSpread = true;\n              }\n              tailEvent[1].type = \"lineEnding\";\n              lineIndex = tailIndex;\n            } else if (tailEvent[1].type === \"linePrefix\" || tailEvent[1].type === \"blockQuotePrefix\" || tailEvent[1].type === \"blockQuotePrefixWhitespace\" || tailEvent[1].type === \"blockQuoteMarker\" || tailEvent[1].type === \"listItemIndent\") {\n              // Empty\n            } else {\n              break;\n            }\n          }\n          if (firstBlankLineIndex && (!lineIndex || firstBlankLineIndex < lineIndex)) {\n            listItem._spread = true;\n          }\n\n          // Fix position.\n          listItem.end = Object.assign({}, lineIndex ? events[lineIndex][1].start : event[1].end);\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]]);\n          index++;\n          length++;\n        }\n\n        // Create a new list item.\n        if (event[1].type === \"listItemPrefix\") {\n          /** @type {Token} */\n          const item = {\n            type: 'listItem',\n            _spread: false,\n            start: Object.assign({}, event[1].start),\n            // @ts-expect-error: well add `end` in a second.\n            end: undefined\n          };\n          listItem = item;\n          events.splice(index, 0, ['enter', item, event[2]]);\n          index++;\n          length++;\n          firstBlankLineIndex = undefined;\n          atMarker = true;\n        }\n      }\n    }\n    events[start][1]._spread = listSpread;\n    return length;\n  }\n\n  /**\n   * Create an opener handle.\n   *\n   * @param {(token: Token) => Nodes} create\n   *   Create a node.\n   * @param {Handle | undefined} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function opener(create, and) {\n    return open;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {undefined}\n     */\n    function open(token) {\n      enter.call(this, create(token), token);\n      if (and) and.call(this, token);\n    }\n  }\n\n  /**\n   * @type {CompileContext['buffer']}\n   */\n  function buffer() {\n    this.stack.push({\n      type: 'fragment',\n      children: []\n    });\n  }\n\n  /**\n   * @type {CompileContext['enter']}\n   */\n  function enter(node, token, errorHandler) {\n    const parent = this.stack[this.stack.length - 1];\n    /** @type {Array<Nodes>} */\n    const siblings = parent.children;\n    siblings.push(node);\n    this.stack.push(node);\n    this.tokenStack.push([token, errorHandler || undefined]);\n    node.position = {\n      start: point(token.start),\n      // @ts-expect-error: `end` will be patched later.\n      end: undefined\n    };\n  }\n\n  /**\n   * Create a closer handle.\n   *\n   * @param {Handle | undefined} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function closer(and) {\n    return close;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {undefined}\n     */\n    function close(token) {\n      if (and) and.call(this, token);\n      exit.call(this, token);\n    }\n  }\n\n  /**\n   * @type {CompileContext['exit']}\n   */\n  function exit(token, onExitError) {\n    const node = this.stack.pop();\n    const open = this.tokenStack.pop();\n    if (!open) {\n      throw new Error('Cannot close `' + token.type + '` (' + stringifyPosition({\n        start: token.start,\n        end: token.end\n      }) + '): its not open');\n    } else if (open[0].type !== token.type) {\n      if (onExitError) {\n        onExitError.call(this, token, open[0]);\n      } else {\n        const handler = open[1] || defaultOnError;\n        handler.call(this, token, open[0]);\n      }\n    }\n    node.position.end = point(token.end);\n  }\n\n  /**\n   * @type {CompileContext['resume']}\n   */\n  function resume() {\n    return toString(this.stack.pop());\n  }\n\n  //\n  // Handlers.\n  //\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistordered() {\n    this.data.expectingFirstListItemValue = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistitemvalue(token) {\n    if (this.data.expectingFirstListItemValue) {\n      const ancestor = this.stack[this.stack.length - 2];\n      ancestor.start = Number.parseInt(this.sliceSerialize(token), 10);\n      this.data.expectingFirstListItemValue = undefined;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfenceinfo() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.lang = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfencemeta() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.meta = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (this.data.flowCodeInside) return;\n    this.buffer();\n    this.data.flowCodeInside = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefenced() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g, '');\n    this.data.flowCodeInside = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodeindented() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/(\\r?\\n|\\r)$/g, '');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitionlabelstring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.label = label;\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiontitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiondestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitatxheadingsequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    if (!node.depth) {\n      const depth = this.sliceSerialize(token).length;\n      node.depth = depth;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadingtext() {\n    this.data.setextHeadingSlurpLineEnding = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadinglinesequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    node.depth = this.sliceSerialize(token).codePointAt(0) === 61 ? 1 : 2;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheading() {\n    this.data.setextHeadingSlurpLineEnding = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterdata(token) {\n    const node = this.stack[this.stack.length - 1];\n    /** @type {Array<Nodes>} */\n    const siblings = node.children;\n    let tail = siblings[siblings.length - 1];\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text();\n      tail.position = {\n        start: point(token.start),\n        // @ts-expect-error: well add `end` later.\n        end: undefined\n      };\n      siblings.push(tail);\n    }\n    this.stack.push(tail);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitdata(token) {\n    const tail = this.stack.pop();\n    tail.value += this.sliceSerialize(token);\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlineending(token) {\n    const context = this.stack[this.stack.length - 1];\n    // If were at a hard break, include the line ending in there.\n    if (this.data.atHardBreak) {\n      const tail = context.children[context.children.length - 1];\n      tail.position.end = point(token.end);\n      this.data.atHardBreak = undefined;\n      return;\n    }\n    if (!this.data.setextHeadingSlurpLineEnding && config.canContainEols.includes(context.type)) {\n      onenterdata.call(this, token);\n      onexitdata.call(this, token);\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithardbreak() {\n    this.data.atHardBreak = true;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmlflow() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmltext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcodetext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlink() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n\n    // To do: clean.\n    if (this.data.inReference) {\n      /** @type {ReferenceType} */\n      const referenceType = this.data.referenceType || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    this.data.referenceType = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitimage() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n\n    // To do: clean.\n    if (this.data.inReference) {\n      /** @type {ReferenceType} */\n      const referenceType = this.data.referenceType || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    this.data.referenceType = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabeltext(token) {\n    const string = this.sliceSerialize(token);\n    const ancestor = this.stack[this.stack.length - 2];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    ancestor.label = decodeString(string);\n    // @ts-expect-error: same as above.\n    ancestor.identifier = normalizeIdentifier(string).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabel() {\n    const fragment = this.stack[this.stack.length - 1];\n    const value = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // Assume a reference.\n    this.data.inReference = true;\n    if (node.type === 'link') {\n      /** @type {Array<PhrasingContent>} */\n      const children = fragment.children;\n      node.children = children;\n    } else {\n      node.alt = value;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcedestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcetitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresource() {\n    this.data.inReference = undefined;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterreference() {\n    this.data.referenceType = 'collapsed';\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitreferencestring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    node.label = label;\n    // @ts-expect-error: same as above.\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n    this.data.referenceType = 'full';\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcharacterreferencemarker(token) {\n    this.data.characterReferenceType = token.type;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcharacterreferencevalue(token) {\n    const data = this.sliceSerialize(token);\n    const type = this.data.characterReferenceType;\n    /** @type {string} */\n    let value;\n    if (type) {\n      value = decodeNumericCharacterReference(data, type === \"characterReferenceMarkerNumeric\" ? 10 : 16);\n      this.data.characterReferenceType = undefined;\n    } else {\n      const result = decodeNamedCharacterReference(data);\n      value = result;\n    }\n    const tail = this.stack[this.stack.length - 1];\n    tail.value += value;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcharacterreference(token) {\n    const tail = this.stack.pop();\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = this.sliceSerialize(token);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = 'mailto:' + this.sliceSerialize(token);\n  }\n\n  //\n  // Creaters.\n  //\n\n  /** @returns {Blockquote} */\n  function blockQuote() {\n    return {\n      type: 'blockquote',\n      children: []\n    };\n  }\n\n  /** @returns {Code} */\n  function codeFlow() {\n    return {\n      type: 'code',\n      lang: null,\n      meta: null,\n      value: ''\n    };\n  }\n\n  /** @returns {InlineCode} */\n  function codeText() {\n    return {\n      type: 'inlineCode',\n      value: ''\n    };\n  }\n\n  /** @returns {Definition} */\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    };\n  }\n\n  /** @returns {Emphasis} */\n  function emphasis() {\n    return {\n      type: 'emphasis',\n      children: []\n    };\n  }\n\n  /** @returns {Heading} */\n  function heading() {\n    return {\n      type: 'heading',\n      // @ts-expect-error `depth` will be set later.\n      depth: 0,\n      children: []\n    };\n  }\n\n  /** @returns {Break} */\n  function hardBreak() {\n    return {\n      type: 'break'\n    };\n  }\n\n  /** @returns {Html} */\n  function html() {\n    return {\n      type: 'html',\n      value: ''\n    };\n  }\n\n  /** @returns {Image} */\n  function image() {\n    return {\n      type: 'image',\n      title: null,\n      url: '',\n      alt: null\n    };\n  }\n\n  /** @returns {Link} */\n  function link() {\n    return {\n      type: 'link',\n      title: null,\n      url: '',\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {List}\n   */\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {ListItem}\n   */\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    };\n  }\n\n  /** @returns {Paragraph} */\n  function paragraph() {\n    return {\n      type: 'paragraph',\n      children: []\n    };\n  }\n\n  /** @returns {Strong} */\n  function strong() {\n    return {\n      type: 'strong',\n      children: []\n    };\n  }\n\n  /** @returns {Text} */\n  function text() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /** @returns {ThematicBreak} */\n  function thematicBreak() {\n    return {\n      type: 'thematicBreak'\n    };\n  }\n}\n\n/**\n * Copy a point-like value.\n *\n * @param {Point} d\n *   Point-like value.\n * @returns {Point}\n *   unist point.\n */\nfunction point(d) {\n  return {\n    line: d.line,\n    column: d.column,\n    offset: d.offset\n  };\n}\n\n/**\n * @param {Config} combined\n * @param {Array<Array<Extension> | Extension>} extensions\n * @returns {undefined}\n */\nfunction configure(combined, extensions) {\n  let index = -1;\n  while (++index < extensions.length) {\n    const value = extensions[index];\n    if (Array.isArray(value)) {\n      configure(combined, value);\n    } else {\n      extension(combined, value);\n    }\n  }\n}\n\n/**\n * @param {Config} combined\n * @param {Extension} extension\n * @returns {undefined}\n */\nfunction extension(combined, extension) {\n  /** @type {keyof Extension} */\n  let key;\n  for (key in extension) {\n    if (own.call(extension, key)) {\n      switch (key) {\n        case 'canContainEols':\n          {\n            const right = extension[key];\n            if (right) {\n              combined[key].push(...right);\n            }\n            break;\n          }\n        case 'transforms':\n          {\n            const right = extension[key];\n            if (right) {\n              combined[key].push(...right);\n            }\n            break;\n          }\n        case 'enter':\n        case 'exit':\n          {\n            const right = extension[key];\n            if (right) {\n              Object.assign(combined[key], right);\n            }\n            break;\n          }\n        // No default\n      }\n    }\n  }\n}\n\n/** @type {OnEnterError} */\nfunction defaultOnError(left, right) {\n  if (left) {\n    throw new Error('Cannot close `' + left.type + '` (' + stringifyPosition({\n      start: left.start,\n      end: left.end\n    }) + '): a different token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is open');\n  } else {\n    throw new Error('Cannot close document, a token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is still open');\n  }\n}","/**\n * @import {Event} from 'micromark-util-types'\n */\n\nimport { subtokenize } from 'micromark-util-subtokenize';\n\n/**\n * @param {Array<Event>} events\n *   Events.\n * @returns {Array<Event>}\n *   Events.\n */\nexport function postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n  return events;\n}","/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast-util-from-markdown').Options} FromMarkdownOptions\n * @typedef {import('unified').Parser<Root>} Parser\n * @typedef {import('unified').Processor<Root>} Processor\n */\n\n/**\n * @typedef {Omit<FromMarkdownOptions, 'extensions' | 'mdastExtensions'>} Options\n */\n\nimport {fromMarkdown} from 'mdast-util-from-markdown'\n\n/**\n * Aadd support for parsing from markdown.\n *\n * @param {Readonly<Options> | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nexport default function remarkParse(options) {\n  /** @type {Processor} */\n  // @ts-expect-error: TS in JSDoc generates wrong types if `this` is typed regularly.\n  const self = this\n\n  self.parser = parser\n\n  /**\n   * @type {Parser}\n   */\n  function parser(doc) {\n    return fromMarkdown(doc, {\n      ...self.data('settings'),\n      ...options,\n      // Note: these options are not in the readme.\n      // The goal is for them to be set by plugins on `data` instead of being\n      // passed by users.\n      extensions: self.data('micromarkExtensions') || [],\n      mdastExtensions: self.data('fromMarkdownExtensions') || []\n    })\n  }\n}\n","/**\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('mdast').Nodes} Nodes\n * @typedef {import('mdast').Reference} Reference\n *\n * @typedef {import('./state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Return the content of a reference without definition as plain text.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Extract<Nodes, Reference>} node\n *   Reference node (image, link).\n * @returns {Array<ElementContent>}\n *   hast content.\n */\nexport function revert(state, node) {\n  const subtype = node.referenceType\n  let suffix = ']'\n\n  if (subtype === 'collapsed') {\n    suffix += '[]'\n  } else if (subtype === 'full') {\n    suffix += '[' + (node.label || node.identifier) + ']'\n  }\n\n  if (node.type === 'imageReference') {\n    return [{type: 'text', value: '![' + node.alt + suffix}]\n  }\n\n  const contents = state.all(node)\n  const head = contents[0]\n\n  if (head && head.type === 'text') {\n    head.value = '[' + head.value\n  } else {\n    contents.unshift({type: 'text', value: '['})\n  }\n\n  const tail = contents[contents.length - 1]\n\n  if (tail && tail.type === 'text') {\n    tail.value += suffix\n  } else {\n    contents.push({type: 'text', value: suffix})\n  }\n\n  return contents\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `listItem` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ListItem} node\n *   mdast node.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function listItem(state, node, parent) {\n  const results = state.all(node)\n  const loose = parent ? listLoose(parent) : listItemLoose(node)\n  /** @type {Properties} */\n  const properties = {}\n  /** @type {Array<ElementContent>} */\n  const children = []\n\n  if (typeof node.checked === 'boolean') {\n    const head = results[0]\n    /** @type {Element} */\n    let paragraph\n\n    if (head && head.type === 'element' && head.tagName === 'p') {\n      paragraph = head\n    } else {\n      paragraph = {type: 'element', tagName: 'p', properties: {}, children: []}\n      results.unshift(paragraph)\n    }\n\n    if (paragraph.children.length > 0) {\n      paragraph.children.unshift({type: 'text', value: ' '})\n    }\n\n    paragraph.children.unshift({\n      type: 'element',\n      tagName: 'input',\n      properties: {type: 'checkbox', checked: node.checked, disabled: true},\n      children: []\n    })\n\n    // According to github-markdown-css, this class hides bullet.\n    // See: <https://github.com/sindresorhus/github-markdown-css>.\n    properties.className = ['task-list-item']\n  }\n\n  let index = -1\n\n  while (++index < results.length) {\n    const child = results[index]\n\n    // Add eols before nodes, except if this is a loose, first paragraph.\n    if (\n      loose ||\n      index !== 0 ||\n      child.type !== 'element' ||\n      child.tagName !== 'p'\n    ) {\n      children.push({type: 'text', value: '\\n'})\n    }\n\n    if (child.type === 'element' && child.tagName === 'p' && !loose) {\n      children.push(...child.children)\n    } else {\n      children.push(child)\n    }\n  }\n\n  const tail = results[results.length - 1]\n\n  // Add a final eol.\n  if (tail && (loose || tail.type !== 'element' || tail.tagName !== 'p')) {\n    children.push({type: 'text', value: '\\n'})\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'li', properties, children}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * @param {Parents} node\n * @return {Boolean}\n */\nfunction listLoose(node) {\n  let loose = false\n  if (node.type === 'list') {\n    loose = node.spread || false\n    const children = node.children\n    let index = -1\n\n    while (!loose && ++index < children.length) {\n      loose = listItemLoose(children[index])\n    }\n  }\n\n  return loose\n}\n\n/**\n * @param {ListItem} node\n * @return {Boolean}\n */\nfunction listItemLoose(node) {\n  const spread = node.spread\n\n  return spread === null || spread === undefined\n    ? node.children.length > 1\n    : spread\n}\n","const tab = 9 /* `\\t` */\nconst space = 32 /* ` ` */\n\n/**\n * Remove initial and final spaces and tabs at the line breaks in `value`.\n * Does not trim initial and final spaces and tabs of the value itself.\n *\n * @param {string} value\n *   Value to trim.\n * @returns {string}\n *   Trimmed value.\n */\nexport function trimLines(value) {\n  const source = String(value)\n  const search = /\\r?\\n|\\r/g\n  let match = search.exec(source)\n  let last = 0\n  /** @type {Array<string>} */\n  const lines = []\n\n  while (match) {\n    lines.push(\n      trimLine(source.slice(last, match.index), last > 0, true),\n      match[0]\n    )\n\n    last = match.index + match[0].length\n    match = search.exec(source)\n  }\n\n  lines.push(trimLine(source.slice(last), last > 0, false))\n\n  return lines.join('')\n}\n\n/**\n * @param {string} value\n *   Line to trim.\n * @param {boolean} start\n *   Whether to trim the start of the line.\n * @param {boolean} end\n *   Whether to trim the end of the line.\n * @returns {string}\n *   Trimmed line.\n */\nfunction trimLine(value, start, end) {\n  let startIndex = 0\n  let endIndex = value.length\n\n  if (start) {\n    let code = value.codePointAt(startIndex)\n\n    while (code === tab || code === space) {\n      startIndex++\n      code = value.codePointAt(startIndex)\n    }\n  }\n\n  if (end) {\n    let code = value.codePointAt(endIndex - 1)\n\n    while (code === tab || code === space) {\n      endIndex--\n      code = value.codePointAt(endIndex - 1)\n    }\n  }\n\n  return endIndex > startIndex ? value.slice(startIndex, endIndex) : ''\n}\n","import {blockquote} from './blockquote.js'\nimport {hardBreak} from './break.js'\nimport {code} from './code.js'\nimport {strikethrough} from './delete.js'\nimport {emphasis} from './emphasis.js'\nimport {footnoteReference} from './footnote-reference.js'\nimport {heading} from './heading.js'\nimport {html} from './html.js'\nimport {imageReference} from './image-reference.js'\nimport {image} from './image.js'\nimport {inlineCode} from './inline-code.js'\nimport {linkReference} from './link-reference.js'\nimport {link} from './link.js'\nimport {listItem} from './list-item.js'\nimport {list} from './list.js'\nimport {paragraph} from './paragraph.js'\nimport {root} from './root.js'\nimport {strong} from './strong.js'\nimport {table} from './table.js'\nimport {tableRow} from './table-row.js'\nimport {tableCell} from './table-cell.js'\nimport {text} from './text.js'\nimport {thematicBreak} from './thematic-break.js'\n\n/**\n * Default handlers for nodes.\n *\n * @satisfies {import('../state.js').Handlers}\n */\nexport const handlers = {\n  blockquote,\n  break: hardBreak,\n  code,\n  delete: strikethrough,\n  emphasis,\n  footnoteReference,\n  heading,\n  html,\n  imageReference,\n  image,\n  inlineCode,\n  linkReference,\n  link,\n  listItem,\n  list,\n  paragraph,\n  // @ts-expect-error: root is different, but hard to type.\n  root,\n  strong,\n  table,\n  tableCell,\n  tableRow,\n  text,\n  thematicBreak,\n  toml: ignore,\n  yaml: ignore,\n  definition: ignore,\n  footnoteDefinition: ignore\n}\n\n// Return nothing for nodes that are ignored.\nfunction ignore() {\n  return undefined\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Blockquote} Blockquote\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `blockquote` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Blockquote} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function blockquote(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'blockquote',\n    properties: {},\n    children: state.wrap(state.all(node), true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').Break} Break\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `break` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Break} node\n *   mdast node.\n * @returns {Array<Element | Text>}\n *   hast element content.\n */\nexport function hardBreak(state, node) {\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'br', properties: {}, children: []}\n  state.patch(node, result)\n  return [state.applyData(node, result), {type: 'text', value: '\\n'}]\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Code} Code\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `code` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Code} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function code(state, node) {\n  const value = node.value ? node.value + '\\n' : ''\n  /** @type {Properties} */\n  const properties = {}\n\n  if (node.lang) {\n    properties.className = ['language-' + node.lang]\n  }\n\n  // Create `<code>`.\n  /** @type {Element} */\n  let result = {\n    type: 'element',\n    tagName: 'code',\n    properties,\n    children: [{type: 'text', value}]\n  }\n\n  if (node.meta) {\n    result.data = {meta: node.meta}\n  }\n\n  state.patch(node, result)\n  result = state.applyData(node, result)\n\n  // Create `<pre>`.\n  result = {type: 'element', tagName: 'pre', properties: {}, children: [result]}\n  state.patch(node, result)\n  return result\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Delete} Delete\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `delete` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Delete} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strikethrough(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'del',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Emphasis} Emphasis\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `emphasis` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Emphasis} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function emphasis(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'em',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').FootnoteReference} FootnoteReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `footnoteReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {FootnoteReference} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function footnoteReference(state, node) {\n  const clobberPrefix =\n    typeof state.options.clobberPrefix === 'string'\n      ? state.options.clobberPrefix\n      : 'user-content-'\n  const id = String(node.identifier).toUpperCase()\n  const safeId = normalizeUri(id.toLowerCase())\n  const index = state.footnoteOrder.indexOf(id)\n  /** @type {number} */\n  let counter\n\n  let reuseCounter = state.footnoteCounts.get(id)\n\n  if (reuseCounter === undefined) {\n    reuseCounter = 0\n    state.footnoteOrder.push(id)\n    counter = state.footnoteOrder.length\n  } else {\n    counter = index + 1\n  }\n\n  reuseCounter += 1\n  state.footnoteCounts.set(id, reuseCounter)\n\n  /** @type {Element} */\n  const link = {\n    type: 'element',\n    tagName: 'a',\n    properties: {\n      href: '#' + clobberPrefix + 'fn-' + safeId,\n      id:\n        clobberPrefix +\n        'fnref-' +\n        safeId +\n        (reuseCounter > 1 ? '-' + reuseCounter : ''),\n      dataFootnoteRef: true,\n      ariaDescribedBy: ['footnote-label']\n    },\n    children: [{type: 'text', value: String(counter)}]\n  }\n  state.patch(node, link)\n\n  /** @type {Element} */\n  const sup = {\n    type: 'element',\n    tagName: 'sup',\n    properties: {},\n    children: [link]\n  }\n  state.patch(node, sup)\n  return state.applyData(node, sup)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `heading` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Heading} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function heading(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'h' + node.depth,\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Html} Html\n * @typedef {import('../state.js').State} State\n * @typedef {import('../../index.js').Raw} Raw\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `html` node into hast (`raw` node in dangerous mode, otherwise\n * nothing).\n *\n * @param {State} state\n *   Info passed around.\n * @param {Html} node\n *   mdast node.\n * @returns {Element | Raw | undefined}\n *   hast node.\n */\nexport function html(state, node) {\n  if (state.options.allowDangerousHtml) {\n    /** @type {Raw} */\n    const result = {type: 'raw', value: node.value}\n    state.patch(node, result)\n    return state.applyData(node, result)\n  }\n\n  return undefined\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').ImageReference} ImageReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `imageReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ImageReference} node\n *   mdast node.\n * @returns {Array<ElementContent> | ElementContent}\n *   hast node.\n */\nexport function imageReference(state, node) {\n  const id = String(node.identifier).toUpperCase()\n  const definition = state.definitionById.get(id)\n\n  if (!definition) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(definition.url || ''), alt: node.alt}\n\n  if (definition.title !== null && definition.title !== undefined) {\n    properties.title = definition.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Image} Image\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `image` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Image} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function image(state, node) {\n  /** @type {Properties} */\n  const properties = {src: normalizeUri(node.url)}\n\n  if (node.alt !== null && node.alt !== undefined) {\n    properties.alt = node.alt\n  }\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {type: 'element', tagName: 'img', properties, children: []}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Text} Text\n * @typedef {import('mdast').InlineCode} InlineCode\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `inlineCode` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {InlineCode} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function inlineCode(state, node) {\n  /** @type {Text} */\n  const text = {type: 'text', value: node.value.replace(/\\r?\\n|\\r/g, ' ')}\n  state.patch(node, text)\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'code',\n    properties: {},\n    children: [text]\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').LinkReference} LinkReference\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\nimport {revert} from '../revert.js'\n\n/**\n * Turn an mdast `linkReference` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {LinkReference} node\n *   mdast node.\n * @returns {Array<ElementContent> | ElementContent}\n *   hast node.\n */\nexport function linkReference(state, node) {\n  const id = String(node.identifier).toUpperCase()\n  const definition = state.definitionById.get(id)\n\n  if (!definition) {\n    return revert(state, node)\n  }\n\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(definition.url || '')}\n\n  if (definition.title !== null && definition.title !== undefined) {\n    properties.title = definition.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Link} Link\n * @typedef {import('../state.js').State} State\n */\n\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Turn an mdast `link` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Link} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function link(state, node) {\n  /** @type {Properties} */\n  const properties = {href: normalizeUri(node.url)}\n\n  if (node.title !== null && node.title !== undefined) {\n    properties.title = node.title\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'a',\n    properties,\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').List} List\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `list` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {List} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function list(state, node) {\n  /** @type {Properties} */\n  const properties = {}\n  const results = state.all(node)\n  let index = -1\n\n  if (typeof node.start === 'number' && node.start !== 1) {\n    properties.start = node.start\n  }\n\n  // Like GitHub, add a class for custom styling.\n  while (++index < results.length) {\n    const child = results[index]\n\n    if (\n      child.type === 'element' &&\n      child.tagName === 'li' &&\n      child.properties &&\n      Array.isArray(child.properties.className) &&\n      child.properties.className.includes('task-list-item')\n    ) {\n      properties.className = ['contains-task-list']\n      break\n    }\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: node.ordered ? 'ol' : 'ul',\n    properties,\n    children: state.wrap(results, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `paragraph` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Paragraph} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function paragraph(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'p',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Parents} HastParents\n * @typedef {import('hast').Root} HastRoot\n * @typedef {import('mdast').Root} MdastRoot\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `root` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastRoot} node\n *   mdast node.\n * @returns {HastParents}\n *   hast node.\n */\nexport function root(state, node) {\n  /** @type {HastRoot} */\n  const result = {type: 'root', children: state.wrap(state.all(node))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Strong} Strong\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `strong` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Strong} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function strong(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'strong',\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').Table} Table\n * @typedef {import('../state.js').State} State\n */\n\nimport {pointEnd, pointStart} from 'unist-util-position'\n\n/**\n * Turn an mdast `table` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Table} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function table(state, node) {\n  const rows = state.all(node)\n  const firstRow = rows.shift()\n  /** @type {Array<Element>} */\n  const tableContent = []\n\n  if (firstRow) {\n    /** @type {Element} */\n    const head = {\n      type: 'element',\n      tagName: 'thead',\n      properties: {},\n      children: state.wrap([firstRow], true)\n    }\n    state.patch(node.children[0], head)\n    tableContent.push(head)\n  }\n\n  if (rows.length > 0) {\n    /** @type {Element} */\n    const body = {\n      type: 'element',\n      tagName: 'tbody',\n      properties: {},\n      children: state.wrap(rows, true)\n    }\n\n    const start = pointStart(node.children[1])\n    const end = pointEnd(node.children[node.children.length - 1])\n    if (start && end) body.position = {start, end}\n    tableContent.push(body)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'table',\n    properties: {},\n    children: state.wrap(tableContent, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `tableCell` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableCell} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function tableCell(state, node) {\n  // Note: this function is normally not called: see `table-row` for how rows\n  // and their cells are compiled.\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'td', // Assume body cell.\n    properties: {},\n    children: state.all(node)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('mdast').TableRow} TableRow\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `tableRow` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableRow} node\n *   mdast node.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function tableRow(state, node, parent) {\n  const siblings = parent ? parent.children : undefined\n  // Generate a body row when without parent.\n  const rowIndex = siblings ? siblings.indexOf(node) : 1\n  const tagName = rowIndex === 0 ? 'th' : 'td'\n  // To do: option to use `style`?\n  const align = parent && parent.type === 'table' ? parent.align : undefined\n  const length = align ? align.length : node.children.length\n  let cellIndex = -1\n  /** @type {Array<ElementContent>} */\n  const cells = []\n\n  while (++cellIndex < length) {\n    // Note: can also be undefined.\n    const cell = node.children[cellIndex]\n    /** @type {Properties} */\n    const properties = {}\n    const alignValue = align ? align[cellIndex] : undefined\n\n    if (alignValue) {\n      properties.align = alignValue\n    }\n\n    /** @type {Element} */\n    let result = {type: 'element', tagName, properties, children: []}\n\n    if (cell) {\n      result.children = state.all(cell)\n      state.patch(cell, result)\n      result = state.applyData(cell, result)\n    }\n\n    cells.push(result)\n  }\n\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'tr',\n    properties: {},\n    children: state.wrap(cells, true)\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').Text} HastText\n * @typedef {import('mdast').Text} MdastText\n * @typedef {import('../state.js').State} State\n */\n\nimport {trimLines} from 'trim-lines'\n\n/**\n * Turn an mdast `text` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastText} node\n *   mdast node.\n * @returns {HastElement | HastText}\n *   hast node.\n */\nexport function text(state, node) {\n  /** @type {HastText} */\n  const result = {type: 'text', value: trimLines(String(node.value))}\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('mdast').ThematicBreak} ThematicBreak\n * @typedef {import('../state.js').State} State\n */\n\n// Make VS Code show references to the above types.\n''\n\n/**\n * Turn an mdast `thematicBreak` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {ThematicBreak} node\n *   mdast node.\n * @returns {Element}\n *   hast node.\n */\nexport function thematicBreak(state, node) {\n  /** @type {Element} */\n  const result = {\n    type: 'element',\n    tagName: 'hr',\n    properties: {},\n    children: []\n  }\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n","export const VOID       = -1;\nexport const PRIMITIVE  = 0;\nexport const ARRAY      = 1;\nexport const OBJECT     = 2;\nexport const DATE       = 3;\nexport const REGEXP     = 4;\nexport const MAP        = 5;\nexport const SET        = 6;\nexport const ERROR      = 7;\nexport const BIGINT     = 8;\n// export const SYMBOL = 9;\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst EMPTY = '';\n\nconst {toString} = {};\nconst {keys} = Object;\n\nconst typeOf = value => {\n  const type = typeof value;\n  if (type !== 'object' || !value)\n    return [PRIMITIVE, type];\n\n  const asString = toString.call(value).slice(8, -1);\n  switch (asString) {\n    case 'Array':\n      return [ARRAY, EMPTY];\n    case 'Object':\n      return [OBJECT, EMPTY];\n    case 'Date':\n      return [DATE, EMPTY];\n    case 'RegExp':\n      return [REGEXP, EMPTY];\n    case 'Map':\n      return [MAP, EMPTY];\n    case 'Set':\n      return [SET, EMPTY];\n  }\n\n  if (asString.includes('Array'))\n    return [ARRAY, asString];\n\n  if (asString.includes('Error'))\n    return [ERROR, asString];\n\n  return [OBJECT, asString];\n};\n\nconst shouldSkip = ([TYPE, type]) => (\n  TYPE === PRIMITIVE &&\n  (type === 'function' || type === 'symbol')\n);\n\nconst serializer = (strict, json, $, _) => {\n\n  const as = (out, value) => {\n    const index = _.push(out) - 1;\n    $.set(value, index);\n    return index;\n  };\n\n  const pair = value => {\n    if ($.has(value))\n      return $.get(value);\n\n    let [TYPE, type] = typeOf(value);\n    switch (TYPE) {\n      case PRIMITIVE: {\n        let entry = value;\n        switch (type) {\n          case 'bigint':\n            TYPE = BIGINT;\n            entry = value.toString();\n            break;\n          case 'function':\n          case 'symbol':\n            if (strict)\n              throw new TypeError('unable to serialize ' + type);\n            entry = null;\n            break;\n          case 'undefined':\n            return as([VOID], value);\n        }\n        return as([TYPE, entry], value);\n      }\n      case ARRAY: {\n        if (type)\n          return as([type, [...value]], value);\n  \n        const arr = [];\n        const index = as([TYPE, arr], value);\n        for (const entry of value)\n          arr.push(pair(entry));\n        return index;\n      }\n      case OBJECT: {\n        if (type) {\n          switch (type) {\n            case 'BigInt':\n              return as([type, value.toString()], value);\n            case 'Boolean':\n            case 'Number':\n            case 'String':\n              return as([type, value.valueOf()], value);\n          }\n        }\n\n        if (json && ('toJSON' in value))\n          return pair(value.toJSON());\n\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const key of keys(value)) {\n          if (strict || !shouldSkip(typeOf(value[key])))\n            entries.push([pair(key), pair(value[key])]);\n        }\n        return index;\n      }\n      case DATE:\n        return as([TYPE, value.toISOString()], value);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as([TYPE, {source, flags}], value);\n      }\n      case MAP: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const [key, entry] of value) {\n          if (strict || !(shouldSkip(typeOf(key)) || shouldSkip(typeOf(entry))))\n            entries.push([pair(key), pair(entry)]);\n        }\n        return index;\n      }\n      case SET: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const entry of value) {\n          if (strict || !shouldSkip(typeOf(entry)))\n            entries.push(pair(entry));\n        }\n        return index;\n      }\n    }\n\n    const {message} = value;\n    return as([TYPE, {name: type, message}], value);\n  };\n\n  return pair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} value a serializable value.\n * @param {{json?: boolean, lossy?: boolean}?} options an object with a `lossy` or `json` property that,\n *  if `true`, will not throw errors on incompatible types, and behave more\n *  like JSON stringify would behave. Symbol and Function will be discarded.\n * @returns {Record[]}\n */\n export const serialize = (value, {json, lossy} = {}) => {\n  const _ = [];\n  return serializer(!(json || lossy), !!json, new Map, _)(value), _;\n};\n","import {deserialize} from './deserialize.js';\nimport {serialize} from './serialize.js';\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} any a serializable value.\n * @param {{transfer?: any[], json?: boolean, lossy?: boolean}?} options an object with\n * a transfer option (ignored when polyfilled) and/or non standard fields that\n * fallback to the polyfill if present.\n * @returns {Record[]}\n */\nexport default typeof structuredClone === \"function\" ?\n  /* c8 ignore start */\n  (any, options) => (\n    options && ('json' in options || 'lossy' in options) ?\n      deserialize(serialize(any, options)) : structuredClone(any)\n  ) :\n  (any, options) => deserialize(serialize(any, options));\n  /* c8 ignore stop */\n\nexport {deserialize, serialize};\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n *\n * @typedef {import('./state.js').State} State\n */\n\n/**\n * @callback FootnoteBackContentTemplate\n *   Generate content for the backreference dynamically.\n *\n *   For the following markdown:\n *\n *   ```markdown\n *   Alpha[^micromark], bravo[^micromark], and charlie[^remark].\n *\n *   [^remark]: things about remark\n *   [^micromark]: things about micromark\n *   ```\n *\n *   This function will be called with:\n *\n *   *  `0` and `0` for the backreference from `things about micromark` to\n *      `alpha`, as it is the first used definition, and the first call to it\n *   *  `0` and `1` for the backreference from `things about micromark` to\n *      `bravo`, as it is the first used definition, and the second call to it\n *   *  `1` and `0` for the backreference from `things about remark` to\n *      `charlie`, as it is the second used definition\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {Array<ElementContent> | ElementContent | string}\n *   Content for the backreference when linking back from definitions to their\n *   reference.\n *\n * @callback FootnoteBackLabelTemplate\n *   Generate a back label dynamically.\n *\n *   For the following markdown:\n *\n *   ```markdown\n *   Alpha[^micromark], bravo[^micromark], and charlie[^remark].\n *\n *   [^remark]: things about remark\n *   [^micromark]: things about micromark\n *   ```\n *\n *   This function will be called with:\n *\n *   *  `0` and `0` for the backreference from `things about micromark` to\n *      `alpha`, as it is the first used definition, and the first call to it\n *   *  `0` and `1` for the backreference from `things about micromark` to\n *      `bravo`, as it is the first used definition, and the second call to it\n *   *  `1` and `0` for the backreference from `things about remark` to\n *      `charlie`, as it is the second used definition\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {string}\n *   Back label to use when linking back from definitions to their reference.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {normalizeUri} from 'micromark-util-sanitize-uri'\n\n/**\n * Generate the default content that GitHub uses on backreferences.\n *\n * @param {number} _\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {Array<ElementContent>}\n *   Content.\n */\nexport function defaultFootnoteBackContent(_, rereferenceIndex) {\n  /** @type {Array<ElementContent>} */\n  const result = [{type: 'text', value: ''}]\n\n  if (rereferenceIndex > 1) {\n    result.push({\n      type: 'element',\n      tagName: 'sup',\n      properties: {},\n      children: [{type: 'text', value: String(rereferenceIndex)}]\n    })\n  }\n\n  return result\n}\n\n/**\n * Generate the default label that GitHub uses on backreferences.\n *\n * @param {number} referenceIndex\n *   Index of the definition in the order that they are first referenced,\n *   0-indexed.\n * @param {number} rereferenceIndex\n *   Index of calls to the same definition, 0-indexed.\n * @returns {string}\n *   Label.\n */\nexport function defaultFootnoteBackLabel(referenceIndex, rereferenceIndex) {\n  return (\n    'Back to reference ' +\n    (referenceIndex + 1) +\n    (rereferenceIndex > 1 ? '-' + rereferenceIndex : '')\n  )\n}\n\n/**\n * Generate a hast footer for called footnote definitions.\n *\n * @param {State} state\n *   Info passed around.\n * @returns {Element | undefined}\n *   `section` element or `undefined`.\n */\n// eslint-disable-next-line complexity\nexport function footer(state) {\n  const clobberPrefix =\n    typeof state.options.clobberPrefix === 'string'\n      ? state.options.clobberPrefix\n      : 'user-content-'\n  const footnoteBackContent =\n    state.options.footnoteBackContent || defaultFootnoteBackContent\n  const footnoteBackLabel =\n    state.options.footnoteBackLabel || defaultFootnoteBackLabel\n  const footnoteLabel = state.options.footnoteLabel || 'Footnotes'\n  const footnoteLabelTagName = state.options.footnoteLabelTagName || 'h2'\n  const footnoteLabelProperties = state.options.footnoteLabelProperties || {\n    className: ['sr-only']\n  }\n  /** @type {Array<ElementContent>} */\n  const listItems = []\n  let referenceIndex = -1\n\n  while (++referenceIndex < state.footnoteOrder.length) {\n    const definition = state.footnoteById.get(\n      state.footnoteOrder[referenceIndex]\n    )\n\n    if (!definition) {\n      continue\n    }\n\n    const content = state.all(definition)\n    const id = String(definition.identifier).toUpperCase()\n    const safeId = normalizeUri(id.toLowerCase())\n    let rereferenceIndex = 0\n    /** @type {Array<ElementContent>} */\n    const backReferences = []\n    const counts = state.footnoteCounts.get(id)\n\n    // eslint-disable-next-line no-unmodified-loop-condition\n    while (counts !== undefined && ++rereferenceIndex <= counts) {\n      if (backReferences.length > 0) {\n        backReferences.push({type: 'text', value: ' '})\n      }\n\n      let children =\n        typeof footnoteBackContent === 'string'\n          ? footnoteBackContent\n          : footnoteBackContent(referenceIndex, rereferenceIndex)\n\n      if (typeof children === 'string') {\n        children = {type: 'text', value: children}\n      }\n\n      backReferences.push({\n        type: 'element',\n        tagName: 'a',\n        properties: {\n          href:\n            '#' +\n            clobberPrefix +\n            'fnref-' +\n            safeId +\n            (rereferenceIndex > 1 ? '-' + rereferenceIndex : ''),\n          dataFootnoteBackref: '',\n          ariaLabel:\n            typeof footnoteBackLabel === 'string'\n              ? footnoteBackLabel\n              : footnoteBackLabel(referenceIndex, rereferenceIndex),\n          className: ['data-footnote-backref']\n        },\n        children: Array.isArray(children) ? children : [children]\n      })\n    }\n\n    const tail = content[content.length - 1]\n\n    if (tail && tail.type === 'element' && tail.tagName === 'p') {\n      const tailTail = tail.children[tail.children.length - 1]\n      if (tailTail && tailTail.type === 'text') {\n        tailTail.value += ' '\n      } else {\n        tail.children.push({type: 'text', value: ' '})\n      }\n\n      tail.children.push(...backReferences)\n    } else {\n      content.push(...backReferences)\n    }\n\n    /** @type {Element} */\n    const listItem = {\n      type: 'element',\n      tagName: 'li',\n      properties: {id: clobberPrefix + 'fn-' + safeId},\n      children: state.wrap(content, true)\n    }\n\n    state.patch(definition, listItem)\n\n    listItems.push(listItem)\n  }\n\n  if (listItems.length === 0) {\n    return\n  }\n\n  return {\n    type: 'element',\n    tagName: 'section',\n    properties: {dataFootnotes: true, className: ['footnotes']},\n    children: [\n      {\n        type: 'element',\n        tagName: footnoteLabelTagName,\n        properties: {\n          ...structuredClone(footnoteLabelProperties),\n          id: 'footnote-label'\n        },\n        children: [{type: 'text', value: footnoteLabel}]\n      },\n      {type: 'text', value: '\\n'},\n      {\n        type: 'element',\n        tagName: 'ol',\n        properties: {},\n        children: state.wrap(listItems, true)\n      },\n      {type: 'text', value: '\\n'}\n    ]\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n */\n\n/**\n * @template Fn\n * @template Fallback\n * @typedef {Fn extends (value: any) => value is infer Thing ? Thing : Fallback} Predicate\n */\n\n/**\n * @callback Check\n *   Check that an arbitrary value is a node.\n * @param {unknown} this\n *   The given context.\n * @param {unknown} [node]\n *   Anything (typically a node).\n * @param {number | null | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean}\n *   Whether this is a node and passes a test.\n *\n * @typedef {Record<string, unknown> | Node} Props\n *   Object to check for equivalence.\n *\n *   Note: `Node` is included as it is common but is not indexable.\n *\n * @typedef {Array<Props | TestFunction | string> | Props | TestFunction | string | null | undefined} Test\n *   Check for an arbitrary node.\n *\n * @callback TestFunction\n *   Check if a node passes a test.\n * @param {unknown} this\n *   The given context.\n * @param {Node} node\n *   A node.\n * @param {number | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean | undefined | void}\n *   Whether this node passes the test.\n *\n *   Note: `void` is included until TS sees no return as `undefined`.\n */\n\n/**\n * Check if `node` is a `Node` and whether it passes the given test.\n *\n * @param {unknown} node\n *   Thing to check, typically `Node`.\n * @param {Test} test\n *   A check for a specific node.\n * @param {number | null | undefined} index\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} parent\n *   The nodes parent.\n * @param {unknown} context\n *   Context object (`this`) to pass to `test` functions.\n * @returns {boolean}\n *   Whether `node` is a node and passes a test.\n */\nexport const is =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((node?: null | undefined) => false) &\n   *   ((node: unknown, test?: null | undefined, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((node: unknown, test?: Test, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => boolean)\n   * )}\n   */\n  (\n    /**\n     * @param {unknown} [node]\n     * @param {Test} [test]\n     * @param {number | null | undefined} [index]\n     * @param {Parent | null | undefined} [parent]\n     * @param {unknown} [context]\n     * @returns {boolean}\n     */\n    // eslint-disable-next-line max-params\n    function (node, test, index, parent, context) {\n      const check = convert(test)\n\n      if (\n        index !== undefined &&\n        index !== null &&\n        (typeof index !== 'number' ||\n          index < 0 ||\n          index === Number.POSITIVE_INFINITY)\n      ) {\n        throw new Error('Expected positive finite index')\n      }\n\n      if (\n        parent !== undefined &&\n        parent !== null &&\n        (!is(parent) || !parent.children)\n      ) {\n        throw new Error('Expected parent node')\n      }\n\n      if (\n        (parent === undefined || parent === null) !==\n        (index === undefined || index === null)\n      ) {\n        throw new Error('Expected both parent and index')\n      }\n\n      return looksLikeANode(node)\n        ? check.call(context, node, index, parent)\n        : false\n    }\n  )\n\n/**\n * Generate an assertion from a test.\n *\n * Useful if youre going to test many nodes, for example when creating a\n * utility where something else passes a compatible test.\n *\n * The created function is a bit faster because it expects valid input only:\n * a `node`, `index`, and `parent`.\n *\n * @param {Test} test\n *   *   when nullish, checks if `node` is a `Node`.\n *   *   when `string`, works like passing `(node) => node.type === test`.\n *   *   when `function` checks if function passed the node is true.\n *   *   when `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n *   *   when `array`, checks if any one of the subtests pass.\n * @returns {Check}\n *   An assertion.\n */\nexport const convert =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((test?: null | undefined) => (node?: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((test?: Test) => Check)\n   * )}\n   */\n  (\n    /**\n     * @param {Test} [test]\n     * @returns {Check}\n     */\n    function (test) {\n      if (test === null || test === undefined) {\n        return ok\n      }\n\n      if (typeof test === 'function') {\n        return castFactory(test)\n      }\n\n      if (typeof test === 'object') {\n        return Array.isArray(test) ? anyFactory(test) : propsFactory(test)\n      }\n\n      if (typeof test === 'string') {\n        return typeFactory(test)\n      }\n\n      throw new Error('Expected function, string, or object as test')\n    }\n  )\n\n/**\n * @param {Array<Props | TestFunction | string>} tests\n * @returns {Check}\n */\nfunction anyFactory(tests) {\n  /** @type {Array<Check>} */\n  const checks = []\n  let index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return castFactory(any)\n\n  /**\n   * @this {unknown}\n   * @type {TestFunction}\n   */\n  function any(...parameters) {\n    let index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, parameters)) return true\n    }\n\n    return false\n  }\n}\n\n/**\n * Turn an object into a test for a node with a certain fields.\n *\n * @param {Props} check\n * @returns {Check}\n */\nfunction propsFactory(check) {\n  const checkAsRecord = /** @type {Record<string, unknown>} */ (check)\n\n  return castFactory(all)\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function all(node) {\n    const nodeAsRecord = /** @type {Record<string, unknown>} */ (\n      /** @type {unknown} */ (node)\n    )\n\n    /** @type {string} */\n    let key\n\n    for (key in check) {\n      if (nodeAsRecord[key] !== checkAsRecord[key]) return false\n    }\n\n    return true\n  }\n}\n\n/**\n * Turn a string into a test for a node with a certain type.\n *\n * @param {string} check\n * @returns {Check}\n */\nfunction typeFactory(check) {\n  return castFactory(type)\n\n  /**\n   * @param {Node} node\n   */\n  function type(node) {\n    return node && node.type === check\n  }\n}\n\n/**\n * Turn a custom test into a test for a node that passes that test.\n *\n * @param {TestFunction} testFunction\n * @returns {Check}\n */\nfunction castFactory(testFunction) {\n  return check\n\n  /**\n   * @this {unknown}\n   * @type {Check}\n   */\n  function check(value, index, parent) {\n    return Boolean(\n      looksLikeANode(value) &&\n        testFunction.call(\n          this,\n          value,\n          typeof index === 'number' ? index : undefined,\n          parent || undefined\n        )\n    )\n  }\n}\n\nfunction ok() {\n  return true\n}\n\n/**\n * @param {unknown} value\n * @returns {value is Node}\n */\nfunction looksLikeANode(value) {\n  return value !== null && typeof value === 'object' && 'type' in value\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {InternalAncestor<InclusiveDescendant<Tree>, Child>} Ancestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {'skip' | boolean} Action\n *   Union of the action types.\n *\n * @typedef {number} Index\n *   Move to the sibling at `index` next (after node itself is completely\n *   traversed).\n *\n *   Useful if mutating the tree, such as removing the node the visitor is\n *   currently on, or any of its previous siblings.\n *   Results less than 0 or greater than or equal to `children.length` stop\n *   traversing the parent.\n *\n * @typedef {[(Action | null | undefined | void)?, (Index | null | undefined)?]} ActionTuple\n *   List with one or two values, the first an action, the second an index.\n *\n * @typedef {Action | ActionTuple | Index | null | undefined | void} VisitorResult\n *   Any value that can be returned from a visitor.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform the parent of node (the last of `ancestors`).\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of an ancestor still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Array<VisitedParents>} ancestors\n *   Ancestors of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [VisitedParents=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Matches<InclusiveDescendant<Tree>, Check>, Ancestor<Tree, Matches<InclusiveDescendant<Tree>, Check>>>} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parents`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Tree type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {convert} from 'unist-util-is'\nimport {color} from 'unist-util-visit-parents/do-not-use-color'\n\n/** @type {Readonly<ActionTuple>} */\nconst empty = []\n\n/**\n * Continue traversing as normal.\n */\nexport const CONTINUE = true\n\n/**\n * Stop traversing immediately.\n */\nexport const EXIT = false\n\n/**\n * Do not traverse this nodes children.\n */\nexport const SKIP = 'skip'\n\n/**\n * Visit nodes, with ancestral information.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} test\n *   `unist-util-is`-compatible test\n * @param {Visitor | boolean | null | undefined} [visitor]\n *   Handle each node.\n * @param {boolean | null | undefined} [reverse]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visitParents(tree, test, visitor, reverse) {\n  /** @type {Test} */\n  let check\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    // @ts-expect-error no visitor given, so `visitor` is test.\n    visitor = test\n  } else {\n    // @ts-expect-error visitor given, so `test` isnt a visitor.\n    check = test\n  }\n\n  const is = convert(check)\n  const step = reverse ? -1 : 1\n\n  factory(tree, undefined, [])()\n\n  /**\n   * @param {UnistNode} node\n   * @param {number | undefined} index\n   * @param {Array<UnistParent>} parents\n   */\n  function factory(node, index, parents) {\n    const value = /** @type {Record<string, unknown>} */ (\n      node && typeof node === 'object' ? node : {}\n    )\n\n    if (typeof value.type === 'string') {\n      const name =\n        // `hast`\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : // `xast`\n          typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      Object.defineProperty(visit, 'name', {\n        value:\n          'node (' + color(node.type + (name ? '<' + name + '>' : '')) + ')'\n      })\n    }\n\n    return visit\n\n    function visit() {\n      /** @type {Readonly<ActionTuple>} */\n      let result = empty\n      /** @type {Readonly<ActionTuple>} */\n      let subresult\n      /** @type {number} */\n      let offset\n      /** @type {Array<UnistParent>} */\n      let grandparents\n\n      if (!test || is(node, index, parents[parents.length - 1] || undefined)) {\n        // @ts-expect-error: `visitor` is now a visitor.\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if ('children' in node && node.children) {\n        const nodeAsParent = /** @type {UnistParent} */ (node)\n\n        if (nodeAsParent.children && result[0] !== SKIP) {\n          offset = (reverse ? nodeAsParent.children.length : -1) + step\n          grandparents = parents.concat(nodeAsParent)\n\n          while (offset > -1 && offset < nodeAsParent.children.length) {\n            const child = nodeAsParent.children[offset]\n\n            subresult = factory(child, offset, grandparents)()\n\n            if (subresult[0] === EXIT) {\n              return subresult\n            }\n\n            offset =\n              typeof subresult[1] === 'number' ? subresult[1] : offset + step\n          }\n        }\n      }\n\n      return result\n    }\n  }\n}\n\n/**\n * Turn a return value into a clean result.\n *\n * @param {VisitorResult} value\n *   Valid return values from visitors.\n * @returns {Readonly<ActionTuple>}\n *   Clean result.\n */\nfunction toResult(value) {\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return value === null || value === undefined ? empty : [value]\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n// To do: use types from `unist-util-visit-parents` when its released.\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform `parent`.\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of `parent` still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Visited extends UnistNode ? number | undefined : never} index\n *   Index of `node` in `parent`.\n * @param {Ancestor extends UnistParent ? Ancestor | undefined : never} parent\n *   Parent of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [Ancestor=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Visited, Parent<Ancestor, Visited>>} BuildVisitorFromMatch\n *   Build a typed `Visitor` function from a node and all possible parents.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Visited\n *   Node type.\n * @template {UnistParent} Ancestor\n *   Parent type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromMatch<\n *     Matches<Descendant, Check>,\n *     Extract<Descendant, UnistParent>\n *   >\n * )} BuildVisitorFromDescendants\n *   Build a typed `Visitor` function from a list of descendants and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Descendant\n *   Node type.\n * @template {Test} Check\n *   Test type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromDescendants<\n *     InclusiveDescendant<Tree>,\n *     Check\n *   >\n * )} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Node type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {visitParents} from 'unist-util-visit-parents'\n\nexport {CONTINUE, EXIT, SKIP} from 'unist-util-visit-parents'\n\n/**\n * Visit nodes.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} testOrVisitor\n *   `unist-util-is`-compatible test (optional, omit to pass a visitor).\n * @param {Visitor | boolean | null | undefined} [visitorOrReverse]\n *   Handle each node (when test is omitted, pass `reverse`).\n * @param {boolean | null | undefined} [maybeReverse=false]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visit(tree, testOrVisitor, visitorOrReverse, maybeReverse) {\n  /** @type {boolean | null | undefined} */\n  let reverse\n  /** @type {Test} */\n  let test\n  /** @type {Visitor} */\n  let visitor\n\n  if (\n    typeof testOrVisitor === 'function' &&\n    typeof visitorOrReverse !== 'function'\n  ) {\n    test = undefined\n    visitor = testOrVisitor\n    reverse = visitorOrReverse\n  } else {\n    // @ts-expect-error: assume the overload with test was given.\n    test = testOrVisitor\n    // @ts-expect-error: assume the overload with test was given.\n    visitor = visitorOrReverse\n    reverse = maybeReverse\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  /**\n   * @param {UnistNode} node\n   * @param {Array<UnistParent>} parents\n   */\n  function overload(node, parents) {\n    const parent = parents[parents.length - 1]\n    const index = parent ? parent.children.indexOf(node) : undefined\n    return visitor(node, index, parent)\n  }\n}\n","/**\n * @typedef {import('hast').Element} HastElement\n * @typedef {import('hast').ElementContent} HastElementContent\n * @typedef {import('hast').Nodes} HastNodes\n * @typedef {import('hast').Properties} HastProperties\n * @typedef {import('hast').RootContent} HastRootContent\n * @typedef {import('hast').Text} HastText\n *\n * @typedef {import('mdast').Definition} MdastDefinition\n * @typedef {import('mdast').FootnoteDefinition} MdastFootnoteDefinition\n * @typedef {import('mdast').Nodes} MdastNodes\n * @typedef {import('mdast').Parents} MdastParents\n *\n * @typedef {import('vfile').VFile} VFile\n *\n * @typedef {import('./footer.js').FootnoteBackContentTemplate} FootnoteBackContentTemplate\n * @typedef {import('./footer.js').FootnoteBackLabelTemplate} FootnoteBackLabelTemplate\n */\n\n/**\n * @callback Handler\n *   Handle a node.\n * @param {State} state\n *   Info passed around.\n * @param {any} node\n *   mdast node to handle.\n * @param {MdastParents | undefined} parent\n *   Parent of `node`.\n * @returns {Array<HastElementContent> | HastElementContent | undefined}\n *   hast node.\n *\n * @typedef {Partial<Record<MdastNodes['type'], Handler>>} Handlers\n *   Handle nodes.\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [allowDangerousHtml=false]\n *   Whether to persist raw HTML in markdown in the hast tree (default:\n *   `false`).\n * @property {string | null | undefined} [clobberPrefix='user-content-']\n *   Prefix to use before the `id` property on footnotes to prevent them from\n *   *clobbering* (default: `'user-content-'`).\n *\n *   Pass `''` for trusted markdown and when you are careful with\n *   polyfilling.\n *   You could pass a different prefix.\n *\n *   DOM clobbering is this:\n *\n *   ```html\n *   <p id=\"x\"></p>\n *   <script>alert(x) // `x` now refers to the `p#x` DOM element</script>\n *   ```\n *\n *   The above example shows that elements are made available by browsers, by\n *   their ID, on the `window` object.\n *   This is a security risk because you might be expecting some other variable\n *   at that place.\n *   It can also break polyfills.\n *   Using a prefix solves these problems.\n * @property {VFile | null | undefined} [file]\n *   Corresponding virtual file representing the input document (optional).\n * @property {FootnoteBackContentTemplate | string | null | undefined} [footnoteBackContent]\n *   Content of the backreference back to references (default: `defaultFootnoteBackContent`).\n *\n *   The default value is:\n *\n *   ```js\n *   function defaultFootnoteBackContent(_, rereferenceIndex) {\n *     const result = [{type: 'text', value: ''}]\n *\n *     if (rereferenceIndex > 1) {\n *       result.push({\n *         type: 'element',\n *         tagName: 'sup',\n *         properties: {},\n *         children: [{type: 'text', value: String(rereferenceIndex)}]\n *       })\n *     }\n *\n *     return result\n *   }\n *   ```\n *\n *   This content is used in the `a` element of each backreference (the ``\n *   links).\n * @property {FootnoteBackLabelTemplate | string | null | undefined} [footnoteBackLabel]\n *   Label to describe the backreference back to references (default:\n *   `defaultFootnoteBackLabel`).\n *\n *   The default value is:\n *\n *   ```js\n *   function defaultFootnoteBackLabel(referenceIndex, rereferenceIndex) {\n *    return (\n *      'Back to reference ' +\n *      (referenceIndex + 1) +\n *      (rereferenceIndex > 1 ? '-' + rereferenceIndex : '')\n *    )\n *   }\n *   ```\n *\n *   Change it when the markdown is not in English.\n *\n *   This label is used in the `ariaLabel` property on each backreference\n *   (the `` links).\n *   It affects users of assistive technology.\n * @property {string | null | undefined} [footnoteLabel='Footnotes']\n *   Textual label to use for the footnotes section (default: `'Footnotes'`).\n *\n *   Change it when the markdown is not in English.\n *\n *   This label is typically hidden visually (assuming a `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass different properties with the `footnoteLabelProperties` option.\n * @property {HastProperties | null | undefined} [footnoteLabelProperties={className: ['sr-only']}]\n *   Properties to use on the footnote label (default: `{className:\n *   ['sr-only']}`).\n *\n *   Change it to show the label and add other properties.\n *\n *   This label is typically hidden visually (assuming an `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass an empty string.\n *   You can also add different properties.\n *\n *   > **Note**: `id: 'footnote-label'` is always added, because footnote\n *   > calls use it with `aria-describedby` to provide an accessible label.\n * @property {string | null | undefined} [footnoteLabelTagName='h2']\n *   HTML tag name to use for the footnote label element (default: `'h2'`).\n *\n *   Change it to match your document structure.\n *\n *   This label is typically hidden visually (assuming a `sr-only` CSS class\n *   is defined that does that) and so affects screen readers only.\n *   If you do have such a class, but want to show this section to everyone,\n *   pass different properties with the `footnoteLabelProperties` option.\n * @property {Handlers | null | undefined} [handlers]\n *   Extra handlers for nodes (optional).\n * @property {Array<MdastNodes['type']> | null | undefined} [passThrough]\n *   List of custom mdast node types to pass through (keep) in hast (note that\n *   the node itself is passed, but eventual children are transformed)\n *   (optional).\n * @property {Handler | null | undefined} [unknownHandler]\n *   Handler for all unknown nodes (optional).\n *\n * @typedef State\n *   Info passed around.\n * @property {(node: MdastNodes) => Array<HastElementContent>} all\n *   Transform the children of an mdast parent to hast.\n * @property {<Type extends HastNodes>(from: MdastNodes, to: Type) => HastElement | Type} applyData\n *   Honor the `data` of `from`, and generate an element instead of `node`.\n * @property {Map<string, MdastDefinition>} definitionById\n *   Definitions by their identifier.\n * @property {Map<string, MdastFootnoteDefinition>} footnoteById\n *   Footnote definitions by their identifier.\n * @property {Map<string, number>} footnoteCounts\n *   Counts for how often the same footnote was called.\n * @property {Array<string>} footnoteOrder\n *   Identifiers of order when footnote calls first appear in tree order.\n * @property {Handlers} handlers\n *   Applied handlers.\n * @property {(node: MdastNodes, parent: MdastParents | undefined) => Array<HastElementContent> | HastElementContent | undefined} one\n *   Transform an mdast node to hast.\n * @property {Options} options\n *   Configuration.\n * @property {(from: MdastNodes, node: HastNodes) => undefined} patch\n *   Copy a nodes positional info.\n * @property {<Type extends HastRootContent>(nodes: Array<Type>, loose?: boolean | undefined) => Array<HastText | Type>} wrap\n *   Wrap `nodes` with line endings between each node, adds initial/final line endings when `loose`.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {visit} from 'unist-util-visit'\nimport {position} from 'unist-util-position'\nimport {handlers as defaultHandlers} from './handlers/index.js'\n\nconst own = {}.hasOwnProperty\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/**\n * Create `state` from an mdast tree.\n *\n * @param {MdastNodes} tree\n *   mdast node to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {State}\n *   `state` function.\n */\nexport function createState(tree, options) {\n  const settings = options || emptyOptions\n  /** @type {Map<string, MdastDefinition>} */\n  const definitionById = new Map()\n  /** @type {Map<string, MdastFootnoteDefinition>} */\n  const footnoteById = new Map()\n  /** @type {Map<string, number>} */\n  const footnoteCounts = new Map()\n  /** @type {Handlers} */\n  // @ts-expect-error: the root handler returns a root.\n  // Hard to type.\n  const handlers = {...defaultHandlers, ...settings.handlers}\n\n  /** @type {State} */\n  const state = {\n    all,\n    applyData,\n    definitionById,\n    footnoteById,\n    footnoteCounts,\n    footnoteOrder: [],\n    handlers,\n    one,\n    options: settings,\n    patch,\n    wrap\n  }\n\n  visit(tree, function (node) {\n    if (node.type === 'definition' || node.type === 'footnoteDefinition') {\n      const map = node.type === 'definition' ? definitionById : footnoteById\n      const id = String(node.identifier).toUpperCase()\n\n      // Mimick CM behavior of link definitions.\n      // See: <https://github.com/syntax-tree/mdast-util-definitions/blob/9032189/lib/index.js#L20-L21>.\n      if (!map.has(id)) {\n        // @ts-expect-error: node type matches map.\n        map.set(id, node)\n      }\n    }\n  })\n\n  return state\n\n  /**\n   * Transform an mdast node into a hast node.\n   *\n   * @param {MdastNodes} node\n   *   mdast node.\n   * @param {MdastParents | undefined} [parent]\n   *   Parent of `node`.\n   * @returns {Array<HastElementContent> | HastElementContent | undefined}\n   *   Resulting hast node.\n   */\n  function one(node, parent) {\n    const type = node.type\n    const handle = state.handlers[type]\n\n    if (own.call(state.handlers, type) && handle) {\n      return handle(state, node, parent)\n    }\n\n    if (state.options.passThrough && state.options.passThrough.includes(type)) {\n      if ('children' in node) {\n        const {children, ...shallow} = node\n        const result = structuredClone(shallow)\n        // @ts-expect-error: TS doesnt understand\n        result.children = state.all(node)\n        // @ts-expect-error: TS doesnt understand\n        return result\n      }\n\n      // @ts-expect-error: its custom.\n      return structuredClone(node)\n    }\n\n    const unknown = state.options.unknownHandler || defaultUnknownHandler\n\n    return unknown(state, node, parent)\n  }\n\n  /**\n   * Transform the children of an mdast node into hast nodes.\n   *\n   * @param {MdastNodes} parent\n   *   mdast node to compile\n   * @returns {Array<HastElementContent>}\n   *   Resulting hast nodes.\n   */\n  function all(parent) {\n    /** @type {Array<HastElementContent>} */\n    const values = []\n\n    if ('children' in parent) {\n      const nodes = parent.children\n      let index = -1\n      while (++index < nodes.length) {\n        const result = state.one(nodes[index], parent)\n\n        // To do: see if we van clean this? Can we merge texts?\n        if (result) {\n          if (index && nodes[index - 1].type === 'break') {\n            if (!Array.isArray(result) && result.type === 'text') {\n              result.value = trimMarkdownSpaceStart(result.value)\n            }\n\n            if (!Array.isArray(result) && result.type === 'element') {\n              const head = result.children[0]\n\n              if (head && head.type === 'text') {\n                head.value = trimMarkdownSpaceStart(head.value)\n              }\n            }\n          }\n\n          if (Array.isArray(result)) {\n            values.push(...result)\n          } else {\n            values.push(result)\n          }\n        }\n      }\n    }\n\n    return values\n  }\n}\n\n/**\n * Copy a nodes positional info.\n *\n * @param {MdastNodes} from\n *   mdast node to copy from.\n * @param {HastNodes} to\n *   hast node to copy into.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(from, to) {\n  if (from.position) to.position = position(from)\n}\n\n/**\n * Honor the `data` of `from` and maybe generate an element instead of `to`.\n *\n * @template {HastNodes} Type\n *   Node type.\n * @param {MdastNodes} from\n *   mdast node to use data from.\n * @param {Type} to\n *   hast node to change.\n * @returns {HastElement | Type}\n *   Nothing.\n */\nfunction applyData(from, to) {\n  /** @type {HastElement | Type} */\n  let result = to\n\n  // Handle `data.hName`, `data.hProperties, `data.hChildren`.\n  if (from && from.data) {\n    const hName = from.data.hName\n    const hChildren = from.data.hChildren\n    const hProperties = from.data.hProperties\n\n    if (typeof hName === 'string') {\n      // Transforming the node resulted in an element with a different name\n      // than wanted:\n      if (result.type === 'element') {\n        result.tagName = hName\n      }\n      // Transforming the node resulted in a non-element, which happens for\n      // raw, text, and root nodes (unless custom handlers are passed).\n      // The intent of `hName` is to create an element, but likely also to keep\n      // the content around (otherwise: pass `hChildren`).\n      else {\n        /** @type {Array<HastElementContent>} */\n        // @ts-expect-error: assume no doctypes in `root`.\n        const children = 'children' in result ? result.children : [result]\n        result = {type: 'element', tagName: hName, properties: {}, children}\n      }\n    }\n\n    if (result.type === 'element' && hProperties) {\n      Object.assign(result.properties, structuredClone(hProperties))\n    }\n\n    if (\n      'children' in result &&\n      result.children &&\n      hChildren !== null &&\n      hChildren !== undefined\n    ) {\n      result.children = hChildren\n    }\n  }\n\n  return result\n}\n\n/**\n * Transform an unknown node.\n *\n * @param {State} state\n *   Info passed around.\n * @param {MdastNodes} node\n *   Unknown mdast node.\n * @returns {HastElement | HastText}\n *   Resulting hast node.\n */\nfunction defaultUnknownHandler(state, node) {\n  const data = node.data || {}\n  /** @type {HastElement | HastText} */\n  const result =\n    'value' in node &&\n    !(own.call(data, 'hProperties') || own.call(data, 'hChildren'))\n      ? {type: 'text', value: node.value}\n      : {\n          type: 'element',\n          tagName: 'div',\n          properties: {},\n          children: state.all(node)\n        }\n\n  state.patch(node, result)\n  return state.applyData(node, result)\n}\n\n/**\n * Wrap `nodes` with line endings between each node.\n *\n * @template {HastRootContent} Type\n *   Node type.\n * @param {Array<Type>} nodes\n *   List of nodes to wrap.\n * @param {boolean | undefined} [loose=false]\n *   Whether to add line endings at start and end (default: `false`).\n * @returns {Array<HastText | Type>}\n *   Wrapped nodes.\n */\nexport function wrap(nodes, loose) {\n  /** @type {Array<HastText | Type>} */\n  const result = []\n  let index = -1\n\n  if (loose) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  while (++index < nodes.length) {\n    if (index) result.push({type: 'text', value: '\\n'})\n    result.push(nodes[index])\n  }\n\n  if (loose && nodes.length > 0) {\n    result.push({type: 'text', value: '\\n'})\n  }\n\n  return result\n}\n\n/**\n * Trim spaces and tabs at the start of `value`.\n *\n * @param {string} value\n *   Value to trim.\n * @returns {string}\n *   Result.\n */\nfunction trimMarkdownSpaceStart(value) {\n  let index = 0\n  let code = value.charCodeAt(index)\n\n  while (code === 9 || code === 32) {\n    index++\n    code = value.charCodeAt(index)\n  }\n\n  return value.slice(index)\n}\n","/**\n * @typedef {import('hast').Nodes} HastNodes\n * @typedef {import('mdast').Nodes} MdastNodes\n * @typedef {import('./state.js').Options} Options\n */\n\nimport {ok as assert} from 'devlop'\nimport {footer} from './footer.js'\nimport {createState} from './state.js'\n\n/**\n * Transform mdast to hast.\n *\n * ##### Notes\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most utilities ignore `raw` nodes but two notable ones dont:\n *\n * *   `hast-util-to-html` also has an option `allowDangerousHtml` which will\n *     output the raw HTML.\n *     This is typically discouraged as noted by the option name but is useful\n *     if you completely trust authors\n * *   `hast-util-raw` can handle the raw embedded HTML strings by parsing them\n *     into standard hast nodes (`element`, `text`, etc).\n *     This is a heavy task as it needs a full HTML parser, but it is the only\n *     way to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark, which we follow by default.\n * They are supported by GitHub, so footnotes can be enabled in markdown with\n * `mdast-util-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes, which is hidden for sighted users but shown to\n * assistive technology.\n * When your page is not in English, you must define translated values.\n *\n * Back references use ARIA attributes, but the section label itself uses a\n * heading that is hidden with an `sr-only` class.\n * To show it to sighted users, define different attributes in\n * `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem, as it links footnote calls to footnote\n * definitions on the page through `id` attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * Example: headings (DOM clobbering) in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * *   when the node has a `value` (and doesnt have `data.hName`,\n *     `data.hProperties`, or `data.hChildren`, see later), create a hast `text`\n *     node\n * *   otherwise, create a `<div>` element (which could be changed with\n *     `data.hName`), with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @param {MdastNodes} tree\n *   mdast tree.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {HastNodes}\n *   hast tree.\n */\nexport function toHast(tree, options) {\n  const state = createState(tree, options)\n  const node = state.one(tree, undefined)\n  const foot = footer(state)\n  /** @type {HastNodes} */\n  const result = Array.isArray(node)\n    ? {type: 'root', children: node}\n    : node || {type: 'root', children: []}\n\n  if (foot) {\n    // If theres a footer, there were definitions, meaning block\n    // content.\n    // So `result` is a parent node.\n    assert('children' in result)\n    result.children.push({type: 'text', value: '\\n'}, foot)\n  }\n\n  return result\n}\n","// Include `data` fields in mdast and `raw` nodes in hast.\n/// <reference types=\"mdast-util-to-hast\" />\n\n/**\n * @import {Root as HastRoot} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {Options as ToHastOptions} from 'mdast-util-to-hast'\n * @import {Processor} from 'unified'\n * @import {VFile} from 'vfile'\n */\n\n/**\n * @typedef {Omit<ToHastOptions, 'file'>} Options\n *\n * @callback TransformBridge\n *   Bridge-mode.\n *\n *   Runs the destination with the new hast tree.\n *   Discards result.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {Promise<undefined>}\n *   Nothing.\n *\n * @callback TransformMutate\n *  Mutate-mode.\n *\n *  Further transformers run on the hast tree.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {HastRoot}\n *   Tree (hast).\n */\n\nimport {toHast} from 'mdast-util-to-hast'\n\n/**\n * Turn markdown into HTML.\n *\n * ##### Notes\n *\n * ###### Signature\n *\n * *   if a processor is given, runs the (rehype) plugins used on it with a\n *     hast tree, then discards the result (*bridge mode*)\n * *   otherwise, returns a hast tree, the plugins used after `remarkRehype`\n *     are rehype plugins (*mutate mode*)\n *\n * >  **Note**: Its highly unlikely that you want to pass a `processor`.\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most plugins ignore `raw` nodes but two notable ones dont:\n *\n * *   `rehype-stringify` also has an option `allowDangerousHtml` which will\n *     output the raw HTML.\n *     This is typically discouraged as noted by the option name but is useful if\n *     you completely trust authors\n * *   `rehype-raw` can handle the raw embedded HTML strings by parsing them\n *     into standard hast nodes (`element`, `text`, etc).\n *     This is a heavy task as it needs a full HTML parser, but it is the only way\n *     to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark, which we follow by default.\n * They are supported by GitHub, so footnotes can be enabled in markdown with\n * `remark-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes, which is hidden for sighted users but shown to\n * assistive technology.\n * When your page is not in English, you must define translated values.\n *\n * Back references use ARIA attributes, but the section label itself uses a\n * heading that is hidden with an `sr-only` class.\n * To show it to sighted users, define different attributes in\n * `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem, as it links footnote calls to footnote\n * definitions on the page through `id` attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * *Example: headings (DOM clobbering)* in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * *   when the node has a `value` (and doesnt have `data.hName`,\n *     `data.hProperties`, or `data.hChildren`, see later), create a hast `text`\n *     node\n * *   otherwise, create a `<div>` element (which could be changed with\n *     `data.hName`), with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @overload\n * @param {Processor} processor\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformBridge}\n *\n * @overload\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformMutate}\n *\n * @param {Readonly<Options> | Processor | null | undefined} [destination]\n *   Processor or configuration (optional).\n * @param {Readonly<Options> | null | undefined} [options]\n *   When a processor was given, configuration (optional).\n * @returns {TransformBridge | TransformMutate}\n *   Transform.\n */\nexport default function remarkRehype(destination, options) {\n  if (destination && 'run' in destination) {\n    /**\n     * @type {TransformBridge}\n     */\n    return async function (tree, file) {\n      // Cast because root in -> root out.\n      const hastTree = /** @type {HastRoot} */ (\n        toHast(tree, {file, ...options})\n      )\n      await destination.run(hastTree, file)\n    }\n  }\n\n  /**\n   * @type {TransformMutate}\n   */\n  return function (tree, file) {\n    // Cast because root in -> root out.\n    // To do: in the future, disallow ` || options` fallback.\n    // With `unified-engine`, `destination` can be `undefined` but\n    // `options` will be the file set.\n    // We should not pass that as `options`.\n    return /** @type {HastRoot} */ (\n      toHast(tree, {file, ...(destination || options)})\n    )\n  }\n}\n","/**\n * Throw a given error.\n *\n * @param {Error|null|undefined} [error]\n *   Maybe error.\n * @returns {asserts error is null|undefined}\n */\nexport function bail(error) {\n  if (error) {\n    throw error\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n","// To do: remove `void`s\n// To do: remove `null` from output of our APIs, allow it as user APIs.\n\n/**\n * @typedef {(error?: Error | null | undefined, ...output: Array<any>) => void} Callback\n *   Callback.\n *\n * @typedef {(...input: Array<any>) => any} Middleware\n *   Ware.\n *\n * @typedef Pipeline\n *   Pipeline.\n * @property {Run} run\n *   Run the pipeline.\n * @property {Use} use\n *   Add middleware.\n *\n * @typedef {(...input: Array<any>) => void} Run\n *   Call all middleware.\n *\n *   Calls `done` on completion with either an error or the output of the\n *   last middleware.\n *\n *   >  **Note**: as the length of input defines whether async functions get a\n *   > `next` function,\n *   > its recommended to keep `input` at one value normally.\n\n *\n * @typedef {(fn: Middleware) => Pipeline} Use\n *   Add middleware.\n */\n\n/**\n * Create new middleware.\n *\n * @returns {Pipeline}\n *   Pipeline.\n */\nexport function trough() {\n  /** @type {Array<Middleware>} */\n  const fns = []\n  /** @type {Pipeline} */\n  const pipeline = {run, use}\n\n  return pipeline\n\n  /** @type {Run} */\n  function run(...values) {\n    let middlewareIndex = -1\n    /** @type {Callback} */\n    const callback = values.pop()\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('Expected function as last argument, not ' + callback)\n    }\n\n    next(null, ...values)\n\n    /**\n     * Run the next `fn`, or were done.\n     *\n     * @param {Error | null | undefined} error\n     * @param {Array<any>} output\n     */\n    function next(error, ...output) {\n      const fn = fns[++middlewareIndex]\n      let index = -1\n\n      if (error) {\n        callback(error)\n        return\n      }\n\n      // Copy non-nullish input into values.\n      while (++index < values.length) {\n        if (output[index] === null || output[index] === undefined) {\n          output[index] = values[index]\n        }\n      }\n\n      // Save the newly created `output` for the next call.\n      values = output\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next)(...output)\n      } else {\n        callback(null, ...output)\n      }\n    }\n  }\n\n  /** @type {Use} */\n  function use(middelware) {\n    if (typeof middelware !== 'function') {\n      throw new TypeError(\n        'Expected `middelware` to be a function, not ' + middelware\n      )\n    }\n\n    fns.push(middelware)\n    return pipeline\n  }\n}\n\n/**\n * Wrap `middleware` into a uniform interface.\n *\n * You can pass all input to the resulting function.\n * `callback` is then called with the output of `middleware`.\n *\n * If `middleware` accepts more arguments than the later given in input,\n * an extra `done` function is passed to it after that input,\n * which must be called by `middleware`.\n *\n * The first value in `input` is the main input value.\n * All other input values are the rest input values.\n * The values given to `callback` are the input values,\n * merged with every non-nullish output value.\n *\n * * if `middleware` throws an error,\n *   returns a promise that is rejected,\n *   or calls the given `done` function with an error,\n *   `callback` is called with that error\n * * if `middleware` returns a value or returns a promise that is resolved,\n *   that value is the main output value\n * * if `middleware` calls `done`,\n *   all non-nullish values except for the first one (the error) overwrite the\n *   output values\n *\n * @param {Middleware} middleware\n *   Function to wrap.\n * @param {Callback} callback\n *   Callback called with the output of `middleware`.\n * @returns {Run}\n *   Wrapped middleware.\n */\nexport function wrap(middleware, callback) {\n  /** @type {boolean} */\n  let called\n\n  return wrapped\n\n  /**\n   * Call `middleware`.\n   * @this {any}\n   * @param {Array<any>} parameters\n   * @returns {void}\n   */\n  function wrapped(...parameters) {\n    const fnExpectsCallback = middleware.length > parameters.length\n    /** @type {any} */\n    let result\n\n    if (fnExpectsCallback) {\n      parameters.push(done)\n    }\n\n    try {\n      result = middleware.apply(this, parameters)\n    } catch (error) {\n      const exception = /** @type {Error} */ (error)\n\n      // Well, this is quite the pickle.\n      // `middleware` received a callback and called it synchronously, but that\n      // threw an error.\n      // The only thing left to do is to throw the thing instead.\n      if (fnExpectsCallback && called) {\n        throw exception\n      }\n\n      return done(exception)\n    }\n\n    if (!fnExpectsCallback) {\n      if (result && result.then && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  /**\n   * Call `callback`, only once.\n   *\n   * @type {Callback}\n   */\n  function done(error, ...output) {\n    if (!called) {\n      called = true\n      callback(error, ...output)\n    }\n  }\n\n  /**\n   * Call `done` with one value.\n   *\n   * @param {any} [value]\n   */\n  function then(value) {\n    done(null, value)\n  }\n}\n","// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const minpath = {basename, dirname, extname, join, sep: '/'}\n\n/* eslint-disable max-depth, complexity */\n\n/**\n * Get the basename from a path.\n *\n * @param {string} path\n *   File path.\n * @param {string | null | undefined} [extname]\n *   Extension to strip.\n * @returns {string}\n *   Stem or basename.\n */\nfunction basename(path, extname) {\n  if (extname !== undefined && typeof extname !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  let start = 0\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let seenNonSlash\n\n  if (\n    extname === undefined ||\n    extname.length === 0 ||\n    extname.length > path.length\n  ) {\n    while (index--) {\n      if (path.codePointAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (extname === path) {\n    return ''\n  }\n\n  let firstNonSlashEnd = -1\n  let extnameIndex = extname.length - 1\n\n  while (index--) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extnameIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.codePointAt(index) === extname.codePointAt(extnameIndex--)) {\n          if (extnameIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extnameIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\n/**\n * Get the dirname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\nfunction dirname(path) {\n  assertPath(path)\n\n  if (path.length === 0) {\n    return '.'\n  }\n\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.codePointAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.codePointAt(0) === 47 /* `/` */\n      ? '//'\n      : path.slice(0, end)\n}\n\n/**\n * Get an extname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   Extname.\n */\nfunction extname(path) {\n  assertPath(path)\n\n  let index = path.length\n\n  let end = -1\n  let startPart = 0\n  let startDot = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  let preDotState = 0\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  while (index--) {\n    const code = path.codePointAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\n/**\n * Join segments from a path.\n *\n * @param {Array<string>} segments\n *   Path segments.\n * @returns {string}\n *   File path.\n */\nfunction join(...segments) {\n  let index = -1\n  /** @type {string | undefined} */\n  let joined\n\n  while (++index < segments.length) {\n    assertPath(segments[index])\n\n    if (segments[index]) {\n      joined =\n        joined === undefined ? segments[index] : joined + '/' + segments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n/**\n * Normalize a basic file path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  assertPath(path)\n\n  const absolute = path.codePointAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  let value = normalizeString(path, !absolute)\n\n  if (value.length === 0 && !absolute) {\n    value = '.'\n  }\n\n  if (value.length > 0 && path.codePointAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n/**\n * Resolve `.` and `..` elements in a path with directory names.\n *\n * @param {string} path\n *   File path.\n * @param {boolean} allowAboveRoot\n *   Whether `..` can move above root.\n * @returns {string}\n *   File path.\n */\nfunction normalizeString(path, allowAboveRoot) {\n  let result = ''\n  let lastSegmentLength = 0\n  let lastSlash = -1\n  let dots = 0\n  let index = -1\n  /** @type {number | undefined} */\n  let code\n  /** @type {number} */\n  let lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.codePointAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.codePointAt(result.length - 1) !== 46 /* `.` */ ||\n          result.codePointAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length > 0) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length > 0 ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length > 0) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\n/**\n * Make sure `path` is a string.\n *\n * @param {string} path\n *   File path.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n\n/* eslint-enable max-depth, complexity */\n","// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexport const minproc = {cwd}\n\nfunction cwd() {\n  return '/'\n}\n","/**\n * Checks if a value has the shape of a WHATWG URL object.\n *\n * Using a symbol or instanceof would not be able to recognize URL objects\n * coming from other implementations (e.g. in Electron), so instead we are\n * checking some well known properties for a lack of a better test.\n *\n * We use `href` and `protocol` as they are the only properties that are\n * easy to retrieve and calculate due to the lazy nature of the getters.\n *\n * We check for auth attribute to distinguish legacy url instance with\n * WHATWG URL instance.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js#L720>\nexport function isUrl(fileUrlOrPath) {\n  return Boolean(\n    fileUrlOrPath !== null &&\n      typeof fileUrlOrPath === 'object' &&\n      'href' in fileUrlOrPath &&\n      fileUrlOrPath.href &&\n      'protocol' in fileUrlOrPath &&\n      fileUrlOrPath.protocol &&\n      // @ts-expect-error: indexing is fine.\n      fileUrlOrPath.auth === undefined\n  )\n}\n","import {isUrl} from './minurl.shared.js'\n\nexport {isUrl} from './minurl.shared.js'\n\n// See: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js>\n\n/**\n * @param {URL | string} path\n *   File URL.\n * @returns {string}\n *   File URL.\n */\nexport function urlToPath(path) {\n  if (typeof path === 'string') {\n    path = new URL(path)\n  } else if (!isUrl(path)) {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'The \"path\" argument must be of type string or an instance of URL. Received `' +\n        path +\n        '`'\n    )\n    error.code = 'ERR_INVALID_ARG_TYPE'\n    throw error\n  }\n\n  if (path.protocol !== 'file:') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError('The URL must be of scheme file')\n    error.code = 'ERR_INVALID_URL_SCHEME'\n    throw error\n  }\n\n  return getPathFromURLPosix(path)\n}\n\n/**\n * Get a path from a POSIX URL.\n *\n * @param {URL} url\n *   URL.\n * @returns {string}\n *   File path.\n */\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'File URL host must be \"localhost\" or empty on darwin'\n    )\n    error.code = 'ERR_INVALID_FILE_URL_HOST'\n    throw error\n  }\n\n  const pathname = url.pathname\n  let index = -1\n\n  while (++index < pathname.length) {\n    if (\n      pathname.codePointAt(index) === 37 /* `%` */ &&\n      pathname.codePointAt(index + 1) === 50 /* `2` */\n    ) {\n      const third = pathname.codePointAt(index + 2)\n      if (third === 70 /* `F` */ || third === 102 /* `f` */) {\n        /** @type {NodeJS.ErrnoException} */\n        const error = new TypeError(\n          'File URL path must not include encoded / characters'\n        )\n        error.code = 'ERR_INVALID_FILE_URL_PATH'\n        throw error\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname)\n}\n","/**\n * @import {Node, Point, Position} from 'unist'\n * @import {Options as MessageOptions} from 'vfile-message'\n * @import {Compatible, Data, Map, Options, Value} from 'vfile'\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n */\n\nimport {VFileMessage} from 'vfile-message'\nimport {minpath} from '#minpath'\nimport {minproc} from '#minproc'\nimport {urlToPath, isUrl} from '#minurl'\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n */\nconst order = /** @type {const} */ ([\n  'history',\n  'path',\n  'basename',\n  'stem',\n  'extname',\n  'dirname'\n])\n\nexport class VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Uint8Array`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if (isUrl(value)) {\n      options = {path: value}\n    } else if (typeof value === 'string' || isUint8Array(value)) {\n      options = {value}\n    } else {\n      options = value\n    }\n\n    /* eslint-disable no-unused-expressions */\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    // Prevent calling `cwd` (which could be expensive) if its not needed;\n    // the empty string will be overridden in the next block.\n    this.cwd = 'cwd' in options ? '' : minproc.cwd()\n\n    /**\n     * Place to store custom info (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of file paths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const field = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        field in options &&\n        options[field] !== undefined &&\n        options[field] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[field] = field === 'history' ? [...options[field]] : options[field]\n      }\n    }\n\n    /** @type {string} */\n    let field\n\n    // Set non-path related properties.\n    for (field in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(field)) {\n        // @ts-expect-error: fine to set other things.\n        this[field] = options[field]\n      }\n    }\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   *\n   * @returns {string | undefined}\n   *   Basename.\n   */\n  get basename() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path)\n      : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} basename\n   *   Basename.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = minpath.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   *\n   * @returns {string | undefined}\n   *   Dirname.\n   */\n  get dirname() {\n    return typeof this.path === 'string'\n      ? minpath.dirname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} dirname\n   *   Dirname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = minpath.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   *\n   * @returns {string | undefined}\n   *   Extname.\n   */\n  get extname() {\n    return typeof this.path === 'string'\n      ? minpath.extname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} extname\n   *   Extname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.codePointAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = minpath.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   *   Path.\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {URL | string} path\n   *   Path.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set path(path) {\n    if (isUrl(path)) {\n      path = urlToPath(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * @returns {string | undefined}\n   *   Stem.\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} stem\n   *   Stem.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = minpath.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  // Normal prototypal methods.\n  /**\n   * Create a fatal message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `true` (error; file not usable)\n   * and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Never.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n\n  /**\n   * Create an info message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `undefined` (info; change\n   * likely not needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = undefined\n\n    return message\n  }\n\n  /**\n   * Create a message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `false` (warning; change may be\n   * needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(causeOrReason, optionsOrParentOrPlace, origin) {\n    const message = new VFileMessage(\n      // @ts-expect-error: the overloads are fine.\n      causeOrReason,\n      optionsOrParentOrPlace,\n      origin\n    )\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * > **Note**: which encodings are supported depends on the engine.\n   * > For info on Node.js, see:\n   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.\n   *\n   * @param {string | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Uint8Array`\n   *   (default: `'utf-8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    if (this.value === undefined) {\n      return ''\n    }\n\n    if (typeof this.value === 'string') {\n      return this.value\n    }\n\n    const decoder = new TextDecoder(encoding || undefined)\n    return decoder.decode(this.value)\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {undefined}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(minpath.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + minpath.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","export const CallableInstance =\n  /**\n   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}\n   */\n  (\n    /** @type {unknown} */\n    (\n      /**\n       * @this {Function}\n       * @param {string | symbol} property\n       * @returns {(...parameters: Array<unknown>) => unknown}\n       */\n      function (property) {\n        const self = this\n        const constr = self.constructor\n        const proto = /** @type {Record<string | symbol, Function>} */ (\n          // Prototypes do exist.\n          // type-coverage:ignore-next-line\n          constr.prototype\n        )\n        const value = proto[property]\n        /** @type {(...parameters: Array<unknown>) => unknown} */\n        const apply = function () {\n          return value.apply(apply, arguments)\n        }\n\n        Object.setPrototypeOf(apply, proto)\n\n        // Not needed for us in `unified`: we only call this on the `copy`\n        // function,\n        // and we don't need to add its fields (`length`, `name`)\n        // over.\n        // See also: GH-246.\n        // const names = Object.getOwnPropertyNames(value)\n        //\n        // for (const p of names) {\n        //   const descriptor = Object.getOwnPropertyDescriptor(value, p)\n        //   if (descriptor) Object.defineProperty(apply, p, descriptor)\n        // }\n\n        return apply\n      }\n    )\n  )\n","/**\n * @typedef {import('trough').Pipeline} Pipeline\n *\n * @typedef {import('unist').Node} Node\n *\n * @typedef {import('vfile').Compatible} Compatible\n * @typedef {import('vfile').Value} Value\n *\n * @typedef {import('../index.js').CompileResultMap} CompileResultMap\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Settings} Settings\n */\n\n/**\n * @typedef {CompileResultMap[keyof CompileResultMap]} CompileResults\n *   Acceptable results from compilers.\n *\n *   To register custom results, add them to\n *   {@linkcode CompileResultMap}.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the compiler receives (default: `Node`).\n * @template {CompileResults} [Result=CompileResults]\n *   The thing that the compiler yields (default: `CompileResults`).\n * @callback Compiler\n *   A **compiler** handles the compiling of a syntax tree to something else\n *   (in most cases, text) (TypeScript type).\n *\n *   It is used in the stringify phase and called with a {@linkcode Node}\n *   and {@linkcode VFile} representation of the document to compile.\n *   It should return the textual representation of the given tree (typically\n *   `string`).\n *\n *   > **Note**: unified typically compiles by serializing: most compilers\n *   > return `string` (or `Uint8Array`).\n *   > Some compilers, such as the one configured with\n *   > [`rehype-react`][rehype-react], return other values (in this case, a\n *   > React tree).\n *   > If youre using a compiler that doesnt serialize, expect different\n *   > result values.\n *   >\n *   > To register custom results in TypeScript, add them to\n *   > {@linkcode CompileResultMap}.\n *\n *   [rehype-react]: https://github.com/rehypejs/rehype-react\n * @param {Tree} tree\n *   Tree to compile.\n * @param {VFile} file\n *   File associated with `tree`.\n * @returns {Result}\n *   New content: compiled text (`string` or `Uint8Array`, for `file.value`) or\n *   something else (for `file.result`).\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the parser yields (default: `Node`)\n * @callback Parser\n *   A **parser** handles the parsing of text to a syntax tree.\n *\n *   It is used in the parse phase and is called with a `string` and\n *   {@linkcode VFile} of the document to parse.\n *   It must return the syntax tree representation of the given file\n *   ({@linkcode Node}).\n * @param {string} document\n *   Document to parse.\n * @param {VFile} file\n *   File associated with `document`.\n * @returns {Tree}\n *   Node representing the given file.\n */\n\n/**\n * @typedef {(\n *   Plugin<Array<any>, any, any> |\n *   PluginTuple<Array<any>, any, any> |\n *   Preset\n * )} Pluggable\n *   Union of the different ways to add plugins and settings.\n */\n\n/**\n * @typedef {Array<Pluggable>} PluggableList\n *   List of plugins and presets.\n */\n\n// Note: we cant use `callback` yet as it messes up `this`:\n//  <https://github.com/microsoft/TypeScript/issues/55197>.\n/**\n * @template {Array<unknown>} [PluginParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=Node]\n *   Value that is expected as input (default: `Node`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=Input]\n *   Value that is yielded as output (default: `Input`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   (this: Processor, ...parameters: PluginParameters) =>\n *     Input extends string ? // Parser.\n *        Output extends Node | undefined ? undefined | void : never :\n *     Output extends CompileResults ? // Compiler.\n *        Input extends Node | undefined ? undefined | void : never :\n *     Transformer<\n *       Input extends Node ? Input : Node,\n *       Output extends Node ? Output : Node\n *     > | undefined | void\n * )} Plugin\n *   Single plugin.\n *\n *   Plugins configure the processors they are applied on in the following\n *   ways:\n *\n *   *   they change the processor, such as the parser, the compiler, or by\n *       configuring data\n *   *   they specify how to handle trees and files\n *\n *   In practice, they are functions that can receive options and configure the\n *   processor (`this`).\n *\n *   > **Note**: plugins are called when the processor is *frozen*, not when\n *   > they are applied.\n */\n\n/**\n * Tuple of a plugin and its configuration.\n *\n * The first item is a plugin, the rest are its parameters.\n *\n * @template {Array<unknown>} [TupleParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=undefined]\n *   Value that is expected as input (optional).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=undefined] (optional).\n *   Value that is yielded as output.\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   [\n *     plugin: Plugin<TupleParameters, Input, Output>,\n *     ...parameters: TupleParameters\n *   ]\n * )} PluginTuple\n */\n\n/**\n * @typedef Preset\n *   Sharable configuration.\n *\n *   They can contain plugins and settings.\n * @property {PluggableList | undefined} [plugins]\n *   List of plugins and presets (optional).\n * @property {Settings | undefined} [settings]\n *   Shared settings for parsers and compilers (optional).\n */\n\n/**\n * @template {VFile} [File=VFile]\n *   The file that the callback receives (default: `VFile`).\n * @callback ProcessCallback\n *   Callback called when the process is done.\n *\n *   Called with either an error or a result.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {File | undefined} [file]\n *   Processed file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The tree that the callback receives (default: `Node`).\n * @callback RunCallback\n *   Callback called when transformers are done.\n *\n *   Called with either an error or results.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {Tree | undefined} [tree]\n *   Transformed tree (optional).\n * @param {VFile | undefined} [file]\n *   File (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Output=Node]\n *   Node type that the transformer yields (default: `Node`).\n * @callback TransformCallback\n *   Callback passed to transforms.\n *\n *   If the signature of a `transformer` accepts a third argument, the\n *   transformer may perform asynchronous operations, and must call it.\n * @param {Error | undefined} [error]\n *   Fatal error to stop the process (optional).\n * @param {Output | undefined} [tree]\n *   New, changed, tree (optional).\n * @param {VFile | undefined} [file]\n *   New, changed, file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Input=Node]\n *   Node type that the transformer expects (default: `Node`).\n * @template {Node} [Output=Input]\n *   Node type that the transformer yields (default: `Input`).\n * @callback Transformer\n *   Transformers handle syntax trees and files.\n *\n *   They are functions that are called each time a syntax tree and file are\n *   passed through the run phase.\n *   When an error occurs in them (either because its thrown, returned,\n *   rejected, or passed to `next`), the process stops.\n *\n *   The run phase is handled by [`trough`][trough], see its documentation for\n *   the exact semantics of these functions.\n *\n *   > **Note**: you should likely ignore `next`: dont accept it.\n *   > it supports callback-style async work.\n *   > But promises are likely easier to reason about.\n *\n *   [trough]: https://github.com/wooorm/trough#function-fninput-next\n * @param {Input} tree\n *   Tree to handle.\n * @param {VFile} file\n *   File to handle.\n * @param {TransformCallback<Output>} next\n *   Callback.\n * @returns {(\n *   Promise<Output | undefined | void> |\n *   Promise<never> | // For some reason this is needed separately.\n *   Output |\n *   Error |\n *   undefined |\n *   void\n * )}\n *   If you accept `next`, nothing.\n *   Otherwise:\n *\n *   *   `Error`  fatal error to stop the process\n *   *   `Promise<undefined>` or `undefined`  the next transformer keeps using\n *       same tree\n *   *   `Promise<Node>` or `Node`  new, changed, tree\n */\n\n/**\n * @template {Node | undefined} ParseTree\n *   Output of `parse`.\n * @template {Node | undefined} HeadTree\n *   Input for `run`.\n * @template {Node | undefined} TailTree\n *   Output for `run`.\n * @template {Node | undefined} CompileTree\n *   Input of `stringify`.\n * @template {CompileResults | undefined} CompileResult\n *   Output of `stringify`.\n * @template {Node | string | undefined} Input\n *   Input of plugin.\n * @template Output\n *   Output of plugin (optional).\n * @typedef {(\n *   Input extends string\n *     ? Output extends Node | undefined\n *       ? // Parser.\n *         Processor<\n *           Output extends undefined ? ParseTree : Output,\n *           HeadTree,\n *           TailTree,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Output extends CompileResults\n *     ? Input extends Node | undefined\n *       ? // Compiler.\n *         Processor<\n *           ParseTree,\n *           HeadTree,\n *           TailTree,\n *           Input extends undefined ? CompileTree : Input,\n *           Output extends undefined ? CompileResult : Output\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Input extends Node | undefined\n *     ? Output extends Node | undefined\n *       ? // Transform.\n *         Processor<\n *           ParseTree,\n *           HeadTree extends undefined ? Input : HeadTree,\n *           Output extends undefined ? TailTree : Output,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : // Unknown.\n *       Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n * )} UsePlugin\n *   Create a processor based on the input/output of a {@link Plugin plugin}.\n */\n\n/**\n * @template {CompileResults | undefined} Result\n *   Node type that the transformer yields.\n * @typedef {(\n *   Result extends Value | undefined ?\n *     VFile :\n *     VFile & {result: Result}\n *   )} VFileWithOutput\n *   Type to generate a {@linkcode VFile} corresponding to a compiler result.\n *\n *   If a result that is not acceptable on a `VFile` is used, that will\n *   be stored on the `result` field of {@linkcode VFile}.\n */\n\nimport {bail} from 'bail'\nimport extend from 'extend'\nimport {ok as assert} from 'devlop'\nimport isPlainObj from 'is-plain-obj'\nimport {trough} from 'trough'\nimport {VFile} from 'vfile'\nimport {CallableInstance} from './callable-instance.js'\n\n// To do: next major: drop `Compiler`, `Parser`: prefer lowercase.\n\n// To do: we could start yielding `never` in TS when a parser is missing and\n// `parse` is called.\n// Currently, we allow directly setting `processor.parser`, which is untyped.\n\nconst own = {}.hasOwnProperty\n\n/**\n * @template {Node | undefined} [ParseTree=undefined]\n *   Output of `parse` (optional).\n * @template {Node | undefined} [HeadTree=undefined]\n *   Input for `run` (optional).\n * @template {Node | undefined} [TailTree=undefined]\n *   Output for `run` (optional).\n * @template {Node | undefined} [CompileTree=undefined]\n *   Input of `stringify` (optional).\n * @template {CompileResults | undefined} [CompileResult=undefined]\n *   Output of `stringify` (optional).\n * @extends {CallableInstance<[], Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>>}\n */\nexport class Processor extends CallableInstance {\n  /**\n   * Create a processor.\n   */\n  constructor() {\n    // If `Processor()` is called (w/o new), `copy` is called instead.\n    super('copy')\n\n    /**\n     * Compiler to use (deprecated).\n     *\n     * @deprecated\n     *   Use `compiler` instead.\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.Compiler = undefined\n\n    /**\n     * Parser to use (deprecated).\n     *\n     * @deprecated\n     *   Use `parser` instead.\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.Parser = undefined\n\n    // Note: the following fields are considered private.\n    // However, they are needed for tests, and TSC generates an untyped\n    // `private freezeIndex` field for, which trips `type-coverage` up.\n    // Instead, we use `@deprecated` to visualize that they shouldnt be used.\n    /**\n     * Internal list of configured plugins.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Array<PluginTuple<Array<unknown>>>}\n     */\n    this.attachers = []\n\n    /**\n     * Compiler to use.\n     *\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.compiler = undefined\n\n    /**\n     * Internal state to track where we are while freezing.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {number}\n     */\n    this.freezeIndex = -1\n\n    /**\n     * Internal state to track whether were frozen.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {boolean | undefined}\n     */\n    this.frozen = undefined\n\n    /**\n     * Internal state.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Data}\n     */\n    this.namespace = {}\n\n    /**\n     * Parser to use.\n     *\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.parser = undefined\n\n    /**\n     * Internal list of configured transformers.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Pipeline}\n     */\n    this.transformers = trough()\n  }\n\n  /**\n   * Copy a processor.\n   *\n   * @deprecated\n   *   This is a private internal method and should not be used.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   New *unfrozen* processor ({@linkcode Processor}) that is\n   *   configured to work the same as its ancestor.\n   *   When the descendant processor is configured in the future it does not\n   *   affect the ancestral processor.\n   */\n  copy() {\n    // Cast as the type parameters will be the same after attaching.\n    const destination =\n      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */ (\n        new Processor()\n      )\n    let index = -1\n\n    while (++index < this.attachers.length) {\n      const attacher = this.attachers[index]\n      destination.use(...attacher)\n    }\n\n    destination.data(extend(true, {}, this.namespace))\n\n    return destination\n  }\n\n  /**\n   * Configure the processor with info available to all plugins.\n   * Information is stored in an object.\n   *\n   * Typically, options can be given to a specific plugin, but sometimes it\n   * makes sense to have information shared with several plugins.\n   * For example, a list of HTML elements that are self-closing, which is\n   * needed during all phases.\n   *\n   * > **Note**: setting information cannot occur on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * > **Note**: to register custom data in TypeScript, augment the\n   * > {@linkcode Data} interface.\n   *\n   * @example\n   *   This example show how to get and set info:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   const processor = unified().data('alpha', 'bravo')\n   *\n   *   processor.data('alpha') // => 'bravo'\n   *\n   *   processor.data() // => {alpha: 'bravo'}\n   *\n   *   processor.data({charlie: 'delta'})\n   *\n   *   processor.data() // => {charlie: 'delta'}\n   *   ```\n   *\n   * @template {keyof Data} Key\n   *\n   * @overload\n   * @returns {Data}\n   *\n   * @overload\n   * @param {Data} dataset\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Key} key\n   * @returns {Data[Key]}\n   *\n   * @overload\n   * @param {Key} key\n   * @param {Data[Key]} value\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @param {Data | Key} [key]\n   *   Key to get or set, or entire dataset to set, or nothing to get the\n   *   entire dataset (optional).\n   * @param {Data[Key]} [value]\n   *   Value to set (optional).\n   * @returns {unknown}\n   *   The current processor when setting, the value at `key` when getting, or\n   *   the entire dataset when getting without key.\n   */\n  data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', this.frozen)\n        this.namespace[key] = value\n        return this\n      }\n\n      // Get `key`.\n      return (own.call(this.namespace, key) && this.namespace[key]) || undefined\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', this.frozen)\n      this.namespace = key\n      return this\n    }\n\n    // Get space.\n    return this.namespace\n  }\n\n  /**\n   * Freeze a processor.\n   *\n   * Frozen processors are meant to be extended and not to be configured\n   * directly.\n   *\n   * When a processor is frozen it cannot be unfrozen.\n   * New processors working the same way can be created by calling the\n   * processor.\n   *\n   * Its possible to freeze processors explicitly by calling `.freeze()`.\n   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,\n   * `.stringify()`, `.process()`, or `.processSync()` are called.\n   *\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   The current processor.\n   */\n  freeze() {\n    if (this.frozen) {\n      return this\n    }\n\n    // Cast so that we can type plugins easier.\n    // Plugins are supposed to be usable on different processors, not just on\n    // this exact processor.\n    const self = /** @type {Processor} */ (/** @type {unknown} */ (this))\n\n    while (++this.freezeIndex < this.attachers.length) {\n      const [attacher, ...options] = this.attachers[this.freezeIndex]\n\n      if (options[0] === false) {\n        continue\n      }\n\n      if (options[0] === true) {\n        options[0] = undefined\n      }\n\n      const transformer = attacher.call(self, ...options)\n\n      if (typeof transformer === 'function') {\n        this.transformers.use(transformer)\n      }\n    }\n\n    this.frozen = true\n    this.freezeIndex = Number.POSITIVE_INFINITY\n\n    return this\n  }\n\n  /**\n   * Parse text to a syntax tree.\n   *\n   * > **Note**: `parse` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `parse` performs the parse phase, not the run phase or other\n   * > phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   file to parse (optional); typically `string` or `VFile`; any value\n   *   accepted as `x` in `new VFile(x)`.\n   * @returns {ParseTree extends undefined ? Node : ParseTree}\n   *   Syntax tree representing `file`.\n   */\n  parse(file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const parser = this.parser || this.Parser\n    assertParser('parse', parser)\n    return parser(String(realFile), realFile)\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * > **Note**: `process` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `process` performs the parse, run, and stringify phases.\n   *\n   * @overload\n   * @param {Compatible | undefined} file\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<VFileWithOutput<CompileResult>>}\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`]; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]\n   *   Callback (optional).\n   * @returns {Promise<VFile> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise a promise, rejected with a fatal error or resolved with the\n   *   processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  process(file, done) {\n    const self = this\n\n    this.freeze()\n    assertParser('process', this.parser || this.Parser)\n    assertCompiler('process', this.compiler || this.Compiler)\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {((file: VFileWithOutput<CompileResult>) => undefined | void) | undefined} resolve\n     * @param {(error: Error | undefined) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      const realFile = vfile(file)\n      // Assume `ParseTree` (the result of the parser) matches `HeadTree` (the\n      // input of the first transform).\n      const parseTree =\n        /** @type {HeadTree extends undefined ? Node : HeadTree} */ (\n          /** @type {unknown} */ (self.parse(realFile))\n        )\n\n      self.run(parseTree, realFile, function (error, tree, file) {\n        if (error || !tree || !file) {\n          return realDone(error)\n        }\n\n        // Assume `TailTree` (the output of the last transform) matches\n        // `CompileTree` (the input of the compiler).\n        const compileTree =\n          /** @type {CompileTree extends undefined ? Node : CompileTree} */ (\n            /** @type {unknown} */ (tree)\n          )\n\n        const compileResult = self.stringify(compileTree, file)\n\n        if (looksLikeAValue(compileResult)) {\n          file.value = compileResult\n        } else {\n          file.result = compileResult\n        }\n\n        realDone(error, /** @type {VFileWithOutput<CompileResult>} */ (file))\n      })\n\n      /**\n       * @param {Error | undefined} error\n       * @param {VFileWithOutput<CompileResult> | undefined} [file]\n       * @returns {undefined}\n       */\n      function realDone(error, file) {\n        if (error || !file) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `processSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `processSync` performs the parse, run, and stringify phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @returns {VFileWithOutput<CompileResult>}\n   *   The processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  processSync(file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {VFileWithOutput<CompileResult> | undefined} */\n    let result\n\n    this.freeze()\n    assertParser('processSync', this.parser || this.Parser)\n    assertCompiler('processSync', this.compiler || this.Compiler)\n\n    this.process(file, realDone)\n    assertDone('processSync', 'process', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n\n    return result\n\n    /**\n     * @type {ProcessCallback<VFileWithOutput<CompileResult>>}\n     */\n    function realDone(error, file) {\n      complete = true\n      bail(error)\n      result = file\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * > **Note**: `run` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `run` performs the run phase, not other phases.\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} file\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {(\n   *   RunCallback<TailTree extends undefined ? Node : TailTree> |\n   *   Compatible\n   * )} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]\n   *   Callback (optional).\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise, a promise rejected with a fatal error or resolved with the\n   *   transformed tree.\n   */\n  run(tree, file, done) {\n    assertNode(tree)\n    this.freeze()\n\n    const transformers = this.transformers\n\n    if (!done && typeof file === 'function') {\n      done = file\n      file = undefined\n    }\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {(\n     *   ((tree: TailTree extends undefined ? Node : TailTree) => undefined | void) |\n     *   undefined\n     * )} resolve\n     * @param {(error: Error) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      assert(\n        typeof file !== 'function',\n        '`file` cant be a `done` anymore, we checked'\n      )\n      const realFile = vfile(file)\n      transformers.run(tree, realFile, realDone)\n\n      /**\n       * @param {Error | undefined} error\n       * @param {Node} outputTree\n       * @param {VFile} file\n       * @returns {undefined}\n       */\n      function realDone(error, outputTree, file) {\n        const resultingTree =\n          /** @type {TailTree extends undefined ? Node : TailTree} */ (\n            outputTree || tree\n          )\n\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(resultingTree)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, resultingTree, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `runSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `runSync` performs the run phase, not other phases.\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {TailTree extends undefined ? Node : TailTree}\n   *   Transformed tree.\n   */\n  runSync(tree, file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {(TailTree extends undefined ? Node : TailTree) | undefined} */\n    let result\n\n    this.run(tree, file, realDone)\n\n    assertDone('runSync', 'run', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n    return result\n\n    /**\n     * @type {RunCallback<TailTree extends undefined ? Node : TailTree>}\n     */\n    function realDone(error, tree) {\n      bail(error)\n      result = tree\n      complete = true\n    }\n  }\n\n  /**\n   * Compile a syntax tree.\n   *\n   * > **Note**: `stringify` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `stringify` performs the stringify phase, not the run phase\n   * > or other phases.\n   *\n   * @param {CompileTree extends undefined ? Node : CompileTree} tree\n   *   Tree to compile.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {CompileResult extends undefined ? Value : CompileResult}\n   *   Textual representation of the tree (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most compilers\n   *   > return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  stringify(tree, file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const compiler = this.compiler || this.Compiler\n    assertCompiler('stringify', compiler)\n    assertNode(tree)\n\n    return compiler(tree, realFile)\n  }\n\n  /**\n   * Configure the processor to use a plugin, a list of usable values, or a\n   * preset.\n   *\n   * If the processor is already using a plugin, the previous plugin\n   * configuration is changed based on the options that are passed in.\n   * In other words, the plugin is not added a second time.\n   *\n   * > **Note**: `use` cannot be called on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * @example\n   *   There are many ways to pass plugins to `.use()`.\n   *   This example gives an overview:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   unified()\n   *     // Plugin with options:\n   *     .use(pluginA, {x: true, y: true})\n   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):\n   *     .use(pluginA, {y: false, z: true})\n   *     // Plugins:\n   *     .use([pluginB, pluginC])\n   *     // Two plugins, the second with options:\n   *     .use([pluginD, [pluginE, {}]])\n   *     // Preset with plugins and settings:\n   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})\n   *     // Settings only:\n   *     .use({settings: {position: false}})\n   *   ```\n   *\n   * @template {Array<unknown>} [Parameters=[]]\n   * @template {Node | string | undefined} [Input=undefined]\n   * @template [Output=Input]\n   *\n   * @overload\n   * @param {Preset | null | undefined} [preset]\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {PluggableList} list\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Plugin<Parameters, Input, Output>} plugin\n   * @param {...(Parameters | [boolean])} parameters\n   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}\n   *\n   * @param {PluggableList | Plugin | Preset | null | undefined} value\n   *   Usable value.\n   * @param {...unknown} parameters\n   *   Parameters, when a plugin is given as a usable value.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   Current processor.\n   */\n  use(value, ...parameters) {\n    const attachers = this.attachers\n    const namespace = this.namespace\n\n    assertUnfrozen('use', this.frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin(value, parameters)\n    } else if (typeof value === 'object') {\n      if (Array.isArray(value)) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new TypeError('Expected usable value, not `' + value + '`')\n    }\n\n    return this\n\n    /**\n     * @param {Pluggable} value\n     * @returns {undefined}\n     */\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value, [])\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          const [plugin, ...parameters] =\n            /** @type {PluginTuple<Array<unknown>>} */ (value)\n          addPlugin(plugin, parameters)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new TypeError('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    /**\n     * @param {Preset} result\n     * @returns {undefined}\n     */\n    function addPreset(result) {\n      if (!('plugins' in result) && !('settings' in result)) {\n        throw new Error(\n          'Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither'\n        )\n      }\n\n      addList(result.plugins)\n\n      if (result.settings) {\n        namespace.settings = extend(true, namespace.settings, result.settings)\n      }\n    }\n\n    /**\n     * @param {PluggableList | null | undefined} plugins\n     * @returns {undefined}\n     */\n    function addList(plugins) {\n      let index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (Array.isArray(plugins)) {\n        while (++index < plugins.length) {\n          const thing = plugins[index]\n          add(thing)\n        }\n      } else {\n        throw new TypeError('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    /**\n     * @param {Plugin} plugin\n     * @param {Array<unknown>} parameters\n     * @returns {undefined}\n     */\n    function addPlugin(plugin, parameters) {\n      let index = -1\n      let entryIndex = -1\n\n      while (++index < attachers.length) {\n        if (attachers[index][0] === plugin) {\n          entryIndex = index\n          break\n        }\n      }\n\n      if (entryIndex === -1) {\n        attachers.push([plugin, ...parameters])\n      }\n      // Only set if there was at least a `primary` value, otherwise wed change\n      // `arguments.length`.\n      else if (parameters.length > 0) {\n        let [primary, ...rest] = parameters\n        const currentPrimary = attachers[entryIndex][1]\n        if (isPlainObj(currentPrimary) && isPlainObj(primary)) {\n          primary = extend(true, currentPrimary, primary)\n        }\n\n        attachers[entryIndex] = [plugin, primary, ...rest]\n      }\n    }\n  }\n}\n\n// Note: this returns a *callable* instance.\n// Thats why its documented as a function.\n/**\n * Create a new processor.\n *\n * @example\n *   This example shows how a new processor can be created (from `remark`) and linked\n *   to **stdin**(4) and **stdout**(4).\n *\n *   ```js\n *   import process from 'node:process'\n *   import concatStream from 'concat-stream'\n *   import {remark} from 'remark'\n *\n *   process.stdin.pipe(\n *     concatStream(function (buf) {\n *       process.stdout.write(String(remark().processSync(buf)))\n *     })\n *   )\n *   ```\n *\n * @returns\n *   New *unfrozen* processor (`processor`).\n *\n *   This processor is configured to work the same as its ancestor.\n *   When the descendant processor is configured in the future it does not\n *   affect the ancestral processor.\n */\nexport const unified = new Processor().freeze()\n\n/**\n * Assert a parser is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Parser}\n */\nfunction assertParser(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `parser`')\n  }\n}\n\n/**\n * Assert a compiler is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Compiler}\n */\nfunction assertCompiler(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `compiler`')\n  }\n}\n\n/**\n * Assert the processor is not frozen.\n *\n * @param {string} name\n * @param {unknown} frozen\n * @returns {asserts frozen is false}\n */\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot call `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n/**\n * Assert `node` is a unist node.\n *\n * @param {unknown} node\n * @returns {asserts node is Node}\n */\nfunction assertNode(node) {\n  // `isPlainObj` unfortunately uses `any` instead of `unknown`.\n  // type-coverage:ignore-next-line\n  if (!isPlainObj(node) || typeof node.type !== 'string') {\n    throw new TypeError('Expected node, got `' + node + '`')\n    // Fine.\n  }\n}\n\n/**\n * Assert that `complete` is `true`.\n *\n * @param {string} name\n * @param {string} asyncName\n * @param {unknown} complete\n * @returns {asserts complete is true}\n */\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {VFile}\n */\nfunction vfile(value) {\n  return looksLikeAVFile(value) ? value : new VFile(value)\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {value is VFile}\n */\nfunction looksLikeAVFile(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'message' in value &&\n      'messages' in value\n  )\n}\n\n/**\n * @param {unknown} [value]\n * @returns {value is Value}\n */\nfunction looksLikeAValue(value) {\n  return typeof value === 'string' || isUint8Array(value)\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","// Register `Raw` in tree:\n/// <reference types=\"mdast-util-to-hast\" />\n\n/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast-util-to-jsx-runtime').Components} JsxRuntimeComponents\n * @typedef {import('remark-rehype').Options} RemarkRehypeOptions\n * @typedef {import('unist-util-visit').BuildVisitor<Root>} Visitor\n * @typedef {import('unified').PluggableList} PluggableList\n */\n\n/**\n * @callback AllowElement\n *   Filter elements.\n * @param {Readonly<Element>} element\n *   Element to check.\n * @param {number} index\n *   Index of `element` in `parent`.\n * @param {Readonly<Parents> | undefined} parent\n *   Parent of `element`.\n * @returns {boolean | null | undefined}\n *   Whether to allow `element` (default: `false`).\n *\n * @typedef {Partial<JsxRuntimeComponents>} Components\n *   Map tag names to components.\n *\n * @typedef Deprecation\n *   Deprecation.\n * @property {string} from\n *   Old field.\n * @property {string} id\n *   ID in readme.\n * @property {keyof Options} [to]\n *   New field.\n *\n * @typedef Options\n *   Configuration.\n * @property {AllowElement | null | undefined} [allowElement]\n *   Filter elements (optional);\n *   `allowedElements` / `disallowedElements` is used first.\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\n *   Tag names to allow (default: all tag names);\n *   cannot combine w/ `disallowedElements`.\n * @property {string | null | undefined} [children]\n *   Markdown.\n * @property {string | null | undefined} [className]\n *   Wrap in a `div` with this class name.\n * @property {Components | null | undefined} [components]\n *   Map tag names to components.\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\n *   Tag names to disallow (default: `[]`);\n *   cannot combine w/ `allowedElements`.\n * @property {PluggableList | null | undefined} [rehypePlugins]\n *   List of rehype plugins to use.\n * @property {PluggableList | null | undefined} [remarkPlugins]\n *   List of remark plugins to use.\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\n *   Options to pass through to `remark-rehype`.\n * @property {boolean | null | undefined} [skipHtml=false]\n *   Ignore HTML in markdown completely (default: `false`).\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\n *   Extract (unwrap) whats in disallowed elements (default: `false`);\n *   normally when say `strong` is not allowed, it and its children are dropped,\n *   with `unwrapDisallowed` the element itself is replaced by its children.\n * @property {UrlTransform | null | undefined} [urlTransform]\n *   Change URLs (default: `defaultUrlTransform`)\n *\n * @callback UrlTransform\n *   Transform all URLs.\n * @param {string} url\n *   URL.\n * @param {string} key\n *   Property name (example: `'href'`).\n * @param {Readonly<Element>} node\n *   Node.\n * @returns {string | null | undefined}\n *   Transformed URL (optional).\n */\n\nimport {unreachable} from 'devlop'\nimport {toJsxRuntime} from 'hast-util-to-jsx-runtime'\nimport {urlAttributes} from 'html-url-attributes'\n// @ts-expect-error: untyped.\nimport {Fragment, jsx, jsxs} from 'react/jsx-runtime'\nimport remarkParse from 'remark-parse'\nimport remarkRehype from 'remark-rehype'\nimport {unified} from 'unified'\nimport {visit} from 'unist-util-visit'\nimport {VFile} from 'vfile'\n\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {PluggableList} */\nconst emptyPlugins = []\n/** @type {Readonly<RemarkRehypeOptions>} */\nconst emptyRemarkRehypeOptions = {allowDangerousHtml: true}\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i\n\n// Mutable because we `delete` any time its used and a message is sent.\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\nconst deprecations = [\n  {from: 'astPlugins', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'allowDangerousHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {\n    from: 'allowNode',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowElement'\n  },\n  {\n    from: 'allowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowedElements'\n  },\n  {\n    from: 'disallowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'disallowedElements'\n  },\n  {from: 'escapeHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'includeElementIndex', id: '#remove-includeelementindex'},\n  {\n    from: 'includeNodeIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  },\n  {from: 'linkTarget', id: 'remove-linktarget'},\n  {from: 'plugins', id: 'change-plugins-to-remarkplugins', to: 'remarkPlugins'},\n  {from: 'rawSourcePos', id: '#remove-rawsourcepos'},\n  {from: 'renderers', id: 'change-renderers-to-components', to: 'components'},\n  {from: 'source', id: 'change-source-to-children', to: 'children'},\n  {from: 'sourcePos', id: '#remove-sourcepos'},\n  {from: 'transformImageUri', id: '#add-urltransform', to: 'urlTransform'},\n  {from: 'transformLinkUri', id: '#add-urltransform', to: 'urlTransform'}\n]\n\n/**\n * Component to render markdown.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {JSX.Element}\n *   React element.\n */\nexport function Markdown(options) {\n  const allowedElements = options.allowedElements\n  const allowElement = options.allowElement\n  const children = options.children || ''\n  const className = options.className\n  const components = options.components\n  const disallowedElements = options.disallowedElements\n  const rehypePlugins = options.rehypePlugins || emptyPlugins\n  const remarkPlugins = options.remarkPlugins || emptyPlugins\n  const remarkRehypeOptions = options.remarkRehypeOptions\n    ? {...options.remarkRehypeOptions, ...emptyRemarkRehypeOptions}\n    : emptyRemarkRehypeOptions\n  const skipHtml = options.skipHtml\n  const unwrapDisallowed = options.unwrapDisallowed\n  const urlTransform = options.urlTransform || defaultUrlTransform\n\n  const processor = unified()\n    .use(remarkParse)\n    .use(remarkPlugins)\n    .use(remarkRehype, remarkRehypeOptions)\n    .use(rehypePlugins)\n\n  const file = new VFile()\n\n  if (typeof children === 'string') {\n    file.value = children\n  } else {\n    unreachable(\n      'Unexpected value `' +\n        children +\n        '` for `children` prop, expected `string`'\n    )\n  }\n\n  if (allowedElements && disallowedElements) {\n    unreachable(\n      'Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other'\n    )\n  }\n\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      unreachable(\n        'Unexpected `' +\n          deprecation.from +\n          '` prop, ' +\n          (deprecation.to\n            ? 'use `' + deprecation.to + '` instead'\n            : 'remove it') +\n          ' (see <' +\n          changelog +\n          '#' +\n          deprecation.id +\n          '> for more info)'\n      )\n    }\n  }\n\n  const mdastTree = processor.parse(file)\n  /** @type {Nodes} */\n  let hastTree = processor.runSync(mdastTree, file)\n\n  // Wrap in `div` if theres a class name.\n  if (className) {\n    hastTree = {\n      type: 'element',\n      tagName: 'div',\n      properties: {className},\n      // Assume no doctypes.\n      children: /** @type {Array<ElementContent>} */ (\n        hastTree.type === 'root' ? hastTree.children : [hastTree]\n      )\n    }\n  }\n\n  visit(hastTree, transform)\n\n  return toJsxRuntime(hastTree, {\n    Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx,\n    jsxs,\n    passKeys: true,\n    passNode: true\n  })\n\n  /** @type {Visitor} */\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1)\n      } else {\n        parent.children[index] = {type: 'text', value: node.value}\n      }\n\n      return index\n    }\n\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key\n\n      for (key in urlAttributes) {\n        if (\n          Object.hasOwn(urlAttributes, key) &&\n          Object.hasOwn(node.properties, key)\n        ) {\n          const value = node.properties[key]\n          const test = urlAttributes[key]\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node)\n          }\n        }\n      }\n    }\n\n    if (node.type === 'element') {\n      let remove = allowedElements\n        ? !allowedElements.includes(node.tagName)\n        : disallowedElements\n        ? disallowedElements.includes(node.tagName)\n        : false\n\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent)\n      }\n\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children)\n        } else {\n          parent.children.splice(index, 1)\n        }\n\n        return index\n      }\n    }\n  }\n}\n\n/**\n * Make a URL safe.\n *\n * @satisfies {UrlTransform}\n * @param {string} value\n *   URL.\n * @returns {string}\n *   Safe URL.\n */\nexport function defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':')\n  const questionMark = value.indexOf('?')\n  const numberSign = value.indexOf('#')\n  const slash = value.indexOf('/')\n\n  if (\n    // If there is no protocol, its relative.\n    colon < 0 ||\n    // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n    (slash > -1 && colon > slash) ||\n    (questionMark > -1 && colon > questionMark) ||\n    (numberSign > -1 && colon > numberSign) ||\n    // It is a protocol, it should be allowed.\n    safeProtocol.test(value.slice(0, colon))\n  ) {\n    return value\n  }\n\n  return ''\n}\n","import { useParams } from 'react-router-dom';\nimport { articles } from '../data/articles';\nimport { motion } from 'framer-motion';\nimport { Badge } from '../components/ui/badge';\nimport { Calendar } from 'lucide-react';\nimport { NotFound } from './NotFound';\nimport ReactMarkdown from 'react-markdown';\nimport { useEffect, useState } from 'react';\n\nexport function ArticlePage() {\n  const { slug } = useParams();\n  const article = articles.find(a => a.slug === slug);\n  const [content, setContent] = useState<string>('');\n\n  useEffect(() => {\n    if (article) {\n      fetch(`/src/content/blog/${article.slug}.md`)\n        .then(response => response.text())\n        .then(text => setContent(text))\n        .catch(error => console.error('Error loading article content:', error));\n    }\n  }, [article]);\n\n  if (!article) {\n    return <NotFound />;\n  }\n\n  const isVideoArticle = ['do-browser-assistant-ia', 'midscene-js-assistant-ia'].includes(article.slug);\n  const videoIds = {\n    'do-browser-assistant-ia': 'Q11zWq4875o',\n    'midscene-js-assistant-ia': 'lrF0lPfrwag'\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      className=\"container mx-auto px-4 py-8 max-w-4xl\"\n    >\n      <article>\n        <div className=\"mb-8\">\n          <Badge variant=\"secondary\" className=\"mb-4\">\n            {article.category}\n          </Badge>\n          <h1 className=\"text-4xl font-bold mb-4\">{article.title}</h1>\n          <div className=\"flex items-center text-sm text-gray-500\">\n            <Calendar className=\"w-4 h-4 mr-2\" />\n            <time dateTime={article.date}>\n              {new Date(article.date).toLocaleDateString('fr-FR', {\n                day: 'numeric',\n                month: 'long',\n                year: 'numeric'\n              })}\n            </time>\n            <span className=\"mx-2\"></span>\n            <span>{article.readTime} de lecture</span>\n          </div>\n        </div>\n\n        <div className=\"aspect-video mb-8 rounded-2xl overflow-hidden\">\n          {isVideoArticle ? (\n            <iframe \n              width=\"100%\" \n              height=\"100%\" \n              src={`https://www.youtube.com/embed/${videoIds[article.slug as keyof typeof videoIds]}`}\n              title={article.title}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n              referrerPolicy=\"strict-origin-when-cross-origin\"\n              allowFullScreen\n              className=\"w-full h-full object-cover\"\n            />\n          ) : (\n            <img\n              src={article.image}\n              alt={article.title}\n              className=\"w-full h-full object-cover\"\n            />\n          )}\n        </div>\n\n        <div className=\"prose prose-lg max-w-none\">\n          <ReactMarkdown>{content}</ReactMarkdown>\n        </div>\n      </article>\n    </motion.div>\n  );\n}\n","import { motion } from \"framer-motion\";\nimport { articles } from \"../data/articles\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Calendar } from \"lucide-react\";\nimport { Link } from \"react-router-dom\";\n\nfunction ArticleCard({ article, index }: { article: typeof articles[0], index: number }) {\n  return (\n    <Link to={`/articles/${article.slug}`} className=\"block\">\n      <motion.article\n        initial={{ opacity: 0, y: 20 }}\n        whileInView={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: index * 0.1 }}\n        viewport={{ once: true }}\n        className=\"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300\"\n      >\n        <div className=\"aspect-video overflow-hidden\">\n          <img\n            src={article.image}\n            alt={article.title}\n            className=\"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300\"\n          />\n        </div>\n        <div className=\"p-6\">\n          <Badge variant=\"secondary\" className=\"mb-3\">\n            {article.category}\n          </Badge>\n          <h3 className=\"text-xl font-semibold mb-2 group-hover:text-blue-600 transition-colors duration-300\">\n            {article.title}\n          </h3>\n          <p className=\"text-gray-600 mb-4 line-clamp-2\">\n            {article.summary}\n          </p>\n          <div className=\"flex items-center text-sm text-gray-500\">\n            <Calendar className=\"w-4 h-4 mr-2\" />\n            <time dateTime={article.date}>\n              {new Date(article.date).toLocaleDateString('fr-FR', {\n                day: 'numeric',\n                month: 'long',\n                year: 'numeric'\n              })}\n            </time>\n            <span className=\"mx-2\"></span>\n            <span>{article.readTime} de lecture</span>\n          </div>\n        </div>\n      </motion.article>\n    </Link>\n  );\n}\n\nexport function ArticlesPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 pt-24 pb-12\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"max-w-2xl mx-auto text-center mb-12\">\n          <h1 className=\"text-4xl font-bold mb-4\">Tous nos articles</h1>\n          <p className=\"text-gray-600\">\n            Dcouvrez nos articles sur l'intelligence artificielle dans les territoires d'outre-mer\n          </p>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {articles.map((article, index) => (\n            <ArticleCard key={article.title} article={article} index={index} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { motion } from 'framer-motion';\n\nconst FloatingWhatsAppButton = () => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 50 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      className=\"fixed bottom-4 right-4 z-50\"\n    >\n      <a\n        href=\"https://chat.whatsapp.com/KPqFBDlkQPV9LJqU8zDsWt\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"flex items-center gap-2 bg-[#25D366] text-white px-3 sm:px-4 py-2 rounded-full shadow-lg hover:bg-[#128C7E] transition-colors text-sm sm:text-base whitespace-nowrap\"\n      >\n        <svg\n          className=\"w-6 h-6\"\n          fill=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z\"\n          />\n        </svg>\n        Rejoindre la communaut\n      </a>\n    </motion.div>\n  );\n};\n\nexport default FloatingWhatsAppButton;\n","import { Button } from \"@/components/ui/button\";\nimport { ArrowRight, Check, Clock, Zap, Target } from \"lucide-react\";\n\nconst programSteps = [\n  {\n    period: \"Semaine 1-2\",\n    title: \"Mise en place & fondations\",\n    steps: [\n      \"Audit complet de vos processus\",\n      \"Installation de votre infrastructure IA\",\n      \"Dploiement des premiers automatismes\"\n    ]\n  },\n  {\n    period: \"Semaine 3-4\",\n    title: \"Acclration & formation\",\n    steps: [\n      \"Formation express de votre quipe (3h)\",\n      \"Activation de votre systme de prospection automatique\",\n      \"Optimisation des workflows et automatisations\"\n    ]\n  },\n  {\n    period: \"Semaine 5-8\",\n    title: \"Rsultats & optimisation\",\n    steps: [\n      \"Monte en puissance des automatisations\",\n      \"Suivi des performances avec ajustements\",\n      \"Premiers rsultats concrets (leads, gain de temps, chiffre d'affaires)\"\n    ]\n  }\n];\n\nconst testimonials = [\n  {\n    quote: \"Grce au Programme Elite IA, nous avons automatis notre prospection et gagn 12 nouveaux clients qualifis en un mois.\",\n    author: \"Marie L., Agence Immobilire Martinique\"\n  },\n  {\n    quote: \"Je passais 2h par jour sur l'administratif. Aujourd'hui, c'est entirement automatis, et j'ai plus de temps pour mes clients.\",\n    author: \"Jean P., Commerce Runion\"\n  }\n];\n\nconst bonusFeatures = [\n  {\n    title: \"Pack Dmarrage Express\",\n    features: [\n      \"Audit stratgique ultra-personnalis\",\n      \"Templates IA prts  l'emploi pour votre secteur\"\n    ]\n  },\n  {\n    title: \"Pack Performance\",\n    features: [\n      \"Accs exclusif  notre bibliothque de solutions IA ultramarines\",\n      \"Formation acclre de votre quipe\"\n    ]\n  },\n  {\n    title: \"Pack Support Premium\",\n    features: [\n      \"Accompagnement personnalis pour un suivi optimal\",\n      \"Support prioritaire 24/7\"\n    ]\n  }\n];\n\nexport default function Offre() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Hero Section */}\n      <section className=\"pt-24 pb-12 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <h1 className=\"text-4xl md:text-5xl font-bold mb-6\">\n               PROGRAMME ELITE IA\n              <br />\n              <span className=\"bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent\">\n                TRANSFORMATION DIGITALE ULTRAMARINE\n              </span>\n            </h1>\n            <p className=\"text-2xl font-semibold text-gray-800 mb-4\">\n               La 1re Infrastructure IA Conue Pour Les Entrepreneurs Ultramarins\n            </p>\n            <p className=\"text-xl text-gray-600 mb-8\">\n               Gagnez du temps, attirez plus de clients et prenez une longueur d'avance sur vos concurrents !\n            </p>\n            <div className=\"inline-block bg-green-100 rounded-full px-6 py-2 text-green-800 font-semibold\">\n               RSULTATS CONCRETS GARANTIS\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Key Benefits */}\n      <section className=\"py-16 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n            <div className=\"bg-white rounded-lg p-8 shadow-sm border\">\n              <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\n                <Clock className=\"h-6 w-6 text-blue-600\" />\n                AUTOMATISATION COMPLTE\n              </h3>\n              <ul className=\"space-y-3\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  +20h de travail conomises par semaine grce  l'IA\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  3  5 nouveaux clients qualifis chaque semaine\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  Rduction de 80% des tches administratives\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  Un dveloppement commercial 2X plus rapide\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"bg-white rounded-lg p-8 shadow-sm border\">\n              <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\n                <Target className=\"h-6 w-6 text-blue-600\" />\n                SOLUTION CL EN MAIN\n              </h3>\n              <p className=\"text-gray-600 mb-4\"> Optimis pour les entreprises d'Outre-Mer :</p>\n              <ul className=\"space-y-3\">\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  Infrastructure IA sur-mesure selon votre secteur\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  Systme de prospection & suivi client 100% automatis\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  Tableau de bord intelligent pour piloter votre activit\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"bg-white rounded-lg p-8 shadow-sm border\">\n              <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\n                <Zap className=\"h-6 w-6 text-blue-600\" />\n                IMPLMENTATION EXPRESS\n              </h3>\n              <p className=\"text-gray-600 mb-4\"> Mise en place ultra-rapide, zro contrainte !</p>\n              <ul className=\"space-y-3\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  Seulement 3h de votre temps ncessaire\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  Compatible avec vos outils actuels\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\"></span>\n                  Aucune comptence technique requise\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Program Timeline */}\n      <section className=\"py-16 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl font-bold text-center mb-12\">\n              DROUL DU PROGRAMME\n          </h2>\n          <div className=\"max-w-4xl mx-auto space-y-8\">\n            {programSteps.map((phase, index) => (\n              <div key={index} className=\"bg-gray-50 rounded-lg p-6 border\">\n                <h3 className=\"text-xl font-bold text-blue-600 mb-2\">\n                   {phase.period} : {phase.title}\n                </h3>\n                <ul className=\"space-y-2\">\n                  {phase.steps.map((step, stepIndex) => (\n                    <li key={stepIndex} className=\"flex items-start gap-2\">\n                      <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                      <span>{step}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Testimonials */}\n      <section className=\"py-16 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <h2 className=\"text-3xl font-bold text-center mb-12\">\n             PREUVES DE RSULTATS\n          </h2>\n          <div className=\"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto\">\n            {testimonials.map((testimonial, index) => (\n              <div key={index} className=\"bg-white rounded-lg p-6 shadow-sm border\">\n                <p className=\"text-gray-600 mb-4\"> \"{testimonial.quote}\"</p>\n                <p className=\"font-semibold text-blue-600\"> {testimonial.author}</p>\n              </div>\n            ))}\n          </div>\n          <p className=\"text-center mt-8 text-gray-600\">\n             Vous voulez plus de preuves ? Nous vous montrons des cas clients en direct lors de votre session stratgique.\n          </p>\n        </div>\n      </section>\n\n      {/* Bonus Section */}\n      <section className=\"py-16 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-bold mb-4\">\n               BONUS EXCLUSIFS\n            </h2>\n            <p className=\"text-xl text-blue-600 font-semibold\">D'une valeur de 7 000</p>\n            <p className=\"text-gray-600 mt-2\"> Inclus gratuitement pour les 5 premiers inscrits :</p>\n          </div>\n          <div className=\"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto\">\n            {bonusFeatures.map((bonus, index) => (\n              <div key={index} className=\"bg-gray-50 rounded-lg p-6 border\">\n                <h3 className=\"text-xl font-bold text-blue-600 mb-4\">{bonus.title}</h3>\n                <ul className=\"space-y-3\">\n                  {bonus.features.map((feature, featureIndex) => (\n                    <li key={featureIndex} className=\"flex items-start gap-2\">\n                      <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                      <span>{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Guarantee */}\n      <section className=\"py-16 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-4xl mx-auto bg-white rounded-lg p-8 border\">\n            <h2 className=\"text-2xl font-bold text-center mb-6\">\n               GARANTIE 100% RSULTATS  OU PROLONG GRATUITEMENT\n            </h2>\n            <div className=\"space-y-4\">\n              <p className=\"text-gray-600\"> Si aprs 30 jours vous n'avez pas :</p>\n              <ul className=\"space-y-2\">\n                <li className=\"flex items-center gap-2\">\n                  <Check className=\"h-5 w-5 text-green-600\" />\n                  <span>conomis au moins 20h de travail par semaine</span>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <p className=\"text-center\">OU</p>\n                </li>\n                <li className=\"flex items-center gap-2\">\n                  <Check className=\"h-5 w-5 text-green-600\" />\n                  <span>Obtenu de nouveaux prospects qualifis</span>\n                </li>\n              </ul>\n              <p className=\"text-center font-semibold text-blue-600\">\n                 Nous continuons  vous accompagner GRATUITEMENT jusqu' ce que ce soit le cas.\n              </p>\n              <p className=\"text-center text-gray-600\">\n                Aucune prise de risque. Juste des rsultats.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* For Who Section */}\n      <section className=\"py-16 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-4xl mx-auto\">\n            <h2 className=\"text-3xl font-bold text-center mb-8\">\n               POUR QUI EST CE PROGRAMME ?\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              Ce programme est fait pour vous si vous tes un entrepreneur ultramarin et que vous voulez :\n            </p>\n            <ul className=\"space-y-4\">\n              <li className=\"flex items-start gap-2\">\n                <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                <span>Gagner du temps et optimiser votre efficacit (moins d'administratif, plus de stratgie).</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                <span>Doubler vos ventes sans prospecter manuellement.</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                <span>Attirer plus de clients et automatiser votre suivi.</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                <span>Prendre une longueur d'avance sur vos concurrents avec l'IA.</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </section>\n\n      {/* Limited Offer */}\n      <section className=\"py-16 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-4xl mx-auto text-center\">\n            <div className=\"inline-block bg-red-100 text-red-800 font-bold px-6 py-2 rounded-full mb-6\">\n               OFFRE ULTRA-LIMITE  UNIQUEMENT POUR 5 ENTREPRISES CE TRIMESTRE\n            </div>\n            <ul className=\"space-y-2 mb-8\">\n              <li> 5 places disponibles  3 dj rserves</li>\n              <li> Accompagnement VIP pour les 2 dernires entreprises slectionnes</li>\n              <li> DERNIRE CHANCE avant la fermeture des inscriptions</li>\n            </ul>\n          </div>\n        </div>\n      </section>\n\n      {/* Final CTA */}\n      <section className=\"py-16 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-4xl mx-auto text-center\">\n            <h2 className=\"text-3xl font-bold mb-6\">\n               DCOUVREZ VOTRE POTENTIEL D'AUTOMATISATION\n            </h2>\n            <div className=\"bg-gray-50 rounded-lg p-8 border mb-8\">\n              <p className=\"text-xl mb-6\">\n                 Rservez votre session stratgique GRATUITE de 30 minutes et dcouvrez :\n              </p>\n              <ul className=\"space-y-3 text-left max-w-md mx-auto mb-8\">\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                  <span>Les processus cls que vous pouvez automatiser immdiatement.</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                  <span>Votre gain de temps potentiel avec l'IA.</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <Check className=\"h-5 w-5 text-green-600 mt-1\" />\n                  <span>Un plan d'action 100% personnalis pour votre entreprise.</span>\n                </li>\n              </ul>\n              <p className=\"text-gray-600 mb-8\">\n                 Rservez maintenant avant que toutes les places ne soient prises !\n              </p>\n              <Button \n                size=\"lg\"\n                className=\"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 text-base sm:text-xl font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 min-h-[60px]\"\n                onClick={() => window.open('https://calendly.com/ultrai/session-strategique', '_blank')}\n              >\n                <span className=\"text-center\">RSERVER MA SESSION STRATGIQUE</span>\n                <ArrowRight className=\"h-5 w-5 sm:h-6 sm:w-6 flex-shrink-0\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { \n  User,\n  signInWithEmailAndPassword,\n  signOut as firebaseSignOut,\n  onAuthStateChanged\n} from 'firebase/auth';\nimport { auth } from '../config/firebase';\n\ninterface AuthContextType {\n  currentUser: User | null;\n  signIn: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n  loading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  async function signIn(email: string, password: string) {\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n    } catch (error) {\n      throw new Error('chec de la connexion. Veuillez vrifier vos identifiants.');\n    }\n  }\n\n  async function signOut() {\n    try {\n      await firebaseSignOut(auth);\n    } catch (error) {\n      throw new Error('Erreur lors de la dconnexion.');\n    }\n  }\n\n  const value = {\n    currentUser,\n    signIn,\n    signOut,\n    loading\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const { signIn } = useAuth();\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      setError('');\n      setLoading(true);\n      await signIn(email, password);\n      navigate('/admin/dashboard');\n    } catch (err) {\n      setError('chec de la connexion. Veuillez vrifier vos identifiants.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Connexion  l'espace administrateur\n          </h2>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleLogin}>\n          {error && (\n            <div className=\"rounded-md bg-red-50 p-4\">\n              <div className=\"text-sm text-red-700\">{error}</div>\n            </div>\n          )}\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Adresse email\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Adresse email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                disabled={loading}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Mot de passe\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Mot de passe\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                disabled={loading}\n              />\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n              disabled={loading}\n            >\n              {loading ? (\n                <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n                  <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                </span>\n              ) : null}\n              {loading ? 'Connexion en cours...' : 'Se connecter'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Article, articleService } from '../../services/articleService';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function Dashboard() {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const { signOut } = useAuth();\n\n  useEffect(() => {\n    loadArticles();\n  }, []);\n\n  const loadArticles = async () => {\n    try {\n      const articles = await articleService.getAllArticles();\n      setArticles(articles);\n    } catch (err) {\n      setError('Erreur lors du chargement des articles');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteArticle = async (id: string) => {\n    if (!window.confirm('tes-vous sr de vouloir supprimer cet article ?')) {\n      return;\n    }\n\n    try {\n      await articleService.deleteArticle(id);\n      setArticles(articles.filter(article => article.id !== id));\n    } catch (err) {\n      setError('Erreur lors de la suppression de l\\'article');\n      console.error(err);\n    }\n  };\n\n  const handleTogglePublish = async (article: Article) => {\n    if (!article.id) return;\n\n    try {\n      await articleService.updateArticle(article.id, {\n        published: !article.published\n      });\n      setArticles(articles.map(a => \n        a.id === article.id \n          ? { ...a, published: !a.published }\n          : a\n      ));\n    } catch (err) {\n      setError('Erreur lors de la modification du statut de l\\'article');\n      console.error(err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"animate-pulse flex space-x-4\">\n            <div className=\"flex-1 space-y-4 py-1\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n              <div className=\"space-y-2\">\n                <div className=\"h-4 bg-gray-200 rounded\"></div>\n                <div className=\"h-4 bg-gray-200 rounded w-5/6\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Tableau de bord</h1>\n          <div className=\"space-x-4\">\n            <Link\n              to=\"/admin/articles/new\"\n              className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              Nouvel article\n            </Link>\n            <button\n              onClick={() => signOut()}\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n            >\n              Dconnexion\n            </button>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n          <ul className=\"divide-y divide-gray-200\">\n            {articles.map((article) => (\n              <li key={article.id}>\n                <div className=\"px-4 py-4 flex items-center justify-between sm:px-6\">\n                  <div className=\"flex items-center\">\n                    <div className=\"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between\">\n                      <div>\n                        <div className=\"flex text-sm\">\n                          <p className=\"font-medium text-blue-600 truncate\">\n                            {article.title}\n                          </p>\n                          <p className=\"ml-1 flex-shrink-0 font-normal text-gray-500\">\n                            {article.published ? 'Publi' : 'Brouillon'}\n                          </p>\n                        </div>\n                        <div className=\"mt-2 flex\">\n                          <div className=\"flex items-center text-sm text-gray-500\">\n                            <p>\n                              {new Date(article.date).toLocaleDateString()}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"ml-5 flex-shrink-0 flex space-x-2\">\n                    <button\n                      onClick={() => handleTogglePublish(article)}\n                      className={`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md ${\n                        article.published\n                          ? 'text-yellow-700 bg-yellow-100 hover:bg-yellow-200'\n                          : 'text-green-700 bg-green-100 hover:bg-green-200'\n                      }`}\n                    >\n                      {article.published ? 'Dpublier' : 'Publier'}\n                    </button>\n                    <Link\n                      to={`/admin/articles/${article.id}/edit`}\n                      className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200\"\n                    >\n                      Modifier\n                    </Link>\n                    <button\n                      onClick={() => article.id && handleDeleteArticle(article.id)}\n                      className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200\"\n                    >\n                      Supprimer\n                    </button>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '', '\\uD83D\\uDC2F' === ''\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});","\"use strict\";\n/*\nReact-Quill\nhttps://github.com/zenoamaro/react-quill\n*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar quill_1 = __importDefault(require(\"quill\"));\nvar ReactQuill = /** @class */ (function (_super) {\n    __extends(ReactQuill, _super);\n    function ReactQuill(props) {\n        var _this = _super.call(this, props) || this;\n        /*\n        Changing one of these props should cause a full re-render and a\n        re-instantiation of the Quill editor.\n        */\n        _this.dirtyProps = [\n            'modules',\n            'formats',\n            'bounds',\n            'theme',\n            'children',\n        ];\n        /*\n        Changing one of these props should cause a regular update. These are mostly\n        props that act on the container, rather than the quillized editing area.\n        */\n        _this.cleanProps = [\n            'id',\n            'className',\n            'style',\n            'placeholder',\n            'tabIndex',\n            'onChange',\n            'onChangeSelection',\n            'onFocus',\n            'onBlur',\n            'onKeyPress',\n            'onKeyDown',\n            'onKeyUp',\n        ];\n        _this.state = {\n            generation: 0,\n        };\n        /*\n        Tracks the internal selection of the Quill editor\n        */\n        _this.selection = null;\n        _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\n            var _a, _b, _c, _d;\n            if (eventName === 'text-change') {\n                (_b = (_a = _this).onEditorChangeText) === null || _b === void 0 ? void 0 : _b.call(_a, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n            else if (eventName === 'selection-change') {\n                (_d = (_c = _this).onEditorChangeSelection) === null || _d === void 0 ? void 0 : _d.call(_c, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n        };\n        var value = _this.isControlled() ? props.value : props.defaultValue;\n        _this.value = (value !== null && value !== void 0 ? value : '');\n        return _this;\n    }\n    ReactQuill.prototype.validateProps = function (props) {\n        var _a;\n        if (react_1.default.Children.count(props.children) > 1)\n            throw new Error('The Quill editing area can only be composed of a single React element.');\n        if (react_1.default.Children.count(props.children)) {\n            var child = react_1.default.Children.only(props.children);\n            if (((_a = child) === null || _a === void 0 ? void 0 : _a.type) === 'textarea')\n                throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\n        }\n        if (this.lastDeltaChangeSet &&\n            props.value === this.lastDeltaChangeSet)\n            throw new Error('You are passing the `delta` object from the `onChange` event back ' +\n                'as `value`. You most probably want `editor.getContents()` instead. ' +\n                'See: https://github.com/zenoamaro/react-quill#using-deltas');\n    };\n    ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        var _this = this;\n        var _a;\n        this.validateProps(nextProps);\n        // If the editor hasn't been instantiated yet, or the component has been\n        // regenerated, we already know we should update.\n        if (!this.editor || this.state.generation !== nextState.generation) {\n            return true;\n        }\n        // Handle value changes in-place\n        if ('value' in nextProps) {\n            var prevContents = this.getEditorContents();\n            var nextContents = (_a = nextProps.value, (_a !== null && _a !== void 0 ? _a : ''));\n            // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\n            //       settle for a hybrid between controlled and uncontrolled mode. We\n            //       can't prevent the change, but we'll still override content\n            //       whenever `value` differs from current state.\n            // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\n            //       change, regardless of whether they represent the same document.\n            if (!this.isEqualValue(nextContents, prevContents)) {\n                this.setEditorContents(this.editor, nextContents);\n            }\n        }\n        // Handle read-only changes in-place\n        if (nextProps.readOnly !== this.props.readOnly) {\n            this.setEditorReadOnly(this.editor, nextProps.readOnly);\n        }\n        // Clean and Dirty props require a render\n        return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\n        var _this = this;\n        // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n        return this.dirtyProps.some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.componentDidMount = function () {\n        this.instantiateEditor();\n        this.setEditorContents(this.editor, this.getEditorContents());\n    };\n    ReactQuill.prototype.componentWillUnmount = function () {\n        this.destroyEditor();\n    };\n    ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\n        // to be re-instantiated. Regenerating the editor will cause the whole tree,\n        // including the container, to be cleaned up and re-rendered from scratch.\n        // Store the contents so they can be restored later.\n        if (this.editor && this.shouldComponentRegenerate(prevProps)) {\n            var delta = this.editor.getContents();\n            var selection = this.editor.getSelection();\n            this.regenerationSnapshot = { delta: delta, selection: selection };\n            this.setState({ generation: this.state.generation + 1 });\n            this.destroyEditor();\n        }\n        // The component has been regenerated, so it must be re-instantiated, and\n        // its content must be restored to the previous values from the snapshot.\n        if (this.state.generation !== prevState.generation) {\n            var _a = this.regenerationSnapshot, delta = _a.delta, selection_1 = _a.selection;\n            delete this.regenerationSnapshot;\n            this.instantiateEditor();\n            var editor_1 = this.editor;\n            editor_1.setContents(delta);\n            postpone(function () { return _this.setEditorSelection(editor_1, selection_1); });\n        }\n    };\n    ReactQuill.prototype.instantiateEditor = function () {\n        if (this.editor) {\n            this.hookEditor(this.editor);\n        }\n        else {\n            this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\n        }\n    };\n    ReactQuill.prototype.destroyEditor = function () {\n        if (!this.editor)\n            return;\n        this.unhookEditor(this.editor);\n    };\n    /*\n    We consider the component to be controlled if `value` is being sent in props.\n    */\n    ReactQuill.prototype.isControlled = function () {\n        return 'value' in this.props;\n    };\n    ReactQuill.prototype.getEditorConfig = function () {\n        return {\n            bounds: this.props.bounds,\n            formats: this.props.formats,\n            modules: this.props.modules,\n            placeholder: this.props.placeholder,\n            readOnly: this.props.readOnly,\n            scrollingContainer: this.props.scrollingContainer,\n            tabIndex: this.props.tabIndex,\n            theme: this.props.theme,\n        };\n    };\n    ReactQuill.prototype.getEditor = function () {\n        if (!this.editor)\n            throw new Error('Accessing non-instantiated editor');\n        return this.editor;\n    };\n    /**\n    Creates an editor on the given element. The editor will be passed the\n    configuration, have its events bound,\n    */\n    ReactQuill.prototype.createEditor = function (element, config) {\n        var editor = new quill_1.default(element, config);\n        if (config.tabIndex != null) {\n            this.setEditorTabIndex(editor, config.tabIndex);\n        }\n        this.hookEditor(editor);\n        return editor;\n    };\n    ReactQuill.prototype.hookEditor = function (editor) {\n        // Expose the editor on change events via a weaker, unprivileged proxy\n        // object that does not allow accidentally modifying editor state.\n        this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\n        // Using `editor-change` allows picking up silent updates, like selection\n        // changes on typing.\n        editor.on('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.unhookEditor = function (editor) {\n        editor.off('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.getEditorContents = function () {\n        return this.value;\n    };\n    ReactQuill.prototype.getEditorSelection = function () {\n        return this.selection;\n    };\n    /*\n    True if the value is a Delta instance or a Delta look-alike.\n    */\n    ReactQuill.prototype.isDelta = function (value) {\n        return value && value.ops;\n    };\n    /*\n    Special comparison function that knows how to compare Deltas.\n    */\n    ReactQuill.prototype.isEqualValue = function (value, nextValue) {\n        if (this.isDelta(value) && this.isDelta(nextValue)) {\n            return isEqual_1.default(value.ops, nextValue.ops);\n        }\n        else {\n            return isEqual_1.default(value, nextValue);\n        }\n    };\n    /*\n    Replace the contents of the editor, but keep the previous selection hanging\n    around so that the cursor won't move.\n    */\n    ReactQuill.prototype.setEditorContents = function (editor, value) {\n        var _this = this;\n        this.value = value;\n        var sel = this.getEditorSelection();\n        if (typeof value === 'string') {\n            editor.setContents(editor.clipboard.convert(value));\n        }\n        else {\n            editor.setContents(value);\n        }\n        postpone(function () { return _this.setEditorSelection(editor, sel); });\n    };\n    ReactQuill.prototype.setEditorSelection = function (editor, range) {\n        this.selection = range;\n        if (range) {\n            // Validate bounds before applying.\n            var length_1 = editor.getLength();\n            range.index = Math.max(0, Math.min(range.index, length_1 - 1));\n            range.length = Math.max(0, Math.min(range.length, (length_1 - 1) - range.index));\n            editor.setSelection(range);\n        }\n    };\n    ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\n        var _a, _b;\n        if ((_b = (_a = editor) === null || _a === void 0 ? void 0 : _a.scroll) === null || _b === void 0 ? void 0 : _b.domNode) {\n            editor.scroll.domNode.tabIndex = tabIndex;\n        }\n    };\n    ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\n        if (value) {\n            editor.disable();\n        }\n        else {\n            editor.enable();\n        }\n    };\n    /*\n    Returns a weaker, unprivileged proxy object that only exposes read-only\n    accessors found on the editor instance, without any state-modifying methods.\n    */\n    ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\n        var e = editor;\n        return {\n            getHTML: function () { return e.root.innerHTML; },\n            getLength: e.getLength.bind(e),\n            getText: e.getText.bind(e),\n            getContents: e.getContents.bind(e),\n            getSelection: e.getSelection.bind(e),\n            getBounds: e.getBounds.bind(e),\n        };\n    };\n    ReactQuill.prototype.getEditingArea = function () {\n        if (!this.editingArea) {\n            throw new Error('Instantiating on missing editing area');\n        }\n        var element = react_dom_1.default.findDOMNode(this.editingArea);\n        if (!element) {\n            throw new Error('Cannot find element for editing area');\n        }\n        if (element.nodeType === 3) {\n            throw new Error('Editing area cannot be a text node');\n        }\n        return element;\n    };\n    /*\n    Renders an editor area, unless it has been provided one to clone.\n    */\n    ReactQuill.prototype.renderEditingArea = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, preserveWhitespace = _a.preserveWhitespace;\n        var generation = this.state.generation;\n        var properties = {\n            key: generation,\n            ref: function (instance) {\n                _this.editingArea = instance;\n            },\n        };\n        if (react_1.default.Children.count(children)) {\n            return react_1.default.cloneElement(react_1.default.Children.only(children), properties);\n        }\n        return preserveWhitespace ?\n            react_1.default.createElement(\"pre\", __assign({}, properties)) :\n            react_1.default.createElement(\"div\", __assign({}, properties));\n    };\n    ReactQuill.prototype.render = function () {\n        var _a;\n        return (react_1.default.createElement(\"div\", { id: this.props.id, style: this.props.style, key: this.state.generation, className: \"quill \" + (_a = this.props.className, (_a !== null && _a !== void 0 ? _a : '')), onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea()));\n    };\n    ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\n        var _a, _b;\n        if (!this.editor)\n            return;\n        // We keep storing the same type of value as what the user gives us,\n        // so that value comparisons will be more stable and predictable.\n        var nextContents = this.isDelta(this.value)\n            ? editor.getContents()\n            : editor.getHTML();\n        if (nextContents !== this.getEditorContents()) {\n            // Taint this `delta` object, so we can recognize whether the user\n            // is trying to send it back as `value`, preventing a likely loop.\n            this.lastDeltaChangeSet = delta;\n            this.value = nextContents;\n            (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\n        }\n    };\n    ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\n        var _a, _b, _c, _d, _e, _f;\n        if (!this.editor)\n            return;\n        var currentSelection = this.getEditorSelection();\n        var hasGainedFocus = !currentSelection && nextSelection;\n        var hasLostFocus = currentSelection && !nextSelection;\n        if (isEqual_1.default(nextSelection, currentSelection))\n            return;\n        this.selection = nextSelection;\n        (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\n        if (hasGainedFocus) {\n            (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\n        }\n        else if (hasLostFocus) {\n            (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\n        }\n    };\n    ReactQuill.prototype.focus = function () {\n        if (!this.editor)\n            return;\n        this.editor.focus();\n    };\n    ReactQuill.prototype.blur = function () {\n        if (!this.editor)\n            return;\n        this.selection = null;\n        this.editor.blur();\n    };\n    ReactQuill.displayName = 'React Quill';\n    /*\n    Export Quill to be able to call `register`\n    */\n    ReactQuill.Quill = quill_1.default;\n    ReactQuill.defaultProps = {\n        theme: 'snow',\n        modules: {},\n        readOnly: false,\n    };\n    return ReactQuill;\n}(react_1.default.Component));\n/*\nSmall helper to execute a function in the next micro-tick.\n*/\nfunction postpone(fn) {\n    Promise.resolve().then(fn);\n}\nmodule.exports = ReactQuill;\n//# sourceMappingURL=index.js.map","/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*}/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.3';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint) {\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import { Article } from '../../services/articleService';\nimport DOMPurify from 'dompurify';\n\ninterface ArticleViewProps {\n  article: Partial<Article>;\n  isPreview?: boolean;\n}\n\nexport default function ArticleView({ article, isPreview = false }: ArticleViewProps) {\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString('fr-FR', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  return (\n    <article className=\"max-w-4xl mx-auto\">\n      {/* En-tte de l'article */}\n      <header className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n          {article.title}\n        </h1>\n        \n        {isPreview && (\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-yellow-700\">\n                  Mode prvisualisation\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {article.imageUrl && (\n          <div className=\"relative h-96 mb-8\">\n            <img\n              src={article.imageUrl}\n              alt={article.title}\n              className=\"w-full h-full object-cover rounded-lg shadow-lg\"\n            />\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between text-sm text-gray-600\">\n          <div className=\"flex items-center space-x-4\">\n            {article.category && (\n              <span className=\"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800\">\n                {article.category}\n              </span>\n            )}\n            {article.date && (\n              <time dateTime={article.date.toString()}>\n                {formatDate(article.date)}\n              </time>\n            )}\n          </div>\n        </div>\n\n        {article.tags && article.tags.length > 0 && (\n          <div className=\"mt-4 flex flex-wrap gap-2\">\n            {article.tags.map((tag) => (\n              <span\n                key={tag}\n                className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\"\n              >\n                #{tag}\n              </span>\n            ))}\n          </div>\n        )}\n      </header>\n\n      {/* Contenu de l'article */}\n      <div \n        className=\"prose prose-lg max-w-none\"\n        dangerouslySetInnerHTML={{\n          __html: DOMPurify.sanitize(article.content || '')\n        }}\n      />\n    </article>\n  );\n}\n","import { Article } from '../../services/articleService';\nimport ArticleView from '../articles/ArticleView';\n\ninterface ArticlePreviewProps {\n  article: Partial<Article>;\n  onClose: () => void;\n}\n\nexport default function ArticlePreview({ article, onClose }: ArticlePreviewProps) {\n  return (\n    <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity z-50\">\n      <div className=\"fixed inset-0 overflow-hidden\">\n        <div className=\"absolute inset-0 overflow-hidden\">\n          <div className=\"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16\">\n            <div className=\"pointer-events-auto w-screen max-w-4xl\">\n              <div className=\"flex h-full flex-col overflow-y-scroll bg-white shadow-xl\">\n                {/* En-tte */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n                  <h2 className=\"text-lg font-medium text-gray-900\">\n                    Prvisualisation\n                  </h2>\n                  <button\n                    type=\"button\"\n                    onClick={onClose}\n                    className=\"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none\"\n                  >\n                    <span className=\"sr-only\">Fermer</span>\n                    <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n\n                {/* Contenu */}\n                <div className=\"relative flex-1 px-6 py-6\">\n                  <ArticleView article={article} isPreview={true} />\n                </div>\n\n                {/* Pied de page */}\n                <div className=\"flex justify-end px-6 py-4 border-t border-gray-200\">\n                  <button\n                    type=\"button\"\n                    onClick={onClose}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Fermer la prvisualisation\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { ref, uploadBytes, getDownloadURL, listAll, deleteObject, getMetadata } from 'firebase/storage';\nimport { storage } from '../config/firebase';\n\nexport interface MediaFile {\n  name: string;\n  url: string;\n  path: string;\n  type: string;\n  size: number;\n  uploadedAt: Date;\n}\n\nexport const mediaService = {\n  // Upload un fichier\n  async uploadFile(file: File, path: string): Promise<MediaFile> {\n    const storageRef = ref(storage, path);\n    const snapshot = await uploadBytes(storageRef, file);\n    const url = await getDownloadURL(snapshot.ref);\n\n    return {\n      name: file.name,\n      url,\n      path,\n      type: file.type,\n      size: file.size,\n      uploadedAt: new Date()\n    };\n  },\n\n  // Rcuprer tous les fichiers d'un dossier\n  async getFiles(folder: string): Promise<MediaFile[]> {\n    const folderRef = ref(storage, folder);\n    const result = await listAll(folderRef);\n    \n    const files = await Promise.all(\n      result.items.map(async (itemRef) => {\n        const url = await getDownloadURL(itemRef);\n        const metadata = await getMetadata(itemRef);\n        \n        return {\n          name: itemRef.name,\n          url,\n          path: itemRef.fullPath,\n          type: metadata.contentType || '',\n          size: metadata.size || 0,\n          uploadedAt: new Date(metadata.timeCreated)\n        };\n      })\n    );\n\n    return files;\n  },\n\n  // Supprimer un fichier\n  async deleteFile(path: string): Promise<void> {\n    const fileRef = ref(storage, path);\n    await deleteObject(fileRef);\n  },\n\n  // Gnrer un nom de fichier unique\n  generateFileName(file: File): string {\n    const extension = file.name.split('.').pop();\n    const timestamp = Date.now();\n    const randomString = Math.random().toString(36).substring(2, 8);\n    return `${timestamp}-${randomString}.${extension}`;\n  },\n\n  // Vrifier si un fichier est une image\n  isImage(file: File): boolean {\n    return file.type.startsWith('image/');\n  },\n\n  // Formater la taille du fichier\n  formatFileSize(bytes: number): string {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;\n  }\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { MediaFile, mediaService } from '../../services/mediaService';\n\ninterface MediaManagerProps {\n  onSelect?: (url: string) => void;\n  onClose?: () => void;\n  showInModal?: boolean;\n}\n\nexport default function MediaManager({ onSelect, onClose, showInModal = true }: MediaManagerProps) {\n  const [files, setFiles] = useState<MediaFile[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [uploadProgress, setUploadProgress] = useState<{ [key: string]: number }>({});\n  const [selectedFile, setSelectedFile] = useState<MediaFile | null>(null);\n\n  const loadFiles = useCallback(async () => {\n    try {\n      setLoading(true);\n      const mediaFiles = await mediaService.getFiles('articles');\n      setFiles(mediaFiles);\n    } catch (err) {\n      setError('Erreur lors du chargement des fichiers');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadFiles();\n  }, [loadFiles]);\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const uploadedFiles = event.target.files;\n    if (!uploadedFiles) return;\n\n    try {\n      for (let i = 0; i < uploadedFiles.length; i++) {\n        const file = uploadedFiles[i];\n        const fileName = mediaService.generateFileName(file);\n        const path = `articles/${fileName}`;\n\n        // Initialiser la progression\n        setUploadProgress(prev => ({ ...prev, [fileName]: 0 }));\n\n        // Upload du fichier\n        const mediaFile = await mediaService.uploadFile(file, path);\n\n        // Mettre  jour la liste des fichiers\n        setFiles(prev => [...prev, mediaFile]);\n\n        // Rinitialiser la progression\n        setUploadProgress(prev => {\n          const newProgress = { ...prev };\n          delete newProgress[fileName];\n          return newProgress;\n        });\n      }\n    } catch (err) {\n      setError('Erreur lors de l\\'upload des fichiers');\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async (file: MediaFile) => {\n    if (!window.confirm('tes-vous sr de vouloir supprimer ce fichier ?')) {\n      return;\n    }\n\n    try {\n      await mediaService.deleteFile(file.path);\n      setFiles(files.filter(f => f.path !== file.path));\n    } catch (err) {\n      setError('Erreur lors de la suppression du fichier');\n      console.error(err);\n    }\n  };\n\n  const handleSelect = (file: MediaFile) => {\n    setSelectedFile(file);\n    if (onSelect) {\n      onSelect(file.url);\n    }\n  };\n\n  const content = (\n    <div className=\"space-y-6\">\n      {/* En-tte */}\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-lg font-medium text-gray-900\">\n          Gestionnaire de mdias\n        </h2>\n        {showInModal && (\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-500\"\n          >\n            <span className=\"sr-only\">Fermer</span>\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        )}\n      </div>\n\n      {/* Zone de drop et upload */}\n      <div className=\"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n        <div className=\"space-y-1 text-center\">\n          <svg\n            className=\"mx-auto h-12 w-12 text-gray-400\"\n            stroke=\"currentColor\"\n            fill=\"none\"\n            viewBox=\"0 0 48 48\"\n          >\n            <path\n              d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n              strokeWidth={2}\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n          <div className=\"flex text-sm text-gray-600\">\n            <label\n              htmlFor=\"file-upload\"\n              className=\"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500\"\n            >\n              <span>Tlverser un fichier</span>\n              <input\n                id=\"file-upload\"\n                name=\"file-upload\"\n                type=\"file\"\n                className=\"sr-only\"\n                multiple\n                onChange={handleFileUpload}\n                accept=\"image/*\"\n              />\n            </label>\n            <p className=\"pl-1\">ou glisser-dposer</p>\n          </div>\n          <p className=\"text-xs text-gray-500\">PNG, JPG, GIF jusqu' 10MB</p>\n        </div>\n      </div>\n\n      {/* Messages d'erreur */}\n      {error && (\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Grille de fichiers */}\n      <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4\">\n        {files.map((file) => (\n          <div\n            key={file.path}\n            className={`relative group rounded-lg overflow-hidden ${\n              selectedFile?.path === file.path ? 'ring-2 ring-blue-500' : ''\n            }`}\n          >\n            <div className=\"aspect-w-10 aspect-h-7 block w-full overflow-hidden bg-gray-100\">\n              <img\n                src={file.url}\n                alt={file.name}\n                className=\"object-cover pointer-events-none\"\n              />\n              <div className=\"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-2\">\n                <button\n                  onClick={() => handleSelect(file)}\n                  className=\"p-2 bg-white rounded-full hover:bg-gray-100\"\n                >\n                  <svg className=\"h-5 w-5 text-gray-700\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" />\n                    <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n                <button\n                  onClick={() => handleDelete(file)}\n                  className=\"p-2 bg-white rounded-full hover:bg-gray-100\"\n                >\n                  <svg className=\"h-5 w-5 text-red-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            <div className=\"p-2\">\n              <p className=\"text-sm font-medium text-gray-900 truncate\">\n                {file.name}\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                {mediaService.formatFileSize(file.size)}\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* tat de chargement */}\n      {loading && (\n        <div className=\"flex justify-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        </div>\n      )}\n\n      {/* Progression des uploads */}\n      {Object.keys(uploadProgress).map((fileName) => (\n        <div key={fileName} className=\"relative pt-1\">\n          <div className=\"flex mb-2 items-center justify-between\">\n            <div>\n              <span className=\"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200\">\n                {fileName}\n              </span>\n            </div>\n            <div className=\"text-right\">\n              <span className=\"text-xs font-semibold inline-block text-blue-600\">\n                {uploadProgress[fileName]}%\n              </span>\n            </div>\n          </div>\n          <div className=\"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200\">\n            <div\n              style={{ width: `${uploadProgress[fileName]}%` }}\n              className=\"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-300\"\n            ></div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n\n  if (showInModal) {\n    return (\n      <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity z-50\">\n        <div className=\"fixed inset-0 overflow-hidden\">\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div className=\"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10\">\n              <div className=\"pointer-events-auto w-screen max-w-4xl\">\n                <div className=\"flex h-full flex-col overflow-y-scroll bg-white shadow-xl\">\n                  <div className=\"flex-1 overflow-y-auto py-6 px-4 sm:px-6\">\n                    {content}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <div className=\"p-4\">{content}</div>;\n}\n","import { useState, useEffect, useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { Article, articleService } from '../../services/articleService';\nimport ArticlePreview from './ArticlePreview';\nimport MediaManager from './MediaManager';\n\nconst INITIAL_ARTICLE: Omit<Article, 'id'> = {\n  title: '',\n  content: '',\n  slug: '',\n  published: false,\n  date: new Date(),\n  tags: [],\n  category: ''\n};\n\nconst CATEGORIES = [\n  'Intelligence Artificielle',\n  'Dveloppement Web',\n  'Business',\n  'Innovation',\n  'Technologie'\n];\n\nexport default function ArticleEditor() {\n  const [article, setArticle] = useState<Partial<Article>>(INITIAL_ARTICLE);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [tagInput, setTagInput] = useState('');\n  const [showPreview, setShowPreview] = useState(false);\n  const [showMediaManager, setShowMediaManager] = useState(false);\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  useEffect(() => {\n    if (id) {\n      loadArticle(id);\n    }\n  }, [id]);\n\n  const loadArticle = async (articleId: string) => {\n    try {\n      setLoading(true);\n      const articles = await articleService.getAllArticles();\n      const foundArticle = articles.find(a => a.id === articleId);\n      if (foundArticle) {\n        setArticle(foundArticle);\n      } else {\n        setError('Article non trouv');\n      }\n    } catch (err) {\n      setError('Erreur lors du chargement de l\\'article');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      setImageFile(e.target.files[0]);\n    }\n  };\n\n  const handleTagAdd = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && tagInput.trim()) {\n      e.preventDefault();\n      if (!article.tags?.includes(tagInput.trim())) {\n        setArticle(prev => ({\n          ...prev,\n          tags: [...(prev.tags || []), tagInput.trim()]\n        }));\n      }\n      setTagInput('');\n    }\n  };\n\n  const handleTagRemove = (tagToRemove: string) => {\n    setArticle(prev => ({\n      ...prev,\n      tags: prev.tags?.filter(tag => tag !== tagToRemove) || []\n    }));\n  };\n\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      if (!article.title) {\n        setError('Le titre est requis');\n        return;\n      }\n\n      // Gnrer le slug si ncessaire\n      if (!article.slug) {\n        article.slug = articleService.generateSlug(article.title);\n      }\n\n      // Upload de l'image si prsente\n      if (imageFile) {\n        const imageUrl = await articleService.uploadImage(\n          imageFile,\n          `${article.slug}/${imageFile.name}`\n        );\n        article.imageUrl = imageUrl;\n      }\n\n      if (id) {\n        await articleService.updateArticle(id, article);\n      } else {\n        await articleService.createArticle(article as Omit<Article, 'id'>);\n      }\n\n      navigate('/admin/dashboard');\n    } catch (err) {\n      setError('Erreur lors de la sauvegarde de l\\'article');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleMediaSelect = (url: string) => {\n    // Insrer l'URL de l'image dans l'diteur\n    const editor = (document.querySelector('.ql-editor') as HTMLElement);\n    if (editor) {\n      const img = document.createElement('img');\n      img.src = url;\n      img.style.maxWidth = '100%';\n      editor.appendChild(img);\n    }\n    setShowMediaManager(false);\n  };\n\n  const modules = useMemo(() => ({\n    toolbar: {\n      container: [\n        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'color': [] }, { 'background': [] }],\n        ['link', 'image', 'video'],\n        ['clean']\n      ],\n      handlers: {\n        image: () => setShowMediaManager(true)\n      }\n    }\n  }), []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 p-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"animate-pulse space-y-4\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/4\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white shadow-sm rounded-lg p-6\">\n          <div className=\"mb-8 flex justify-between items-center\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              {id ? 'Modifier l\\'article' : 'Nouvel article'}\n            </h1>\n            <button\n              type=\"button\"\n              onClick={() => setShowPreview(true)}\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <svg className=\"-ml-1 mr-2 h-5 w-5 text-gray-500\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\n                <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" />\n              </svg>\n              Prvisualiser\n            </button>\n          </div>\n\n          {error && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"space-y-6\">\n            {/* Titre */}\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700\">\n                Titre\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                value={article.title}\n                onChange={(e) => setArticle({ ...article, title: e.target.value })}\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n              />\n            </div>\n\n            {/* Image */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Image de couverture\n              </label>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                className=\"mt-1 block w-full\"\n              />\n              {article.imageUrl && (\n                <img\n                  src={article.imageUrl}\n                  alt=\"Preview\"\n                  className=\"mt-2 h-32 w-auto object-cover rounded\"\n                />\n              )}\n            </div>\n\n            {/* Catgorie */}\n            <div>\n              <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">\n                Catgorie\n              </label>\n              <select\n                id=\"category\"\n                value={article.category}\n                onChange={(e) => setArticle({ ...article, category: e.target.value })}\n                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n              >\n                <option value=\"\">Slectionner une catgorie</option>\n                {CATEGORIES.map((cat) => (\n                  <option key={cat} value={cat}>\n                    {cat}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Tags */}\n            <div>\n              <label htmlFor=\"tags\" className=\"block text-sm font-medium text-gray-700\">\n                Tags\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  type=\"text\"\n                  value={tagInput}\n                  onChange={(e) => setTagInput(e.target.value)}\n                  onKeyDown={handleTagAdd}\n                  placeholder=\"Appuyez sur Entre pour ajouter un tag\"\n                  className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                />\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                  {article.tags?.map((tag) => (\n                    <span\n                      key={tag}\n                      className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n                    >\n                      {tag}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleTagRemove(tag)}\n                        className=\"ml-1 inline-flex items-center p-0.5 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none\"\n                      >\n                        \n                      </button>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* diteur de contenu */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Contenu\n              </label>\n              <div className=\"prose max-w-none\">\n                <ReactQuill\n                  theme=\"snow\"\n                  value={article.content}\n                  onChange={(content) => setArticle({ ...article, content })}\n                  modules={modules}\n                  className=\"h-96 mb-12\"\n                />\n              </div>\n            </div>\n\n            {/* Boutons d'action */}\n            <div className=\"flex justify-end space-x-4 pt-6\">\n              <button\n                type=\"button\"\n                onClick={() => navigate('/admin/dashboard')}\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Annuler\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setArticle({ ...article, published: false })}\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Enregistrer comme brouillon\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setArticle({ ...article, published: true });\n                  handleSave();\n                }}\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Publier\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      {showMediaManager && (\n        <MediaManager\n          onSelect={handleMediaSelect}\n          onClose={() => setShowMediaManager(false)}\n        />\n      )}\n      {showPreview && (\n        <ArticlePreview\n          article={article}\n          onClose={() => setShowPreview(false)}\n        />\n      )}\n    </div>\n  );\n}\n","import { Navigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { currentUser, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!currentUser) {\n    return <Navigate to=\"/admin/login\" />;\n  }\n\n  return <>{children}</>;\n}\n","import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Layout from './components/layout/Layout';\nimport { Hero } from \"./components/sections/Hero\";\nimport { LatestArticles } from \"./components/sections/LatestArticles\";\nimport { Territories } from \"./components/sections/Territories\";\nimport { Testimonials } from \"./components/sections/Testimonials\";\nimport { RecommendedTools } from \"./components/sections/RecommendedTools\";\nimport Services from \"./components/sections/Services\";\nimport { ArticlePage } from \"./pages/ArticlePage\";\nimport { ArticlesPage } from \"./pages/ArticlesPage\";\nimport FloatingWhatsAppButton from './components/ui/FloatingWhatsAppButton';\nimport Offre from './pages/offre';\nimport Login from './components/admin/Login';\nimport Dashboard from './components/admin/Dashboard';\nimport ArticleEditor from './components/admin/ArticleEditor';\nimport ProtectedRoute from './components/admin/ProtectedRoute';\nimport CategoryManager from './components/admin/CategoryManager';\nimport CommentModeration from './components/admin/CommentModeration';\nimport StatsDashboard from './components/admin/StatsDashboard';\nimport { AdvancedSearch } from './components/search/AdvancedSearch';\nimport { AuthProvider } from './contexts/AuthContext';\n\nfunction HomePage() {\n  return (\n    <>\n      <section id=\"home\">\n        <Hero />\n      </section>\n      <Services />\n      <section id=\"articles\">\n        <LatestArticles />\n      </section>\n      <section id=\"territories\">\n        <Territories />\n      </section>\n      <section id=\"testimonials\">\n        <Testimonials />\n      </section>\n      <section id=\"tools\">\n        <RecommendedTools />\n      </section>\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Routes>\n          <Route path=\"/\" element={<Layout />}>\n            <Route index element={<HomePage />} />\n            <Route path=\"/articles\" element={<ArticlesPage />} />\n            <Route path=\"/articles/:slug\" element={<ArticlePage />} />\n            <Route path=\"/offre\" element={<Offre />} />\n            <Route path=\"/admin/login\" element={<Login />} />\n            <Route\n              path=\"/admin/dashboard\"\n              element={\n                <ProtectedRoute>\n                  <Dashboard />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/articles/new\"\n              element={\n                <ProtectedRoute>\n                  <ArticleEditor />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/articles/:id/edit\"\n              element={\n                <ProtectedRoute>\n                  <ArticleEditor />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/categories\"\n              element={\n                <ProtectedRoute>\n                  <CategoryManager />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/comments\"\n              element={\n                <ProtectedRoute>\n                  <CommentModeration />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/stats\"\n              element={\n                <ProtectedRoute>\n                  <StatsDashboard />\n                </ProtectedRoute>\n              }\n            />\n            <Route path=\"/search\" element={<AdvancedSearch />} />\n          </Route>\n        </Routes>\n        <FloatingWhatsAppButton />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App.tsx';\nimport './index.css';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"names":["m","require$$0","composeRefs","refs","node","forEach","ref","value","current","setRef","createRoot","hydrateRoot","Slot","React.forwardRef","forwardRef","props","forwardedRef","children","slotProps","childrenArray","React.Children","toArray","slottable","find","isSlottable","newElement","newChildren","map","child","Children","count","only","React.isValidElement","jsx","SlotClone","React.cloneElement","cloneElement","displayName","childrenRef","element","getter","_a","Object","getOwnPropertyDescriptor","get","mayWarn","isReactWarning","_b","getElementRef","mergeProps","Slottable","Fragment","isValidElement","type","childProps","overrideProps","propName","slotPropValue","childPropValue","test","args","filter","Boolean","join","r","e","t","f","n","Array","isArray","length","falsyToString","concat","cx","arguments","cva","base","config","variants","class","className","defaultVariants","getVariantClassNames","keys","variant","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","entries","reduce","acc","param","key","getCompoundVariantClassNames","compoundVariants","param1","cvClass","cvClassName","compoundVariantOptions","every","includes","o","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getClassGroupId","classParts","split","shift","getGroupRecursive","getGroupIdForArbitraryProperty","getConflictingClassGroupIds","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","nextPart","classGroupFromNextClassPart","slice","validators","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","exec","property","substring","indexOf","theme","prefix","Map","getPrefixedClassGroupEntries","classGroups","classGroup","processClassesRecursively","classDefinition","isThemeGetter","push","getPart","path","currentClassPartObject","pathPart","has","set","func","classGroupEntries","fromEntries","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","postfixModifierPosition","bracketDepth","modifierStart","index","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","startsWith","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","sort","SPLIT_CLASSES_REGEX","twJoin","argument","resolvedValue","string","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","configUtils","cacheGet","cacheSet","functionToCall","classList","previousConfig","createConfigCurrent","createConfigUtils","tailwindMerge","cachedResult","result","classGroupsInConflict","classNames","trim","originalClassName","variantModifier","modifierId","classId","conflictGroups","i","group","mergeClassList","apply","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","Set","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","Number","isNaN","isArbitraryNumber","isInteger","isPercent","endsWith","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","label","testValue","twMerge","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getZeroAndEmpty","getNumberAndArbitrary","aspect","container","columns","box","display","float","clear","isolation","object","overflow","overscroll","position","start","end","top","right","bottom","left","visibility","z","basis","flex","grow","shrink","order","col","span","row","justify","content","items","self","p","px","py","ps","pe","pt","pr","pb","pl","mx","my","ms","me","mt","mr","mb","ml","w","screen","h","size","text","font","tracking","leading","list","placeholder","decoration","indent","align","whitespace","break","hyphens","bg","repeat","from","via","to","rounded","border","divide","outline","ring","shadow","table","caption","transition","duration","ease","delay","animate","transform","rotate","origin","accent","appearance","cursor","caret","resize","scroll","snap","touch","select","fill","stroke","sr","cn","inputs","clsx","buttonVariants","default","destructive","secondary","ghost","link","sm","lg","icon","Button","asChild","Comp","jsxRuntimeExports","mergeClasses","classes","array","defaultAttributes","xmlns","width","height","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","Icon","color","absoluteStrokeWidth","iconNode","rest","createElement","tag","attrs","createLucideIcon","iconName","Component","replace","toLowerCase","ArrowRight","d","Brain","Calendar","x","y","rx","Check","Clock","cy","points","MapPin","Quote","Target","Zap","createDOMMotionComponentProxy","componentFactory","Proxy","componentCache","_target","isAnimationControls","v","isKeyframesTarget","shallowCompare","next","prev","prevLength","isVariantLabel","getValueState","visualElement","state","values","getVelocity","resolveVariantFromProps","definition","custom","velocity","resolveVariant","getProps","variantPriorityOrder","variantProps","transformPropOrder","transformProps","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","underDampedSpring","stiffness","damping","restSpeed","keyframesTransition","getDefaultTransition","valueKey","keyframes","Math","sqrt","getValueTransition","MotionGlobalConfig","isNotNull","getFinalKeyframe","repeatType","finalKeyframe","resolvedKeyframes","noop","any","stepsOrder","createRenderBatcher","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","delta","timestamp","isProcessing","flagRunNextFrame","steps","thisFrame","nextFrame","flushNextFrame","toKeepAlive","WeakSet","latestFrameData","triggerCallback","callback","step","schedule","keepAlive","immediate","queue","add","cancel","delete","process","frameData","createRenderStep","read","resolveKeyframes","preRender","render","postRender","processBatch","performance","now","max","min","frame","cancelFrame","frameSteps","requestAnimationFrame","calcBezier","a1","a2","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","abs","binarySubdivide","mirrorEasing","easing","reverseEasing","backOut","backIn","backInOut","anticipate","pow","circIn","sin","acos","circOut","circInOut","isZeroValueString","invariant","isNumericalString","checkStringStartsWith","token","isCSSVariableName","startsAsVariableToken","isCSSVariableToken","singleCssVariableRegex","splitCSSVariableRegex","getVariableValue","depth","fallback","match","token1","token2","parseCSSVariable","resolved","window","getComputedStyle","getPropertyValue","trimmed","parseFloat","clamp","number","parse","alpha","createUnitType","unit","degrees","percent","vh","vw","progressPercentage","positionalKeys","isNumOrPxType","getPosFromMatrix","matrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","positionalValues","paddingLeft","paddingRight","paddingTop","paddingBottom","translateX","translateY","testValueType","dimensionValueTypes","findDimensionValueType","toResolve","isScheduled","anyNeedsMeasurement","measureAllKeyframes","resolversToMeasure","resolver","needsMeasurement","elementsToMeasure","transformsToRestore","removedTransforms","getValue","removeNonTranslationalTransform","measureInitialState","restore","measureEndState","suspendedScrollY","scrollTo","complete","readAllKeyframes","readKeyframes","KeyframeResolver","constructor","unresolvedKeyframes","onComplete","name","motionValue","isAsync","this","isComplete","scheduleResolve","currentValue","valueAsRead","readValue","setFinalKeyframe","renderEndStyles","resume","sanitize","round","floatRegex","singleColorRegex","isColorString","testProp","isNullish","prototype","hasOwnProperty","call","splitColor","aName","bName","cName","a","b","c","rgbUnit","clampRgbUnit","rgba","red","green","blue","alpha$1","hex","g","parseInt","hsla","hue","saturation","lightness","colorRegex","NUMBER_TOKEN","COLOR_TOKEN","complexRegex","analyseComplexValue","originalValue","toString","indexes","var","types","parsedValue","parseComplexValue","createTransformer","source","numSections","output","convertNumbersToZero","complex","getAnimatableNone","parsed","transformer","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","functions","browserNumberValueTypes","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxWidth","maxHeight","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY","transformValueTypes","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY","distance","translateZ","perspective","transformPerspective","originX","originY","originZ","int","numberValueTypes","zIndex","fillOpacity","strokeOpacity","numOctaves","defaultValueTypes","backgroundColor","outlineColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","invalidTemplates","DOMKeyframesResolver","super","keyframe","resolveNoneKeyframes","target","originType","targetType","noneKeyframeIndexes","animatableTemplate","noneIndex","makeNoneKeyframesAnimatable","pageYOffset","measuredOrigin","measureViewportBox","measureKeyframe","jump","finalKeyframeIndex","unsetTransformName","unsetTransformValue","isGenerator","clearTime","time","newTime","queueMicrotask","isAnimatable","BaseAnimation","autoplay","repeatDelay","options","isStopped","hasAttemptedResolve","createdAt","updateFinishedPromise","calcStartTime","resolvedAt","_resolved","onKeyframesResolved","onUpdate","originKeyframe","targetKeyframe","isOriginAnimatable","isTargetAnimatable","hasKeyframesChanged","canAnimate","resolveFinishedPromise","resolvedAnimation","initPlayback","onPostResolved","then","resolve","reject","currentFinishedPromise","flatten","Promise","progress","toFromDifference","generateLinearEasing","resolution","numPoints","velocityPerSecond","frameDuration","calcGeneratorVelocity","resolveValue","prevT","springDefaults","granular","safeMin","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","initialGuess","rootIterations","approximateRoot","maxGeneratorDuration","calcGeneratorDuration","generator","done","Infinity","durationKeys","physicsKeys","isSpringType","some","spring","optionsOrVisualDuration","visualDuration","restDelta","isResolvedFromDuration","springOptions","root","PI","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","cos","dampedAngularFreq","freqForT","sinh","cosh","calculatedDuration","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","latest","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","easeIn","easeOut","easeInOut","isBezierDefinition","easingLookup","linear","easingDefinitionToFunction","x1","y1","x2","y2","combineFunctions","pipe","transformers","mixNumber","hueToRgb","q","mixImmediate","mixLinearColor","fromExpo","expo","colorTypes","asRGBA","model","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","invisibleValues","mixNumber$1","getMixer","mixComplex","mixArray","mixObject","numValues","blendValue","template","originStats","targetStats","mixVisibility","orderedOrigin","pointers","originIndex","originValue","matchOrder","mixer","interpolate","input","isClamp","inputLength","reverse","mixers","customMixer","mixerFactory","numMixers","easingFunction","createMixers","interpolator","progressInRange","defaultOffset","arr","offset","remaining","offsetProgress","fillOffset","keyframeValues","times","easingFunctions","isEasingArray","absoluteTimes","convertOffsetToTimes","mapTimeToKeyframe","splice","frameloopDriver","passTimestamp","stop","generators","decay","tween","percentToProgress","MainThreadAnimation","holdTime","cancelTime","currentTime","playbackSpeed","pendingPlayState","startTime","teardown","onStop","KeyframeResolver$1","assign","keyframes$1","generatorFactory","mapPercentToKeyframes","mirroredGenerator","resolvedDuration","totalDuration","play","pause","tick","sample","speed","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","floor","iterationProgress","isAnimationFinished","finish","driver","newSpeed","hasChanged","onPlay","stopDriver","acceleratedValues","memo","supportsFlags","linearEasing","memoSupports","supportsFlag","memoized","supportsLinearEasing","document","isWaapiSupportedEasing","supportedWaapiEasing","cubicBezierAsString","mapEasingToNativeEasing","segmentEasing","startWaapiAnimation","valueName","keyframeOptions","iterations","direction","attachTimeline","animation","timeline","onfinish","supportsWaapi","Element","unsupportedEasingFunctions","AcceleratedAnimation","owner","pregeneratedAnimation","sampleAnimation","pregeneratedKeyframes","pregenerateKeyframes","pendingTimeline","playbackRate","playState","sampleTime","setWithVelocity","supports","HTMLElement","supportsScrollTimeline","ScrollTimeline","GroupPlaybackControls","animations","runAll","onResolve","onReject","all","catch","getAll","setAll","newValue","subscriptions","methodName","controls","animateMotionValue","isHandoff","valueTransition","when","_delay","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","shouldSkip","addUniqueItem","item","removeItem","SubscriptionManager","handler","notify","numSubscriptions","getSize","MotionValue","init","version","canTrackVelocity","events","updateAndNotify","updatedAt","setPrevFrameValue","setCurrent","change","renderRequest","hasAnimated","prevFrameValue","prevUpdatedAt","onChange","subscription","on","eventName","unsubscribe","clearListeners","eventManagers","attach","passiveEffect","stopPassiveEffect","endAnimation","getPrevious","startAnimation","animationStart","animationComplete","clearAnimation","animationCancel","isAnimating","destroy","setMotionValue","hasValue","addValue","camelToDash","str","optimizedAppearDataAttribute","getOptimisedAppearId","isMotionValue","addValueToWillChange","willChange","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","animateTarget","targetAndTransition","transitionOverride","transitionEnd","animationTypeState","animationState","getState","latestValues","valueTarget","MotionHandoffAnimation","appearId","shouldReduceMotion","setTarget","animateVariant","presenceContext","getAnimation","getChildAnimations","variantChildren","forwardDelay","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateChildren","first","last","sortNodePosition","numVariantProps","getVariantContext","isControllingVariants","context","parent","initial","prop","reversePriorityOrder","numAnimationTypes","animateList","resolvedDefinition","animateVisualElement","createAnimationState","createState","isInitialRender","buildResolvedTypeValues","animateChanges","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isActive","isInherited","manuallyAnimateOnMount","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","liveStyle","valueHasChanged","blockInitialAnimation","fallbackAnimation","fallbackTarget","getBaseTarget","shouldAnimate","setActive","setAnimateFunction","makeAnimator","reset","createTypeState","whileInView","whileHover","whileTap","whileDrag","whileFocus","exit","Feature","isMounted","id","updateAnimationControlsSubscription","unmountControls","subscribe","mount","prevAnimate","prevProps","unmount","isPresent","onExitComplete","prevIsPresent","prevPresenceContext","exitAnimation","register","isPrimaryPointer","event","pointerType","button","isPrimary","extractEventInfo","pointType","point","addDomEvent","passive","addEventListener","removeEventListener","addPointerEvent","addPointerInfo","PanSession","handlers","transformPagePoint","contextWindow","dragSnapToOrigin","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","info","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","onStart","onMove","handlePointerMove","transformPoint","handlePointerUp","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","createLock","lock","openLock","globalHorizontalLock","globalVerticalLock","getGlobalLock","drag","openHorizontal","openVertical","isDragActive","openGestureLock","isRefObject","calcLength","axis","calcAxisDelta","originPoint","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","layout","calcRelativePosition","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","createBox","eachAxis","convertBoundingBoxToBox","isIdentityScale","hasScale","hasTransform","has2DTranslate","is2DTranslate","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","TREE_SCALE_SNAP_MIN","TREE_SCALE_SNAP_MAX","translateAxis","transformAxis","axisTranslate","axisScale","axisOrigin","transformBox","instance","topLeft","bottomRight","transformBoxPoints","getBoundingClientRect","getContextWindow","ownerDocument","defaultView","elementDragControls","WeakMap","VisualElementDragControls","openGlobalLock","isDragging","currentDirection","constraints","hasMutatedConstraints","elastic","originEvent","snapToCursor","panSession","pauseAnimation","stopAnimation","dragPropagation","onDragStart","resolveConstraints","projection","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","getCurrentDirection","updateAxis","getAnimationState","getTransformPagePoint","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","dragConstraints","measure","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","dragKey","toUpperCase","externalMotionValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","calcOrigin","transformTemplate","style","updateScroll","updateLayout","addListeners","stopPointerListener","dragListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","asyncHandler","PresenceContext","createContext","LayoutGroupContext","SwitchLayoutGroupContext","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","original","xScale","yScale","averageScale","scaleCorrectors","microtask","cancelMicrotask","MeasureLayoutWithContext","componentDidMount","layoutGroup","switchLayoutGroup","layoutId","correctors","defaultScaleCorrectors","didUpdate","safeToRemove","setOptions","getSnapshotBeforeUpdate","layoutDependency","willUpdate","promote","relegate","stack","getStack","members","componentDidUpdate","currentAnimation","isLead","componentWillUnmount","promoteContext","scheduleCheckAfterUnmount","remove","deregister","MeasureLayout","useContext","useId","useEffect","useCallback","usePresence","applyTo","boxShadow","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","originAxis","copyBoxInto","originBox","copyAxisDeltaInto","originDelta","removePointDelta","removeAxisTransforms","transforms","scaleKey","originKey","sourceAxis","removeAxisDelta","xKeys","yKeys","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","axisEquals","axisEqualsRounded","boxEqualsRounded","aspectRatio","axisDeltaEquals","NodeStack","scheduleRender","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","crossfade","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","compareByDepth","FlatTree","isDirty","resolveMotionValue","unwrappedValue","metrics","totalNodes","resolvedTargetDeltas","recalculatedProjection","isDebug","MotionDebug","transformAxes","hiddenVisibility","resetDistortingTransform","sharedAnimationValues","setStaticValue","cancelTreeOptimisedTransformAnimations","projectionNode","hasCheckedOptimisedAppear","MotionHasOptimisedAnimation","MotionCancelOptimisedAnimation","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","isTransformDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","scheduleUpdate","projectionUpdateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","nodes","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","record","resolvedRelativeTargetAt","hasProjected","isVisible","animationProgress","sharedNodes","notifyListeners","subscriptionManager","hasListeners","SVGElement","tagName","cancelDelay","resizeUnblockUpdate","timeout","checkElapsed","finishAnimation","registerSharedNode","hasRelativeTargetChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","targetLayout","hasOnlyRelativeTargetChanged","layoutRoot","setAnimationOrigin","animationOptions","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetSkewAndRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","alwaysMeasureLayout","prevLayout","layoutCorrected","phase","layoutScroll","isRoot","wasRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","measuredBox","checkNodeWasScrollRoot","boxWithoutScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","isProjecting","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","applyTreeDeltas","prevProjectionDelta","createProjectionDeltas","notifyAll","projectionDeltaWithTransform","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","mixAxisDelta","mixAxis","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","motionValue$1","animateSingleValue","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","animationType","xLength","yLength","initialPromotionConfig","shouldPreserveFollowOpacity","getPrevLead","hasDistortingTransform","resetValues","getProjectionStyles","styleProp","styles","pointerEvents","emptyStyles","valuesToRender","latestTransform","xTranslate","yTranslate","zTranslate","elementScaleX","elementScaleY","buildProjectionTransform","transformOrigin","corrected","num","resetTree","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","userAgentContains","navigator","userAgent","roundPoint","maxDistance","DocumentProjectionNode","documentElement","scrollLeft","body","scrollTop","HTMLProjectionNode","documentNode","pan","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","dragControls","ProjectionNode","addHoverEvent","callbackName","isNodeOrChild","parentElement","fireSyntheticPointerEvent","syntheticPointerEvent","PointerEvent","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","observeIntersection","rootInteresectionObserver","lookupRoot","rootObservers","JSON","stringify","IntersectionObserver","initIntersectionObserver","observe","unobserve","thresholdNames","gestureAnimations","inView","hasEnteredView","isInView","startObserver","viewport","rootMargin","amount","once","threshold","isIntersecting","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","tap","removeStartListeners","removeEndListeners","removeAccessibleListeners","startPointerPress","startInfo","isPressing","removePointerUpListener","endEvent","endInfo","checkPressEnd","onTap","onTapCancel","globalTapTarget","removePointerCancelListener","cancelEvent","cancelInfo","cancelPress","startPress","startAccessiblePress","removeKeydownListener","keydownEvent","keyupEvent","removeBlurListener","onTapStart","removePointerListener","removeFocusListener","focus","onFocus","isFocusVisible","matches","onBlur","hover","MotionConfigContext","isStatic","reducedMotion","MotionContext","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","LazyContext","strict","useVisualElement","visualState","createVisualElement","ProjectionNodeConstructor","lazyContext","reducedMotionConfig","visualElementRef","useRef","renderer","initialLayoutGroupConfig","getClosestProjectingNode","useInsertionEffect","optimisedAppearId","wantsHandoff","MotionHandoffIsComplete","MotionIsMounted","updateFeatures","MotionHandoffMarkAsComplete","allowProjection","useMotionRef","externalRef","isVariantNode","useCreateMotionContext","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","featureProps","featureDefinitions","isEnabled","motionComponentSymbol","Symbol","for","createRendererMotionComponent","preloadedFeatures","useRender","useVisualState","features","loadFeatures","ForwardRefMotionComponent","configAndProps","useLayoutId","reactExports","layoutProjection","combined","getProjectionFunctionality","jsxs","Provider","layoutGroupId","lowercaseSVGElements","isSVGComponent","renderHTML","vars","setProperty","camelCaseAttributes","renderSVG","renderState","_styleProp","setAttribute","isForcedMotionValue","scrapeMotionValuesFromProps","newValues","scrapeMotionValuesFromProps$1","charAt","useConstant","makeUseVisualState","make","createRenderState","onMount","makeLatestValues","makeState","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","createHtmlRenderState","createSvgRenderState","getValueAsType","translateAlias","numTransforms","buildHTMLStyles","hasTransformOrigin","valueAsType","transformString","transformIsDefault","valueIsDefault","buildTransform","dashKeys","camelKeys","buildSVGAttrs","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","isSVGTag","dimensions","calcSVGTransformOrigin","useDashCase","buildSVGPath","svgMotionConfig","getBBox","htmlMotionConfig","copyRawValuesOnly","useStyle","useInitialMotionValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","validMotionProps","isValidMotionProp","shouldForward","isValidProp","require","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","renderedChildren","createMotionComponentFactory","prefersReducedMotion","hasReducedMotionListener","visualElementStore","valueTypes","propEventHandlers","VisualElement","_props","_prevProps","_visualElement","valueSubscriptions","prevMotionValues","propEventSubscriptions","notifyUpdate","triggerBuild","renderInstance","renderScheduledAt","baseTarget","initialValues","initialMotionValues","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","addListener","feature","valueIsTransform","removeOnChange","latestValue","removeOnRenderRequest","removeSyncCheck","MotionCheckAppearSync","other","sortInstanceNodePosition","featureDefinition","FeatureConstructor","build","measureInstanceViewportBox","getStaticValue","listener","nextValue","prevValue","existingValue","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getVariant","getClosestVariantNode","closestVariantNode","removeValueFromRenderState","getBaseTargetFromProps","readValueFromInstance","setBaseTarget","valueFromInitial","DOMVisualElement","compareDocumentPosition","HTMLVisualElement","defaultType","computedStyle","childSubscription","textContent","SVGVisualElement","getAttribute","motion","PopChildMeasure","React.Component","childRef","sizeRef","offsetHeight","offsetWidth","offsetTop","offsetLeft","PopChild","nonce","dataset","motionPopId","head","appendChild","sheet","insertRule","removeChild","PresenceChild","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","memoizedOnExitComplete","childId","random","_","React.useEffect","getChildKey","onlyElements","filtered","AnimatePresence","exitBeforeEnter","presentChildren","presentKeys","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","useState","setRenderedChildren","exitingChildren","nextChildren","forceRender","isEveryExitComplete","isExitComplete","navigationItems","NavigationMenu","activeItem","setActiveItem","location","useLocation","handleScroll","pathname","sections","getElementById","viewportMiddle","innerHeight","closestSection","minDistance","sectionId","rect","Link","onClick","headerOffset","offsetPosition","scrollY","behavior","handleClick","div","href","MobileMenu","isOpen","Header","isScrolled","setIsScrolled","mobileMenuOpen","setMobileMenuOpen","Layout","Outlet","Hero","rel","SectionTitle","title","subtitle","badgeVariants","Badge","articles","image","category","summary","date","readTime","slug","ArticleCard","article","src","alt","dateTime","Date","toLocaleDateString","day","month","year","LatestArticles","Territories","territories","territory","description","testimonials","quote","author","role","Testimonials","activeIndex","setActiveIndex","testimonial","tools","RecommendedTools","tool","emoji","Services","NotFound","nameRe","nameReJsx","emptyOptions","re","empty","Schema","normal","merge","definitions","normalize","Info","attribute","boolean","booleanish","overloadedBoolean","commaSeparated","spaceSeparated","commaOrSpaceSeparated","mustUseProperty","defined","powers","increment","checks","DefinedInfo","mask","mark","check","own","create","properties","attributes","xlink","xLinkActuate","xLinkArcRole","xLinkHref","xLinkRole","xLinkShow","xLinkTitle","xLinkType","xml","xmlLang","xmlBase","xmlSpace","caseSensitiveTransform","caseInsensitiveTransform","xmlnsxlink","xmlnsXLink","aria","ariaActiveDescendant","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaControls","ariaCurrent","ariaDescribedBy","ariaDetails","ariaDisabled","ariaDropEffect","ariaErrorMessage","ariaExpanded","ariaFlowTo","ariaGrabbed","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLabelledBy","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaOwns","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","html","acceptcharset","classname","htmlfor","httpequiv","abbr","accept","acceptCharset","accessKey","action","allow","allowFullScreen","allowPaymentRequest","allowUserMedia","as","async","autoCapitalize","autoComplete","autoFocus","autoPlay","blocking","capture","charSet","checked","cite","cols","colSpan","contentEditable","controlsList","coords","crossOrigin","data","decoding","defer","dir","dirName","disabled","download","encType","enterKeyHint","fetchPriority","form","formAction","formEncType","formMethod","formNoValidate","formTarget","headers","hidden","high","hrefLang","htmlFor","httpEquiv","imageSizes","imageSrcSet","inert","inputMode","integrity","is","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","lang","language","loading","loop","low","manifest","maxLength","media","method","minLength","multiple","muted","noModule","noValidate","onAbort","onAfterPrint","onAuxClick","onBeforeMatch","onBeforePrint","onBeforeToggle","onBeforeUnload","onCancel","onCanPlay","onCanPlayThrough","onClose","onContextLost","onContextMenu","onContextRestored","onCopy","onCueChange","onCut","onDblClick","onDragEnter","onDragExit","onDragLeave","onDragOver","onDrop","onDurationChange","onEmptied","onEnded","onError","onFormData","onHashChange","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLanguageChange","onLoad","onLoadedData","onLoadedMetadata","onLoadEnd","onLoadStart","onMessage","onMessageError","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onOffline","onOnline","onPageHide","onPageShow","onPaste","onPause","onPlaying","onPopState","onProgress","onRateChange","onRejectionHandled","onReset","onResize","onScroll","onScrollEnd","onSecurityPolicyViolation","onSeeked","onSeeking","onSelect","onSlotChange","onStalled","onStorage","onSubmit","onSuspend","onTimeUpdate","onToggle","onUnhandledRejection","onUnload","onVolumeChange","onWaiting","onWheel","open","optimum","pattern","ping","playsInline","popover","popoverTarget","popoverTargetAction","poster","preload","readOnly","referrerPolicy","required","reversed","rows","rowSpan","sandbox","scope","scoped","seamless","selected","shadowRootClonable","shadowRootDelegatesFocus","shadowRootMode","shape","sizes","slot","spellCheck","srcDoc","srcLang","srcSet","typeMustMatch","useMap","wrap","writingSuggestions","aLink","archive","background","bgColor","bottomMargin","cellPadding","cellSpacing","char","charOff","code","codeBase","codeType","compact","declare","face","frameBorder","hSpace","leftMargin","longDesc","lowSrc","marginHeight","marginWidth","noResize","noHref","noShade","noWrap","profile","prompt","rev","rightMargin","rules","scheme","scrolling","standby","topMargin","valueType","vAlign","vLink","vSpace","allowTransparency","autoCorrect","autoSave","disablePictureInPicture","disableRemotePlayback","results","security","unselectable","svg","accentHeight","alignmentBaseline","arabicForm","baselineShift","capHeight","clipPath","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","dataType","dominantBaseline","enableBackground","fillRule","floodColor","floodOpacity","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","horizAdvX","horizOriginX","horizOriginY","imageRendering","letterSpacing","lightingColor","markerEnd","markerMid","markerStart","navDown","navDownLeft","navDownRight","navLeft","navNext","navPrev","navRight","navUp","navUpLeft","navUpRight","onActivate","onBegin","onFocusIn","onFocusOut","onMouseWheel","onRepeat","onShow","onZoom","overlinePosition","overlineThickness","paintOrder","panose1","renderingIntent","shapeRendering","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","strokeDashArray","strokeDashOffset","strokeLineCap","strokeLineJoin","strokeMiterLimit","textAnchor","textDecoration","textRendering","typeOf","underlinePosition","underlineThickness","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","vertAdvY","vertOriginX","vertOriginY","wordSpacing","writingMode","xHeight","playbackOrder","timelineBegin","about","accumulate","additive","alphabetic","ascent","attributeName","attributeType","azimuth","bandwidth","baseFrequency","baseProfile","bbox","begin","bias","by","calcMode","clip","clipPathUnits","contentScriptType","contentStyleType","defaultAction","descent","diffuseConstant","dur","divisor","dx","dy","edgeMode","editable","elevation","exponent","externalResourcesRequired","filterRes","filterUnits","focusable","focusHighlight","format","fr","fx","fy","g1","g2","glyphRef","gradientTransform","gradientUnits","hanging","hatchContentUnits","hatchUnits","ideographic","initialVisibility","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","kerning","lengthAdjust","limitingConeAngle","local","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","mathematical","mediaCharacterEncoding","mediaContentEncodings","mediaSize","mediaTime","observer","operator","orient","orientation","overlay","patternContentUnits","patternTransform","patternUnits","pitch","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","propagate","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","requiredFonts","requiredFormats","resource","restart","ry","seed","side","slope","snapshotTime","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","surfaceScale","syncBehavior","syncBehaviorDefault","syncMaster","syncTolerance","syncToleranceDefault","systemLanguage","tableValues","targetX","targetY","textLength","transformBehavior","u1","u2","unicode","viewTarget","widths","xChannelSelector","yChannelSelector","zoomAndPan","valid","dash","cap","kebab","$0","camelcase","hastToReact","htmlBase","svgBase","COMMENT_REGEX","NEWLINE_REGEX","WHITESPACE_REGEX","PROPERTY_REGEX","COLON_REGEX","VALUE_REGEX","SEMICOLON_REGEX","TRIM_REGEX","EMPTY_STRING","__importDefault","mod","__esModule","defineProperty","cjs","_default","iterator","styleObject","declarations","inline_style_parser_1","hasIterator","declaration","TypeError","lineno","column","updatePosition","lines","lastIndexOf","line","Position","error","msg","err","Error","reason","filename","silent","comments","comment","val","ret","decl","decls","styleToObject","StyleToObject","pointEnd","pointStart","stringifyPosition","VFileMessage","causeOrReason","optionsOrParentOrPlace","legacyCause","place","ancestors","cause","message","ruleId","fatal","file","actual","expected","note","url","emptyMap","dashSomething","tableElements","tableCellElement","docs","toJsxRuntime","tree","filePath","development","jsxDEV","isStaticChildren","columnNumber","fileName","lineNumber","developmentCreate","fn","productionCreate","components","elementAttributeNameCase","evaluater","createEvaluater","ignoreInvalidStyle","passKeys","passNode","schema","stylePropertyNameCase","tableCellAlignToStyle","one","parentSchema","findComponentFromName","alignValue","createProperty","createElementProps","createChildren","thing","addNode","addChildren","pop","estree","expression","evaluateExpression","crashEstree","mdxExpression","objectExpression","createJsxElementProps","mdxJsxElement","evaluateProgram","mdxEsm","countsByName","Type","dashes","settings","padRight","padLeft","commas","replacer","toCamel","parseStyle","String","domCasing","cssCasing","transformStyleToCssCasing","transformStylesToCssCasing","allowExpression","identifiers","isIdentifierName","computed","optional","toDash","$1","urlAttributes","includeImageAlt","includeHtml","decodeNamedCharacterReference","characterReference","innerHTML","charCodeAt","parameters","chunkStart","unshift","syntaxExtension","extension","hook","constructs","existing","before","splice$1","decodeNumericCharacterReference","fromCodePoint","normalizeIdentifier","asciiAlpha","regexCheck","asciiAlphanumeric","asciiAtext","asciiControl","asciiDigit","asciiHexDigit","asciiPunctuation","markdownLineEnding","markdownLineEndingOrSpace","markdownSpace","unicodePunctuation","RegExp","unicodeWhitespace","regex","fromCharCode","normalizeUri","skip","encodeURIComponent","factorySpace","effects","ok","limit","POSITIVE_INFINITY","enter","consume","tokenize","contentStart","attempt","parser","contentInitial","lineStart","previous","contentType","childFlow","childToken","lineStartOffset","continued","containerState","continuation","documentContinue","checkNewContainers","_closeFlow","indexBeforeExits","indexBeforeFlow","exitContainers","documentContinued","currentConstruct","concrete","flowStart","interrupt","_gfmTableDynamicInterruptHack","containerConstruct","thereIsANewContainer","thereIsNoNewContainer","lazy","containerContinue","flow","_tokenizer","flowContinue","writeToChild","endOfFile","stream","sliceStream","defineSkip","write","seen","closeFlow","nok","disable","null","classifyCharacter","resolveAll","called","attention","openingSequence","closingSequence","use","nextEvents","_close","_open","sliceSerialize","movePoint","insideSpan","attentionMarkers","marker","inside","after","close","_bufferIndex","autolink","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","blankLine","partial","blockQuote","contBefore","_container","characterEscape","numeric","nonLazyContinuation","codeFenced","closeStart","startBefore","beforeSequenceClose","sequenceClose","sizeOpen","sequenceCloseAfter","initialPrefix","tail","sequenceOpen","beforeSequenceOpen","infoBefore","atNonLazyBreak","metaBefore","meta","contentBefore","beforeContentChunk","contentChunk","codeIndented","afterPrefix","atBreak","furtherStart","codeText","tailExitIndex","headEnterIndex","between","SpliceBuffer","RangeError","setCursor","deleteCount","trunc","removed","chunkedPush","pushMany","unshiftMany","subtokenize","eventsArray","jumps","lineIndex","otherIndex","otherEvent","subevents","more","_isInFirstContentOfListItem","subcontent","eventIndex","startPosition","startPositions","tokenizer","childEvents","gaps","adjust","breaks","_gfmTasklistFirstContentOfListItem","chunkInside","contentEnd","continuationConstruct","contentContinue","prefixed","factoryDestination","literalType","literalMarkerType","rawType","stringType","balance","enclosedBefore","raw","enclosed","enclosedEscape","rawEscape","factoryLabel","markerType","labelInside","labelEscape","factoryTitle","escape","factoryWhitespace","identifier","labelAfter","markerAfter","destinationBefore","destinationAfter","titleBefore","afterWhitespace","beforeMarker","titleAfter","titleAfterOptionalWhitespace","hardBreakEscape","headingAtx","sequenceFurther","htmlBlockNames","htmlRawNames","htmlFlow","resolveTo","closingTag","buffer","markerB","declarationOpen","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","slash","basicSelfClosing","completeClosingTagAfter","completeAttributeNameBefore","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCdataInside","continuationStart","blankLineBefore","continuationAfter","nonLazyContinuationStart","continuationStartNonLazy","continuationBefore","continuationRawEndTag","htmlText","returnState","instruction","tagOpen","commentEnd","commentClose","lineEndingBefore","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","lineEndingAfter","lineEndingAfterPrefix","labelEnd","newEvents","_inactive","_balanced","labelStart","labelEndNok","resourceConstruct","labelEndOk","referenceFullConstruct","referenceNotFull","referenceCollapsedConstruct","resourceBefore","resourceOpen","resourceEnd","resourceDestinationAfter","resourceDestinationMissing","resourceBetween","resourceTitleAfter","referenceFullAfter","referenceFullMissing","referenceCollapsedOpen","labelStartImage","labelStartLink","lineEnding","thematicBreak","sequence","furtherBlankLines","initialBlankLine","notInCurrentItem","indentConstruct","initialSize","atMarker","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","setextUnderline","heading","paragraph","flowInitial","afterConstruct","createResolver","initializeFactory","field","resolveAllLineSuffixes","notText","extraResolver","chunks","tabs","bufferIndex","chunk","_index","resolveText","createTokenizer","initialize","columnStart","resolveAllConstructs","constructFactory","construct","onsuccessfulcheck","fields","expandTabs","atTab","serializeChunks","addResult","startIndex","startBufferIndex","endIndex","endBufferIndex","view","sliceChunks","main","chunkIndex","go","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleMapOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","store","accountForPotentialSkip","extensions","defaultConstructs","search","characterEscapeOrReference","decode","$2","fromMarkdown","encoding","canContainEols","opener","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeTextData","codeFlowValue","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreak","hardBreakTrailing","htmlFlowData","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","strong","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcharacterreference","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","configure","mdastExtensions","compile","tokenStack","listStack","prepareList","defaultOnError","firstBlankLineIndex","containerBalance","listSpread","tailIndex","tailEvent","_spread","and","errorHandler","onExitError","expectingFirstListItemValue","flowCodeInside","setextHeadingSlurpLineEnding","codePointAt","siblings","atHardBreak","inReference","referenceType","ancestor","decodeString","fragment","characterReferenceType","ordered","spread","compiler","postprocess","atCarriageReturn","endPosition","TextDecoder","lastIndex","ceil","preprocess","remarkParse","doc","revert","subtype","suffix","contents","listItemLoose","trimLines","trimLine","blockquote","patch","applyData","footnoteReference","clobberPrefix","safeId","footnoteOrder","counter","reuseCounter","footnoteCounts","dataFootnoteRef","sup","allowDangerousHtml","imageReference","definitionById","inlineCode","linkReference","loose","listLoose","firstRow","tableContent","tableCell","tableRow","cellIndex","cells","cell","toml","ignore","yaml","footnoteDefinition","env","globalThis","deserialize","serialized","$","out","unpair","flags","BigInt","deserializer","EMPTY","asString","TYPE","serialize","json","lossy","pair","valueOf","toJSON","toISOString","serializer","structuredClone$1","structuredClone","defaultFootnoteBackContent","rereferenceIndex","defaultFootnoteBackLabel","referenceIndex","convert","castFactory","tests","anyFactory","checkAsRecord","nodeAsRecord","propsFactory","typeFactory","testFunction","looksLikeANode","CONTINUE","EXIT","visitParents","visitor","factory","parents","visit","subresult","grandparents","toResult","nodeAsParent","testOrVisitor","visitorOrReverse","maybeReverse","hName","hChildren","hProperties","defaultUnknownHandler","trimMarkdownSpaceStart","toHast","footnoteById","defaultHandlers","handle","passThrough","shallow","unknownHandler","foot","footnoteBackContent","footnoteBackLabel","footnoteLabel","footnoteLabelTagName","footnoteLabelProperties","listItems","backReferences","counts","dataFootnoteBackref","tailTail","dataFootnotes","footer","remarkRehype","destination","hastTree","run","bail","hasOwn","toStr","gOPD","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","enumerable","configurable","writable","getProperty","extend","copy","copyIsArray","clone","deep","getPrototypeOf","toStringTag","trough","fns","pipeline","middlewareIndex","middleware","wrapped","fnExpectsCallback","middelware","minpath","basename","extname","assertPath","seenNonSlash","firstNonSlashEnd","extnameIndex","dirname","unmatchedSlash","startPart","startDot","preDotState","segments","joined","assertPath$1","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","sep","minproc","cwd","isUrl","fileUrlOrPath","protocol","auth","urlToPath","URL","hostname","third","decodeURIComponent","getPathFromURLPosix","VFile","isUint8Array","messages","stored","assertNonEmpty","assertPart","stem","fail","part","CallableInstance","proto","setPrototypeOf","Processor","Compiler","Parser","attachers","freezeIndex","frozen","namespace","attacher","assertUnfrozen","freeze","realFile","vfile","assertParser","assertCompiler","executor","parseTree","realDone","compileTree","compileResult","processSync","assertDone","assertNode","outputTree","resultingTree","runSync","addPlugin","addList","addPreset","plugin","plugins","entryIndex","primary","currentPrimary","isPlainObj","unified","asyncName","looksLikeAVFile","emptyPlugins","emptyRemarkRehypeOptions","safeProtocol","deprecations","Markdown","allowedElements","allowElement","disallowedElements","rehypePlugins","remarkPlugins","remarkRehypeOptions","skipHtml","unwrapDisallowed","urlTransform","defaultUrlTransform","processor","deprecation","mdastTree","colon","questionMark","numberSign","ArticlePage","useParams","setContent","fetch","response","isVideoArticle","ReactMarkdown","ArticlesPage","FloatingWhatsAppButton","programSteps","period","bonusFeatures","Offre","stepIndex","bonus","featureIndex","AuthContext","useAuth","AuthProvider","currentUser","setCurrentUser","setLoading","onAuthStateChanged","user","signIn","email","password","signInWithEmailAndPassword","signOut","firebaseSignOut","Login","setEmail","setPassword","setError","navigate","useNavigate","preventDefault","Dashboard","setArticles","loadArticles","articleService","getAllArticles","published","updateArticle","handleTogglePublish","confirm","deleteArticle","handleDeleteArticle","_listCacheClear","__data__","eq_1","eq","_assocIndexOf","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","_ListCache","_stackClear","_stackDelete","_stackGet","_stackHas","_freeGlobal","global","freeGlobal","freeSelf","_root","Function","_Symbol","objectProto","nativeObjectToString","symToStringTag","_getRawTag","isOwn","unmasked","getRawTag","require$$1","objectToString","_baseGetTag","isObject_1","baseGetTag","isObject","uid","isFunction_1","coreJsData","maskSrcKey","IE_PROTO","_isMasked","funcToString","_toSource","isFunction","isMasked","require$$2","toSource","require$$3","reIsHostCtor","funcProto","reIsNative","baseIsNative","_getNative","_Map","_nativeCreate","nativeCreate","_hashClear","_hashDelete","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","isKeyable","_getMapData","getMapData","mapCacheClear","hash","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","_MapCache","stackClear","stackDelete","stackGet","stackHas","require$$4","stackSet","pairs","LARGE_ARRAY_SIZE","Stack","_Stack","setCacheAdd","setCacheHas","SetCache","arraySome","predicate","cacheHas","_equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","Uint8Array","equalArrays","mapToArray","setToArray","symbolProto","symbolValueOf","_equalByTag","byteLength","byteOffset","stacked","_arrayPush","isArray_1","arrayPush","_baseGetAllKeys","keysFunc","symbolsFunc","arrayFilter","resIndex","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","_getSymbols","symbol","_baseTimes","iteratee","isObjectLike_1","isObjectLike","stubFalse","freeExports","freeModule","Buffer","isBuffer","baseIsArguments","isArguments_1","exports","nodeType","module","reIsUint","_isIndex","isLength_1","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","nodeUtil","binding","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseTimes","isArguments","isIndex","require$$5","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_isPrototype","Ctor","_overArg","arg","nativeKeys","isPrototype","arrayLikeKeys","baseKeys","isArrayLike","baseGetAllKeys","getSymbols","getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","DataView","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","equalByTag","equalObjects","require$$7","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqual","baseIsEqual","isEqual_1","modules","installedModules","__webpack_require__","moduleId","l","s","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","query","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","extendStatics","__extends","__proto__","__","ParchmentError","_super","_this","tags","ANY","Node","TEXT_NODE","LEVEL","BLOCK","INLINE","names","DATA_KEY","BlotClass","bubble","blot","parentNode","Definitions","_i","Definition","blotName","attrName","keyName","diff","equal","op","NULL_CHARACTER","Delta","ops","insert","newOp","retain","lastOp","chop","partition","passed","failed","changeLength","elem","iter","hasNext","nextOp","compose","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","thisOp","otherOp","strings","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","priority","transformPosition","nextType","BlockEmbed","bubbleFormats","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_get","receiver","desc","_extend2","_interopRequireDefault","_quillDelta2","_parchment2","_break2","_inline2","_text2","_classCallCheck","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_Parchment$Embed","domNode","formats","BLOCK_ATTRIBUTE","def","block","insertBefore","insertAt","BLOCK_BLOT","_Parchment$Block","_this2","descendants","leaf","force","statics","defaultChild","allowedChildren","overload","expandConfig","_typeof","_slicedToArray","_arr","_n","_d","_e","_s","sliceIterator","_editor2","_emitter4","_module2","_selection","_selection2","_logger2","_theme2","_defineProperty","debug","Quill","__quill","addContainer","scrollingContainer","emitter","whitelist","editor","selection","keyboard","addModule","clipboard","EDITOR_CHANGE","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","mutations","range","lastRange","modify","setContents","level","imports","overwrite","warn","refNode","setRange","_this3","_overload","_overload2","deleteText","enable","enabled","scrollIntoView","_this4","sources","API","getSelection","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","bounds","getBounds","containerBounds","getLength","_overload7","_overload8","getContents","getFormat","MAX_VALUE","getRange","_overload9","_overload10","getText","hasFocus","embed","_this7","insertEmbed","_this8","_overload11","_overload12","insertText","contains","off","dangerouslyPasteHTML","_this9","_overload13","_overload14","removeFormat","_this10","deleted","applied","applyDelta","_overload15","_overload16","Range","USER","_this11","userConfig","DEFAULTS","import","themeConfig","moduleConfig","moduleClass","toolbar","querySelector","oldDelta","shiftRange","_emitter","_emitter2","emit","_map","_map2","_map3","_map4","parchment","_Parchment$Inline","compare","BLOT","isolate","moveChildren","selfIndex","_parchment","TextBlot","_Parchment$Text","_eventemitter2","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","_len2","_key2","_ref","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","_console","console","ns","logger","bind","newLevel","pSlice","objectKeys","deepEqual","opts","getTime","isUndefinedOrNull","ka","kb","objEquiv","attributeBit","ATTRIBUTE","canAdd","removeAttribute","Code","_block2","_Inline","CodeBlock","_Block","frag","_descendant","descendant","deleteAt","nextNewline","newlineIndex","prevNewline","isolateLength","formatAt","_descendant3","_descendant4","searchIndex","optimize","unwrap","TAB","_op2","_code2","_cursor2","_block","_clone2","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","bullet","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","cursorIndex","textBlot","oldValue","CONTENTS","oldText","newText","merged","_toConsumableArray","arr2","Selection","composing","mouseDown","savedRange","handleComposition","handleDragging","listenDOM","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","endNode","endOffset","_format","nativeRange","collapsed","_scroll$leaf","_scroll$leaf2","_leaf$position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","rangeCount","getRangeAt","normalizeNative","normalized","normalizedToRange","activeElement","positions","_position","startContainer","endContainer","childNodes","lastChild","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","scrollBounds","removeAllRanges","addRange","rangeToNative","oldRange","_getRange","_getRange2","Break","linked_list_1","shadow_1","ContainerBlot","makeBlot","forEachAt","criteria","lengthLeft","detach","childBlot","refBlot","insertInto","targetParent","inclusive","addedNodes","removedNodes","mutation","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","nativeSet","nativePromise","circular","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","__isArray","__isRegExp","__getRegExpFlags","__isDate","allocUnsafe","keyChild","valueChild","entryChild","symbols","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","ignoreCase","multiline","clonePrototype","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_newlineIndex","getLines","takeRecords","SHORTKEY","_quill2","platform","Keyboard","_Module","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","BACKSPACE","handleBackspace","handleDelete","handleDeleteRange","listen","evt","which","keyCode","defaultPrevented","_quill$getLine","getLine","_quill$getLine2","_quill$getLeaf","getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","makeEmbedArrowHandler","_ref3","where","LEFT","RIGHT","_quill$getLeaf3","_quill$getLine11","_quill$getLine13","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine17","nextFormats","firstFormats","lastFormats","lineFormats","makeCodeBlockHandler","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","getIndex","makeFormatHandler","shortKey","ESCAPE","UP","DOWN","bold","italic","underline","outdent","tab","cutoff","updateContents","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","_inline","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","_keyboard2","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","buildPicker","togglePicker","option","hasAttribute","selectItem","buildItem","buildLabel","buildOptions","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","_embed2","_scroll2","_clipboard2","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","attr","ClassAttributor","camelize","parts","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","center","clean","rtl","full","formula","script","sub","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","undo","redo","dest","changeDelta","undoDelta","maxStack","deleteLength","changeIndex","endsWithNewlineChange","BaseTooltip","_colorPicker2","_iconPicker2","_picker2","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","tooltip","textbox","pickers","picker","extendToolbar","buttons","icons","selects","fillSelect","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","_Tooltip","boundsContainer","save","preview","linkRange","restoreFocus","LinkedList","append","cur","curNode","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","ScrollBlot","MutationObserver","disconnect","records","markParent","previousSibling","grandChild","InlineBlot","isEqual","obj1","obj2","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","searchString","subjectString","isFinite","thisArg","execCommand","DIFF_DELETE","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","longtext","shorttext","hm","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","j","best_common","prefixLength","text1_a","text1_b","text2_a","text2_b","hm1","hm2","mid_common","diff_halfMatch_","diffs_a","diffs_b","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1_offset","k2_offset","diff_bisectSplit_","diff_bisect_","diff_compute_","diff_cleanupMerge","norm","current_pos","next_pos","split_pos","d_left","d_right","cursor_normalize_diff","ndiffs","cursor_pointer","d_next","merge_tuples","fix_cursor","starts_with_pair_end","ends_with_pair_start","fixed_diffs","fix_emoji","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","pointer","count_delete","count_insert","text_delete","text_insert","changes","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","Events","EE","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a3","a4","a5","len","removeListener","removeAllListeners","setMaxListeners","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","deltaEndsWith","ELEMENT_NODE","computeStyle","applyFormat","textIndent","matchAlias","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","paste","_pair","endText","childrenDelta","nextElementSibling","nodeHeight","whiteSpace","collapse","Bold","addControls","Toolbar","_ret","addHandler","_this$quill$selection","_quill$selection$getR","addButton","groups","control","addSelect","_picker","ColorPicker","_Picker","colorLabel","IconPicker","defaultItem","Tooltip","TEMPLATE","rootBounds","verticalShift","_base","_base2","_link2","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","buildButtons","buildPickers","SnowTooltip","_BaseTooltip","_core2","_indent","_blockquote2","_header2","_list","_list2","_bold2","_italic2","_script2","_strike2","_underline2","_image2","_video2","_code","_formula2","_syntax2","_toolbar2","_bubble2","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","List","_Container","listEventHandler","_bold","Italic","_Bold","Script","Strike","Underline","_link","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","_highlight","cachedText","Syntax","highlight","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","__assign","__spreadArrays","il","jl","react_1","react_dom_1","quill_1","postpone","ReactQuill","dirtyProps","cleanProps","generation","onEditorChange","rangeOrDelta","oldRangeOrDelta","_c","onEditorChangeText","unprivilegedEditor","onEditorChangeSelection","isControlled","validateProps","lastDeltaChangeSet","shouldComponentUpdate","nextProps","nextState","prevContents","getEditorContents","nextContents","isEqualValue","setEditorContents","setEditorReadOnly","shouldComponentRegenerate","instantiateEditor","destroyEditor","prevState","regenerationSnapshot","setState","selection_1","editor_1","setEditorSelection","hookEditor","createEditor","getEditingArea","getEditorConfig","unhookEditor","getEditor","setEditorTabIndex","makeUnprivilegedEditor","getEditorSelection","isDelta","sel","length_1","getHTML","editingArea","findDOMNode","renderEditingArea","preserveWhitespace","nextSelection","_f","currentSelection","hasGainedFocus","hasLostFocus","onChangeSelection","defaultProps","isFrozen","seal","Reflect","fun","thisValue","Func","arrayForEach","unapply","arrayPop","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","addToSet","transformCaseFunc","lcElement","cleanArray","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","purify","createDOMPurify","DOMPurify","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","getNextSibling","getChildNodes","getParentNode","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","ATTR_NAME","policyName","scriptUrl","_createTrustedTypesPolicy","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","namespaceURI","hasChildNodes","_isNode","_executeHooks","currentNode","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","childClone","__removalCount","parentTagName","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrValue","keepAttr","allowedAttributes","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","importedNode","returnNode","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks","ArticleView","isPreview","imageUrl","dangerouslySetInnerHTML","__html","ArticlePreview","mediaService","uploadFile","storageRef","storage","uploadBytes","getDownloadURL","uploadedAt","getFiles","folder","folderRef","listAll","metadata","getMetadata","fullPath","timeCreated","deleteFile","fileRef","deleteObject","generateFileName","formatFileSize","bytes","toFixed","MediaManager","showInModal","setFiles","uploadProgress","setUploadProgress","selectedFile","setSelectedFile","loadFiles","mediaFiles","uploadedFiles","mediaFile","newProgress","handleSelect","INITIAL_ARTICLE","CATEGORIES","ArticleEditor","setArticle","imageFile","setImageFile","tagInput","setTagInput","showPreview","setShowPreview","showMediaManager","setShowMediaManager","loadArticle","articleId","foundArticle","cat","handleTagRemove","tagToRemove","generateSlug","uploadImage","createArticle","img","ProtectedRoute","Navigate","HomePage","App","Router","Routes","Route","CategoryManager","CommentModeration","StatsDashboard","AdvancedSearch","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501]}